{
  "data": [
    {
      "id": "AD_3665261_17686003002410",
      "type": "feed_advert",
      "brief": "{\"source\":\"PR\",\"type\":\"feed_advert\",\"id\":3665261}",
      "action_text": "",
      "attached_info": "CqgBCO7U/Yr8vOSInQFATpABAdoBJDk1NjgyYWFlLTExMzctNDJiMS1iZjVjLTk3N2QzYmM5ZmIxM/IBBggMEgJBZIgC0dWrxrwz+gILQURWRVJUX0ZMT1eKAyA2NmYyOTdhMGIwYzY0Y2IyOWJmNTFhOTViMGI3MjBlNoAEAZIEC0J1c2luZXNzX0Fk+QQAAAAAAADwP4EFAAAAAAAAOUCyBQExoAZPqAYBMhQtNzEyODc1NjMxMDU4MzA1NTc2Mg==",
      "ad": {
        "count": 0,
        "position": 0,
        "ad_verb": "PROMOTE_URL_CARD",
        "close_track": "https://sugar.zhihu.com/plutus_adreaper?s=d352f05c-43c5-4b47-9f9b-a8ae4be7a384&di=tower&qpw=0&qetl=0&pf=4&ut=075acd00a0774b9d9d2a3786e8226e3a&ar=0.0015419141855090857&nt=0&pdi=1744774109564729&idi=100010062&qpt=0&t=7&ed=CjEEfR4wM30tRGFUV2kvCUZ2DylZbm4lfhJ_X1VhdR1YfAB_CHVjc38UZlMXMTYNXGNYI1x-aXZ4EGBRAHY8WVZ3D3wBc2twaEY7WgJmfgFbcghsWzdncmhGPVoAZmIEW3cNfwp3bHh2EmBXBnYuQFZ3CXoIZTY1cxBgXwZhfwleY0wjBXFucHcfagYANXYGCHAKcAB7O3B0RjEDA2ovAFtyAy8Pe2p6ehI3URckPw1acg9yDnNqcnccdAZGbXwWCC0Eeh4iL315FWFfAmhqQAosBHoeNykvcxR0BEFtfgVbdR8lWzBncWhKMQAMZGpWCjYEeh4lOzJzFXQKUiJxAE0wTCNcfmt3ehFlUAVhfAlecw19Cnp8ISdGb1cXJDkNAzFNOktmaQFrFxRCAxYlXQprSDsWIDUtaxcUA14nIlwEJF1vCgV_cwhSNwV3IiNdTnZ9ewhzanB6FmdCA2YvWAorVy9UZmkEfxViVwFkfwVOdw8pWmZpBBF6ESZ9HA5xKA5mFR4zNH0nSDNBQzVxAl5rC3MJcm10fxZqXwhifwdNN1o4BXN8IigYY0FePilZD3gJbEw3Zyh7UCALFyI_DVtjWiJMfmrcy_L8cFd6Ew%3D%3D",
        "revert_close_track": "https://sugar.zhihu.com/plutus_adreaper?qpt=0&t=8&ar=0.0015419141855090857&pdi=1744774109564729&ed=CjEEch4wM30tRGFUV2kvCUZ2DylZbm4lfhJ_X1VhdR1YfAB_CHVjc38UZlMXMTYNXGNYI1x-aXZ4EGBRAHY8WVZ3D3wBc2twaEY7WgJmfgFbcghsWzdncmhGPVoAZmIEW3cNfwp3bHh2EmBXBnYuQFZ3CXoIZTY1cxBgXwZhfwleY0wjBXFucHcfagYANXYGCHAKcAB7O3B0RjEDA2ovAFtyAy8Pe2p6ehI3URckPw1acg9yDnNqcnccdAZGbXwWCC0Eeh4iL315FWFfAmhqQAosBHoeNykvcxR0BEFtfgVbdR8lWzBncWhKMQAMZGpWCjYEeh4lOzJzFXQKUiJxAE0wTCNcfmt3ehFlUAVhfAlecw19Cnp8ISdGb1cXJDkNAzFNOktmaQFrFxRCAxYlXQprSDsWIDUtaxcUA14nIlwEJF1vCgV_cwhSNwV3IiNdTnZ9ewhzanB6FmdCA2YvWAorVy9UZmkEfxViVwFkfwVOdw8pWmZpBBF6ESZ9HA5xKA5mFR4zNH0nSDNBQzVxAl5rC3MJcm10fxZqXwhifwdNN1o4BXN8IigYY0FePilZD3gJbEw3Zyh7UCALFyI_DVtjWiJMfmq4BuIamXOOlw%3D%3D&pf=4&qetl=0&s=d352f05c-43c5-4b47-9f9b-a8ae4be7a384&qpw=0&ut=075acd00a0774b9d9d2a3786e8226e3a&nt=0&di=tower&idi=100010062",
        "template": "web_image_feed",
        "load_tracks": [
          "https://sugar.zhihu.com/plutus_adreaper?qetl=0&s=d352f05c-43c5-4b47-9f9b-a8ae4be7a384&ut=075acd00a0774b9d9d2a3786e8226e3a&nt=0&ar=0.0015419141855090857&di=tower&pf=4&qpw=0&idi=100010062&pdi=1744774109564729&ed=CjEEeB4wM30tRGFUV2kvCUZ2DylZbm4lfhJ_X1VhdR1YfAB_CHVjc38UZlMXMTYNXGNYI1x-aXZ4EGBRAHY8WVZ3D3wBc2twaEY7WgJmfgFbcghsWzdncmhGPVoAZmIEW3cNfwp3bHh2EmBXBnYuQFZ3CXoIZTY1cxBgXwZhfwleY0wjBXFucHcfagYANXYGCHAKcAB7O3B0RjEDA2ovAFtyAy8Pe2p6ehI3URckPw1acg9yDnNqcnccdAZGbXwWCC0Eeh4iL315FWFfAmhqQAosBHoeNykvcxR0BEFtfgVbdR8lWzBncWhKMQAMZGpWCjYEeh4lOzJzFXQKUiJxAE0wTCNcfmt3ehFlUAVhfAlecw19Cnp8ISdGb1cXJDkNAzFNOktmaQFrFxRCAxYlXQprSDsWIDUtaxcUA14nIlwEJF1vCgV_cwhSNwV3IiNdTnZ9ewhzanB6FmdCA2YvWAorVy9UZmkEfxViVwFkfwVOdw8pWmZpBBF6ESZ9HA5xKA5mFR4zNH0nSDNBQzVxAl5rC3MJcm10fxZqXwhifwdNN1o4BXN8IigYY0FePilZD3gJbEw3Zyh7UCALFyI_DVtjWiJMfmo0vT1G3VGdCQ%3D%3D&qpt=0&t=2"
        ],
        "creatives": [
          {
            "landing_url": "https://ima.qq.com/download/?webFrom=10000435&channel=10000435&cb=https%3A%2F%2Fsugar.zhihu.com%2Fplutus_adreaper_callback%3Fsi%3Dca33f9c9-36ca-4e07-8d19-399506931144%26os%3D3%26zid%3D7%26zaid%3D3665261%26zcid%3D3621071%26cid%3D3621071%26event%3D__EVENTTYPE__%26value%3D__EVENTVALUE__%26ts%3D__TIMESTAMP__%26cts%3D__TS__%26mh%3D0d4c67703d44506b579057ff6733c754%26adv%3D703838%26ocg%3D4%26cp%3D2500%26ocs%3D1%26aic%3D0%26ct%3D2%26ed%3DGiBNJgVzfCMmUW9XIVDVNQZREwA%3D&spu=biz%3D0%26ci%3D3621071%26si%3D95682aae-1137-42b1-bf5c-977d3bc9fb13%26ts%3D1768600299%26zid%3D7",
            "image": "https://picx.zhimg.com/v2-f65722ce25c730a95fcdabe66f285b94_bh.jpg?source=d6434cab",
            "image_2x": "",
            "title": "多知识任务还在排队做？腾讯ima同步处理省时间",
            "description": "微信文件一键转存至腾讯ima知识库，让你想用的时候随时都能用，还能对知识库里的文件进行深层次解析哦",
            "button": "查看详情",
            "action_button": false,
            "footer": {
              "value": ""
            },
            "cta": {
              "value": "查看详情"
            },
            "brand": {
              "id": 0,
              "name": "ima",
              "logo": "https://pic3.zhimg.com/v2-6bcab51aab5519d3e668f35b0a210fc3_xl.jpg?source=d6434cab"
            },
            "app_promotion_url": "",
            "native_url": "",
            "deep_url": "",
            "video_watch_num": 20619,
            "za_ad_info": "CO3a3wEQByIBMV1m1dJOYM+B3QE=",
            "za_ad_info_json": "{\"ad_id\":3665261,\"ad_zone_id\":7,\"category\":\"1\",\"timestamp\":1768600300,\"creative_id\":3621071}",
            "external_click_url": "",
            "impression_tracks": [
              "https://sugar.zhihu.com/plutus_adreaper?qetl=0&di=tower&idi=100010062&pdi=1744774109564729&ed=CjEEeR4wM30tRGFUV2kvCUZ2DylZbm4lfhJ_X1VhdR1YfAB_CHVjc38UZlMXMTYNXGNYI1x-aXZ4EGBRAHY8WVZ3D3wBc2twaEY7WgJmfgFbcghsWzdncmhGPVoAZmIEW3cNfwp3bHh2EmBXBnYuQFZ3CXoIZTY1cxBgXwZhfwleY0wjBXFucHcfagYANXYGCHAKcAB7O3B0RjEDA2ovAFtyAy8Pe2p6ehI3URckPw1acg9yDnNqcnccdAZGbXwWCC0Eeh4iL315FWFfAmhqQAosBHoeNykvcxR0BEFtfgVbdR8lWzBncWhKMQAMZGpWCjYEeh4lOzJzFXQKUiJxAE0wTCNcfmt3ehFlUAVhfAlecw19Cnp8ISdGb1cXJDkNAzFNOktmaQFrFxRCAxYlXQprSDsWIDUtaxcUA14nIlwEJF1vCgV_cwhSNwV3IiNdTnZ9ewhzanB6FmdCA2YvWAorVy9UZmkEfxViVwFkfwVOdw8pWmZpBBF6ESZ9HA5xKA5mFR4zNH0nSDNBQzVxAl5rC3MJcm10fxZqXwhifwdNN1o4BXN8IigYY0FePilZD3gJbEw3Zyh7UCALFyI_DVtjWiJMfmrjo9dwjhw_JQ%3D%3D&qpt=0&s=d352f05c-43c5-4b47-9f9b-a8ae4be7a384&rui=95682aae-1137-42b1-bf5c-977d3bc9fb13&qpw=0&nt=0&pf=4&ar=0.0015419141855090857&t=3&ut=075acd00a0774b9d9d2a3786e8226e3a"
            ],
            "click_tracks": [
              "https://sugar.zhihu.com/plutus_adreaper?s=d352f05c-43c5-4b47-9f9b-a8ae4be7a384&qpw=0&ed=CjEEfh4wM30tRGFUV2kvCUZ2DylZbm4lfhJ_X1VhdR1YfAB_CHVjc38UZlMXMTYNXGNYI1x-aXZ4EGBRAHY8WVZ3D3wBc2twaEY7WgJmfgFbcghsWzdncmhGPVoAZmIEW3cNfwp3bHh2EmBXBnYuQFZ3CXoIZTY1cxBgXwZhfwleY0wjBXFucHcfagYANXYGCHAKcAB7O3B0RjEDA2ovAFtyAy8Pe2p6ehI3URckPw1acg9yDnNqcnccdAZGbXwWCC0Eeh4iL315FWFfAmhqQAosBHoeNykvcxR0BEFtfgVbdR8lWzBncWhKMQAMZGpWCjYEeh4lOzJzFXQKUiJxAE0wTCNcfmt3ehFlUAVhfAlecw19Cnp8ISdGb1cXJDkNAzFNOktmaQFrFxRCAxYlXQprSDsWIDUtaxcUA14nIlwEJF1vCgV_cwhSNwV3IiNdTnZ9ewhzanB6FmdCA2YvWAorVy9UZmkEfxViVwFkfwVOdw8pWmZpBBF6ESZ9HA5xKA5mFR4zNH0nSDNBQzVxAl5rC3MJcm10fxZqXwhifwdNN1o4BXN8IigYY0FePilZD3gJbEw3Zyh7UCALFyI_DVtjWiJMfmq0AMXP_wtjdQ%3D%3D&t=4&di=tower&nt=0&idi=100010062&ar=0.0015419141855090857&pf=4&pdi=1744774109564729&qpt=0&qetl=0&ut=075acd00a0774b9d9d2a3786e8226e3a"
            ],
            "id": 3665261,
            "name": "",
            "conversion_tracks": [
              "https://sugar.zhihu.com/plutus_adreaper?ar=0.0015419141855090857&idi=100010062&ut=075acd00a0774b9d9d2a3786e8226e3a&pf=4&ed=CjEEfx4wM30tRGFUV2kvCUZ2DylZbm4lfhJ_X1VhdR1YfAB_CHVjc38UZlMXMTYNXGNYI1x-aXZ4EGBRAHY8WVZ3D3wBc2twaEY7WgJmfgFbcghsWzdncmhGPVoAZmIEW3cNfwp3bHh2EmBXBnYuQFZ3CXoIZTY1cxBgXwZhfwleY0wjBXFucHcfagYANXYGCHAKcAB7O3B0RjEDA2ovAFtyAy8Pe2p6ehI3URckPw1acg9yDnNqcnccdAZGbXwWCC0Eeh4iL315FWFfAmhqQAosBHoeNykvcxR0BEFtfgVbdR8lWzBncWhKMQAMZGpWCjYEeh4lOzJzFXQKUiJxAE0wTCNcfmt3ehFlUAVhfAlecw19Cnp8ISdGb1cXJDkNAzFNOktmaQFrFxRCAxYlXQprSDsWIDUtaxcUA14nIlwEJF1vCgV_cwhSNwV3IiNdTnZ9ewhzanB6FmdCA2YvWAorVy9UZmkEfxViVwFkfwVOdw8pWmZpBBF6ESZ9HA5xKA5mFR4zNH0nSDNBQzVxAl5rC3MJcm10fxZqXwhifwdNN1o4BXN8IigYY0FePilZD3gJbEw3Zyh7UCALFyI_DVtjWiJMfmpRJuJyyghoeg%3D%3D&s=d352f05c-43c5-4b47-9f9b-a8ae4be7a384&qpw=0&di=tower&qpt=0&pdi=1744774109564729&nt=0&t=5&qetl=0"
            ],
            "content_type": "",
            "target_token": ""
          }
        ],
        "vote_up_count": 0,
        "comment_count": 0,
        "is_following": false,
        "category": 1,
        "id": 3665261,
        "can_interact": false,
        "user_id": 0,
        "ctr": 0,
        "display_advertising_tag": true,
        "debug_tracks": [
          "https://sugar.zhihu.com/plutus_adreaper?ed=CjEEcx4wM30tRGFUV2kvCUZ2DylZbm4lfhJ_X1VhdR1YfAB_CHVjc38UZlMXMTYNXGNYI1x-aXZ4EGBRAHY8WVZ3D3wBc2twaEY7WgJmfgFbcghsWzdncmhGPVoAZmIEW3cNfwp3bHh2EmBXBnYuQFZ3CXoIZTY1cxBgXwZhfwleY0wjBXFucHcfagYANXYGCHAKcAB7O3B0RjEDA2ovAFtyAy8Pe2p6ehI3URckPw1acg9yDnNqcnccdAZGbXwWCC0Eeh4iL315FWFfAmhqQAosBHoeNykvcxR0BEFtfgVbdR8lWzBncWhKMQAMZGpWCjYEeh4lOzJzFXQKUiJxAE0wTCNcfmt3ehFlUAVhfAlecw19Cnp8ISdGb1cXJDkNAzFNOktmaQFrFxRCAxYlXQprSDsWIDUtaxcUA14nIlwEJF1vCgV_cwhSNwV3IiNdTnZ9ewhzanB6FmdCA2YvWAorVy9UZmkEfxViVwFkfwVOdw8pWmZpBBF6ESZ9HA5xKA5mFR4zNH0nSDNBQzVxAl5rC3MJcm10fxZqXwhifwdNN1o4BXN8IigYY0FePilZD3gJbEw3Zyh7UCALFyI_DVtjWiJMfmqSPuKvFuQCMg%3D%3D&qpt=0&pf=4&pdi=1744774109564729&nt=0&ut=075acd00a0774b9d9d2a3786e8226e3a&qetl=0&ar=0.0015419141855090857&s=d352f05c-43c5-4b47-9f9b-a8ae4be7a384&qpw=0&di=tower&idi=100010062&t=9"
        ],
        "land_prefetch": false,
        "native_prefetch": true,
        "is_new_webview": true,
        "experiment_info": "{}",
        "download_silent": false,
        "is_speeding": false,
        "brand": {
          "name": "ima",
          "logo": "https://pic3.zhimg.com/v2-6bcab51aab5519d3e668f35b0a210fc3_xl.jpg?source=d6434cab",
          "type": "brand",
          "action_text": ""
        }
      },
      "ad_list": [],
      "adjson": "{\"ads\":[{\"id\":3665261,\"ad_zone_id\":7,\"template\":\"web_image_feed\",\"style\":\"psi_7\",\"impression_tracks\":[\"https://sugar.zhihu.com/plutus_adreaper?t=2\\u0026s=f71ae6eb-45d9-4382-8374-f6619dcef8ac\\u0026di=tower\\u0026nt=0\\u0026ed=CjEEeB4wM30tRGFUV2kvCUZ2DylZbm4lfhJ_X1VhdR1YfAB_CHVjc38UZlMXMTYNXGNYI1x-aXZ4EGBRAHY8WVZ3D3wBc2twaEY7WgJmfgFbcghsWzdncmhGPVoAZmIEW3cNfwp3bHh2EmBXBnYuQFZ3CXoIZTY1cxBgXwZhfwleY0wjBXFucHcfagYANXYGCHAKcAB7O3B0RjEDA2ovAFtyAy8Pe2p6ehI3URckPw1acg9yDnNqcnccdAZGbXwWCC0Eeh4iL315FWFfAmhqQAosBHoeNykvcxR0BEFtfgVbdR8lWzBncWhKMQAMZGpWCjYEeh4lOzJzFXQKUiJxAE0wTCNcfmt3ehFlUAVhfAlecw19Cnp8ISdGb1cXJDkNAzFNOktmaQFrFxRCAxYlXQprSDsWIDUtaxcUA14nIlwEJF1vCgV_cwhSNwV3IiNdTnZ9ewhzanB6FmdCA2YvWAorVy9UZmkEfxViVwFkfwVOdw8pWmZpBBF6ESZ9HA5xKA5mFR4zNH0nSDNBQzVxAl5rC3MJcm10fxZqXwhifwdNN1o4BXN8IigYY0FePilZD3gJbEw3Zyh7UCALFyI_DVtjWiJMfmo0vT1G3VGdCQ%3D%3D\\u0026qpt=0\\u0026qetl=0\\u0026idi=100010062\\u0026pf=4\\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\\u0026ar=0.0015419141855090857\\u0026pdi=1744774109564729\\u0026qpw=0\"],\"view_tracks\":[\"https://sugar.zhihu.com/plutus_adreaper?idi=100010062\\u0026s=f71ae6eb-45d9-4382-8374-f6619dcef8ac\\u0026ed=CjEEeR4wM30tRGFUV2kvCUZ2DylZbm4lfhJ_X1VhdR1YfAB_CHVjc38UZlMXMTYNXGNYI1x-aXZ4EGBRAHY8WVZ3D3wBc2twaEY7WgJmfgFbcghsWzdncmhGPVoAZmIEW3cNfwp3bHh2EmBXBnYuQFZ3CXoIZTY1cxBgXwZhfwleY0wjBXFucHcfagYANXYGCHAKcAB7O3B0RjEDA2ovAFtyAy8Pe2p6ehI3URckPw1acg9yDnNqcnccdAZGbXwWCC0Eeh4iL315FWFfAmhqQAosBHoeNykvcxR0BEFtfgVbdR8lWzBncWhKMQAMZGpWCjYEeh4lOzJzFXQKUiJxAE0wTCNcfmt3ehFlUAVhfAlecw19Cnp8ISdGb1cXJDkNAzFNOktmaQFrFxRCAxYlXQprSDsWIDUtaxcUA14nIlwEJF1vCgV_cwhSNwV3IiNdTnZ9ewhzanB6FmdCA2YvWAorVy9UZmkEfxViVwFkfwVOdw8pWmZpBBF6ESZ9HA5xKA5mFR4zNH0nSDNBQzVxAl5rC3MJcm10fxZqXwhifwdNN1o4BXN8IigYY0FePilZD3gJbEw3Zyh7UCALFyI_DVtjWiJMfmrjo9dwjhw_JQ%3D%3D\\u0026pf=4\\u0026qetl=0\\u0026nt=0\\u0026ar=0.0015419141855090857\\u0026t=3\\u0026qpt=0\\u0026rui=95682aae-1137-42b1-bf5c-977d3bc9fb13\\u0026qpw=0\\u0026di=tower\\u0026pdi=1744774109564729\\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\"],\"click_tracks\":[\"https://sugar.zhihu.com/plutus_adreaper?t=4\\u0026qpt=0\\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\\u0026s=f71ae6eb-45d9-4382-8374-f6619dcef8ac\\u0026idi=100010062\\u0026pdi=1744774109564729\\u0026qetl=0\\u0026ed=CjEEfh4wM30tRGFUV2kvCUZ2DylZbm4lfhJ_X1VhdR1YfAB_CHVjc38UZlMXMTYNXGNYI1x-aXZ4EGBRAHY8WVZ3D3wBc2twaEY7WgJmfgFbcghsWzdncmhGPVoAZmIEW3cNfwp3bHh2EmBXBnYuQFZ3CXoIZTY1cxBgXwZhfwleY0wjBXFucHcfagYANXYGCHAKcAB7O3B0RjEDA2ovAFtyAy8Pe2p6ehI3URckPw1acg9yDnNqcnccdAZGbXwWCC0Eeh4iL315FWFfAmhqQAosBHoeNykvcxR0BEFtfgVbdR8lWzBncWhKMQAMZGpWCjYEeh4lOzJzFXQKUiJxAE0wTCNcfmt3ehFlUAVhfAlecw19Cnp8ISdGb1cXJDkNAzFNOktmaQFrFxRCAxYlXQprSDsWIDUtaxcUA14nIlwEJF1vCgV_cwhSNwV3IiNdTnZ9ewhzanB6FmdCA2YvWAorVy9UZmkEfxViVwFkfwVOdw8pWmZpBBF6ESZ9HA5xKA5mFR4zNH0nSDNBQzVxAl5rC3MJcm10fxZqXwhifwdNN1o4BXN8IigYY0FePilZD3gJbEw3Zyh7UCALFyI_DVtjWiJMfmq0AMXP_wtjdQ%3D%3D\\u0026qpw=0\\u0026nt=0\\u0026pf=4\\u0026ar=0.0015419141855090857\\u0026di=tower\"],\"close_tracks\":[\"https://sugar.zhihu.com/plutus_adreaper?di=tower\\u0026ed=CjEEfR4wM30tRGFUV2kvCUZ2DylZbm4lfhJ_X1VhdR1YfAB_CHVjc38UZlMXMTYNXGNYI1x-aXZ4EGBRAHY8WVZ3D3wBc2twaEY7WgJmfgFbcghsWzdncmhGPVoAZmIEW3cNfwp3bHh2EmBXBnYuQFZ3CXoIZTY1cxBgXwZhfwleY0wjBXFucHcfagYANXYGCHAKcAB7O3B0RjEDA2ovAFtyAy8Pe2p6ehI3URckPw1acg9yDnNqcnccdAZGbXwWCC0Eeh4iL315FWFfAmhqQAosBHoeNykvcxR0BEFtfgVbdR8lWzBncWhKMQAMZGpWCjYEeh4lOzJzFXQKUiJxAE0wTCNcfmt3ehFlUAVhfAlecw19Cnp8ISdGb1cXJDkNAzFNOktmaQFrFxRCAxYlXQprSDsWIDUtaxcUA14nIlwEJF1vCgV_cwhSNwV3IiNdTnZ9ewhzanB6FmdCA2YvWAorVy9UZmkEfxViVwFkfwVOdw8pWmZpBBF6ESZ9HA5xKA5mFR4zNH0nSDNBQzVxAl5rC3MJcm10fxZqXwhifwdNN1o4BXN8IigYY0FePilZD3gJbEw3Zyh7UCALFyI_DVtjWiJMfmrcy_L8cFd6Ew%3D%3D\\u0026qetl=0\\u0026t=7\\u0026qpt=0\\u0026idi=100010062\\u0026nt=0\\u0026qpw=0\\u0026pdi=1744774109564729\\u0026ar=0.0015419141855090857\\u0026pf=4\\u0026s=f71ae6eb-45d9-4382-8374-f6619dcef8ac\\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\"],\"debug_tracks\":[\"https://sugar.zhihu.com/plutus_adreaper?qpw=0\\u0026t=9\\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\\u0026di=tower\\u0026idi=100010062\\u0026pf=4\\u0026nt=0\\u0026ar=0.0015419141855090857\\u0026qpt=0\\u0026s=f71ae6eb-45d9-4382-8374-f6619dcef8ac\\u0026pdi=1744774109564729\\u0026ed=CjEEcx4wM30tRGFUV2kvCUZ2DylZbm4lfhJ_X1VhdR1YfAB_CHVjc38UZlMXMTYNXGNYI1x-aXZ4EGBRAHY8WVZ3D3wBc2twaEY7WgJmfgFbcghsWzdncmhGPVoAZmIEW3cNfwp3bHh2EmBXBnYuQFZ3CXoIZTY1cxBgXwZhfwleY0wjBXFucHcfagYANXYGCHAKcAB7O3B0RjEDA2ovAFtyAy8Pe2p6ehI3URckPw1acg9yDnNqcnccdAZGbXwWCC0Eeh4iL315FWFfAmhqQAosBHoeNykvcxR0BEFtfgVbdR8lWzBncWhKMQAMZGpWCjYEeh4lOzJzFXQKUiJxAE0wTCNcfmt3ehFlUAVhfAlecw19Cnp8ISdGb1cXJDkNAzFNOktmaQFrFxRCAxYlXQprSDsWIDUtaxcUA14nIlwEJF1vCgV_cwhSNwV3IiNdTnZ9ewhzanB6FmdCA2YvWAorVy9UZmkEfxViVwFkfwVOdw8pWmZpBBF6ESZ9HA5xKA5mFR4zNH0nSDNBQzVxAl5rC3MJcm10fxZqXwhifwdNN1o4BXN8IigYY0FePilZD3gJbEw3Zyh7UCALFyI_DVtjWiJMfmqSPuKvFuQCMg%3D%3D\\u0026qetl=0\"],\"conversion_tracks\":[\"https://sugar.zhihu.com/plutus_adreaper?qpw=0\\u0026di=tower\\u0026ar=0.0015419141855090857\\u0026idi=100010062\\u0026qpt=0\\u0026qetl=0\\u0026pf=4\\u0026t=5\\u0026ed=CjEEfx4wM30tRGFUV2kvCUZ2DylZbm4lfhJ_X1VhdR1YfAB_CHVjc38UZlMXMTYNXGNYI1x-aXZ4EGBRAHY8WVZ3D3wBc2twaEY7WgJmfgFbcghsWzdncmhGPVoAZmIEW3cNfwp3bHh2EmBXBnYuQFZ3CXoIZTY1cxBgXwZhfwleY0wjBXFucHcfagYANXYGCHAKcAB7O3B0RjEDA2ovAFtyAy8Pe2p6ehI3URckPw1acg9yDnNqcnccdAZGbXwWCC0Eeh4iL315FWFfAmhqQAosBHoeNykvcxR0BEFtfgVbdR8lWzBncWhKMQAMZGpWCjYEeh4lOzJzFXQKUiJxAE0wTCNcfmt3ehFlUAVhfAlecw19Cnp8ISdGb1cXJDkNAzFNOktmaQFrFxRCAxYlXQprSDsWIDUtaxcUA14nIlwEJF1vCgV_cwhSNwV3IiNdTnZ9ewhzanB6FmdCA2YvWAorVy9UZmkEfxViVwFkfwVOdw8pWmZpBBF6ESZ9HA5xKA5mFR4zNH0nSDNBQzVxAl5rC3MJcm10fxZqXwhifwdNN1o4BXN8IigYY0FePilZD3gJbEw3Zyh7UCALFyI_DVtjWiJMfmpRJuJyyghoeg%3D%3D\\u0026s=f71ae6eb-45d9-4382-8374-f6619dcef8ac\\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\\u0026nt=0\\u0026pdi=1744774109564729\"],\"extra_conversion_tracks\":{\"call_back\":[\"https://sugar.zhihu.com/plutus_adreaper_callback?si=ca33f9c9-36ca-4e07-8d19-399506931144\\u0026os=3\\u0026zid=7\\u0026zaid=3665261\\u0026zcid=3621071\\u0026cid=3621071\\u0026event=__EVENTTYPE__\\u0026value=__EVENTVALUE__\\u0026ts=__TIMESTAMP__\\u0026cts=__TS__\\u0026mh=0d4c67703d44506b579057ff6733c754\\u0026adv=703838\\u0026ocg=4\\u0026cp=2500\\u0026ocs=1\\u0026aic=0\\u0026ct=2\\u0026ed=GiBNJgVzfCMmUW9XIVDVNQZREwA=\"]},\"za_ad_info\":\"CO3a3wEQByIBMV1m1dJOYM+B3QE=\",\"za_ad_info_json\":\"{\\\"ad_id\\\":3665261,\\\"ad_zone_id\\\":7,\\\"category\\\":\\\"1\\\",\\\"timestamp\\\":1768600300,\\\"creative_id\\\":3621071}\",\"creatives\":[{\"id\":3621071,\"asset\":{\"brand_name\":\"ima\",\"brand_logo\":\"https://pic3.zhimg.com/v2-6bcab51aab5519d3e668f35b0a210fc3_xl.jpg?source=d6434cab\",\"title\":\"多知识任务还在排队做？腾讯ima同步处理省时间\",\"desc\":\"微信文件一键转存至腾讯ima知识库，让你想用的时候随时都能用，还能对知识库里的文件进行深层次解析哦\",\"imgs\":[\"https://picx.zhimg.com/v2-f65722ce25c730a95fcdabe66f285b94_bh.jpg?source=d6434cab\"],\"landing_url\":\"https://ima.qq.com/download/?webFrom=10000435\\u0026channel=10000435\\u0026cb=https%3A%2F%2Fsugar.zhihu.com%2Fplutus_adreaper_callback%3Fsi%3Dca33f9c9-36ca-4e07-8d19-399506931144%26os%3D3%26zid%3D7%26zaid%3D3665261%26zcid%3D3621071%26cid%3D3621071%26event%3D__EVENTTYPE__%26value%3D__EVENTVALUE__%26ts%3D__TIMESTAMP__%26cts%3D__TS__%26mh%3D0d4c67703d44506b579057ff6733c754%26adv%3D703838%26ocg%3D4%26cp%3D2500%26ocs%3D1%26aic%3D0%26ct%3D2%26ed%3DGiBNJgVzfCMmUW9XIVDVNQZREwA%3D\\u0026spu=biz%3D0%26ci%3D3621071%26si%3D95682aae-1137-42b1-bf5c-977d3bc9fb13%26ts%3D1768600299%26zid%3D7\",\"img_size\":1,\"cta\":\"查看详情\",\"image_ratio_extra\":{\"width\":25,\"height\":14},\"native_asset\":{\"plugin_type\":\"\"},\"img_full_screen\":false,\"dynamic_effect\":0,\"animate_style_config\":{\"switch_tag\":1,\"type\":1,\"file\":\"https://zhstatic.zhihu.com/brand-ad/image/499a-240116/2b475255-b44d-11ee-ac84-52aba93487ab-9xg.pag\",\"duration\":4,\"tips\":\"擦一擦解锁更多精彩\",\"distance\":30,\"delay\":2},\"zm_landing_url\":\"https://ima.qq.com/download/?webFrom=10000435\\u0026channel=10000435\\u0026cb=https%3A%2F%2Fsugar.zhihu.com%2Fplutus_adreaper_callback%3Fsi%3Dca33f9c9-36ca-4e07-8d19-399506931144%26os%3D3%26zid%3D7%26zaid%3D3665261%26zcid%3D3621071%26cid%3D3621071%26event%3D__EVENTTYPE__%26value%3D__EVENTVALUE__%26ts%3D__TIMESTAMP__%26cts%3D__TS__%26mh%3D0d4c67703d44506b579057ff6733c754%26adv%3D703838%26ocg%3D4%26cp%3D2500%26ocs%3D1%26aic%3D0%26ct%3D2%26ed%3DGiBNJgVzfCMmUW9XIVDVNQZREwA%3D\\u0026spu=biz%3D0%26ci%3D3621071%26si%3D95682aae-1137-42b1-bf5c-977d3bc9fb13%26ts%3D1768600299%26zid%3D7\",\"m_landing_url\":\"\",\"interaction_copy\":\"\"},\"video_watch_num\":20619,\"fact_ctr\":0.0015419141855090857,\"fact_cvr\":-1}],\"expand\":{\"display_advertising_tag\":true,\"download_silent\":false,\"is_new_webview\":true,\"is_cdn_speeding\":false,\"extra\":{\"parameters\":\"plugcb=https%3A%2F%2Fsugar.zhihu.com%2Fplutus_adreaper_callback%3Fcid%3D3621071%26ccid%3D2669010%26adid%3D3665261%26zoneid%3D7%26adsource%3Deffect%26sid%3D95682aae-1137-42b1-bf5c-977d3bc9fb13\",\"sign\":\"ca33f9c9-36ca-4e07-8d19-399506931144\"},\"is_apk_market_direct\":false,\"interactive\":{\"deliver_time\":\"25 分钟前\",\"browse_string\":\"1.2 万\",\"participate_string\":\"15 \",\"slide_time_one\":3,\"slide_time_two\":10,\"slide_end\":true,\"deep_link_jump_time\":3},\"launch_timeout\":600},\"experiment_info\":\"{}\",\"view_x_tracks\":[\"https://sugar.zhihu.com/plutus_adreaper?di=tower\\u0026qpt=0\\u0026ar=0.0015419141855090857\\u0026t=10\\u0026pdi=1744774109564729\\u0026ed=CjEEewhlKSlzRjNUAjZ1U1JoCnxbInd0KxVlSgk0fQlGdgBzDXNseX0UY1MFdi1KVnIfK1EnZ3N4E2dVB2FqQAJ4C3wOempxfgMxDgxjegJadQ57HiAufXwDMQgMYXoeX3ULfg1xbnZ2HWVVAWdqUht4C3oIc3wsOxhnVQlnfQNScB8_UX5odH4caF9QYSkKXSYMeQJ7YiF-HzEEVWJ2U1t1DnBddGJwdBFlAgd2OENWdA58AHVqcHwca0FQJ3EATSZRdwhlOzVzEmJUCWN0FhskUHcIZS4zIRhjQVIgcQJedQlsVyApfX8DPQRWbXgWDSRKdwhlPCE8GGJBXDM-DVtjTD9RJ2dxeRFmUAZkfQBScA9-D3FjZi9MMVoBdjhFVi1NPkgwf3MPAGAhFGIKWQYkFztJbTkvIwBgIVU_O14HKlguHXEcZX1jJQJTFj5fBmAKDglzanB-EWFSFGJ6UwMkVyRdL39zChRiVwFgeANeYAt8WyF_cwp6DSRwHAByKgZyFWdlKi5zTD8GFyIpDVlwF3gBcmt3ehRhXwlpfgNcY0spSn5qZixDb1YXPyJVAiEEeh43Ln0mECcVXXY-Q1Z1HylQN2dwOBXRNWnWJIE%3D\\u0026nt=0\\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\\u0026qpw=0\\u0026s=f71ae6eb-45d9-4382-8374-f6619dcef8ac\\u0026qetl=0\\u0026pf=4\\u0026idi=100010062\"],\"mobile_experiment\":{\"feed_card_exp\":\"\"},\"traffic_source\":1,\"party_id\":-2,\"deliver_tracks\":[\"http://proxy-ad-track-plutus.pek01.rack.zhihu.com:10000/ad-track/plutus_log?idi=100010062\\u0026s=f71ae6eb-45d9-4382-8374-f6619dcef8ac\\u0026pf=4\\u0026bn=0\\u0026ri=95682aae-1137-42b1-bf5c-977d3bc9fb13\\u0026qetl=0\\u0026rui=95682aae-1137-42b1-bf5c-977d3bc9fb13\\u0026qpw=0\\u0026pty=50\\u0026ed=CjEEewplKSlzRjNUAjZ1U1JoCnxbInd0KxVlSgk0fQlGdgBzDXNseX0UY1MFdi1KVnIfK1EnZ3N4E2dVB2FqQAJ4C3wOempxfgMxDgxjegJadQ57HiAufXwDMQgMYXoeX3ULfg1xbnZ2HWVVAWdqUht4C3oIc3wsOxhnVQlnfQNScB8_UX5odH4caF9QYSkKXSYMeQJ7YiF-HzEEVWJ2U1t1DnBddGJwdBFlAgd2OENWdA58AHVqcHwca0FQJ3EATSZRdwhlOzVzEmJUCWN0FhskUHcIZS4zIRhjQVIgcQJedQlsVyApfX8DPQRWbXgWDSRKdwhlPCE8GGJBXDM-DVtjTD9RJ2dxeRFmUAZkfQBScA9-D3FjZi9MMVoBdjhFVi1NPkgwf3MPAGAhFGIKWQYkFztJbTkvIwBgIVU_O14HKlguHXEcZX1jJQJTFj5fBmAKDglzanB-EWFSFGJ6UwMkVyRdL39zChRiVwFgeANeYAt8WyF_cwp6DSRwHAByKgZyFWdlKi5zTD8GFyIpDVlwF3gBcmt3ehRhXwlpfgNcY0spSn5qZixDb1YXPyJVAiEEeh43Ln0mECcVXXY-Q1Z1HylQN2dwkfs3yLDsC9M%3D\\u0026ar=0.0015419141855090857\\u0026di=tower\\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\\u0026qpt=0\\u0026pdi=1744774109564729\\u0026t=12\\u0026nt=0\"],\"product_uuid\":1744774109564729,\"interact_type\":\"InteractTypeH5\",\"business_extra\":\"{\\\"advertiser_id\\\":\\\"703838\\\",\\\"ocpx_goal\\\":\\\"4\\\",\\\"ocpx_status\\\":\\\"1\\\",\\\"product_name\\\":\\\"ima\\\",\\\"product_uid\\\":\\\"1744774109564729\\\",\\\"product_uuid\\\":\\\"1744774109564729\\\"}\"}]}",
      "pcontent": "",
      "ncontent": "https://zhuanlan.zhihu.com/p/1981680545684534845",
      "ext_info": {
        "content_type": "",
        "content_id": "",
        "question_id": -1,
        "auction_type": 1,
        "ecpm": 25.0,
        "type": 1,
        "fact_bid_price": 16.40245246887207,
        "fact_ctr": 0.0015419141855090857,
        "fact_cvr": -1.0,
        "deliver_tracks": [
          "http://proxy-ad-track-plutus.pek01.rack.zhihu.com:10000/ad-track/plutus_log?idi=100010062&ed=CjEEewllKSlzRjNUAjZ1U1JoCnxbInd0KxVlSgk0fQlGdgBzDXNseX0UY1MFdi1KVnIfK1EnZ3N4E2dVB2FqQAJ4C3wOempxfgMxDgxjegJadQ57HiAufXwDMQgMYXoeX3ULfg1xbnZ2HWVVAWdqUht4C3oIc3wsOxhnVQlnfQNScB8_UX5odH4caF9QYSkKXSYMeQJ7YiF-HzEEVWJ2U1t1DnBddGJwdBFlAgd2OENWdA58AHVqcHwca0FQJ3EATSZRdwhlOzVzEmJUCWN0FhskUHcIZS4zIRhjQVIgcQJedQlsVyApfX8DPQRWbXgWDSRKdwhlPCE8GGJBXDM-DVtjTD9RJ2dxeRFmUAZkfQBScA9-D3FjZi9MMVoBdjhFVi1NPkgwf3MPAGAhFGIKWQYkFztJbTkvIwBgIVU_O14HKlguHXEcZX1jJQJTFj5fBmAKDglzanB-EWFSFGJ6UwMkVyRdL39zChRiVwFgeANeYAt8WyF_cwp6DSRwHAByKgZyFWdlKi5zTD8GFyIpDVlwF3gBcmt3ehRhXwlpfgNcY0spSn5qZixDb1YXPyJVAiEEeh43Ln0mECcVXXY-Q1Z1HylQN2dw0qRJMZsNeaw%3D&qpt=0&s=f71ae6eb-45d9-4382-8374-f6619dcef8ac&di=tower&pdi=1744774109564729&t=11&qpw=0&nt=0&oneid=0&ft=2&ar=0.0015419141855090857&ut=075acd00a0774b9d9d2a3786e8226e3a&qetl=0&pf=4"
        ],
        "zfeature_content_info": null,
        "author_id": 0,
        "parent_id": 0,
        "title": null,
        "content_embedding": null,
        "media_type": null,
        "party_id": "EFFECT",
        "creative_id": 3621071
      }
    },
    {
      "id": "78_1768600300.44",
      "type": "feed",
      "offset": 78,
      "verb": "TOPIC_ACKNOWLEDGED_ARTICLE",
      "created_time": 1768600300,
      "updated_time": 1768600300,
      "target": {
        "is_labeled": false,
        "article_type": "normal",
        "allow_segment_interaction": true,
        "author": {
          "followers_count": 261,
          "id": "ca99802c7335009cefdee04c74e7c17e",
          "user_type": "people",
          "url_token": "mengxiang-41",
          "headline": "前端组件库技术专家，高级node.js开发",
          "avatar_url": "https://picx.zhimg.com/50/v2-63c4f838f739c27be6eb8e2c717e70c9_l.jpg?source=b6762063",
          "is_org": false,
          "gender": -1,
          "is_following": false,
          "is_followed": false,
          "url": "https://api.zhihu.com/people/ca99802c7335009cefdee04c74e7c17e",
          "name": "孟祥成都"
        },
        "type": "article",
        "url": "https://api.zhihu.com/articles/1981680545684534845",
        "title": "nest.js / hono.js 一起学！开发前必备！",
        "created": 1765250162,
        "voting": 0,
        "preview_type": "default",
        "preview_text": "",
        "id": "1981680545684534845",
        "vote_next_step": "vote",
        "updated": 1765250162,
        "excerpt": "前言欢迎到我们的交流群一起交流各种前端技术，同时欢迎访问我的 headless 组件库，同时感谢你的 star： 国内官网 感谢 github star nest.js / hono.js 一起学系列，最终会封装一个通用的架子，例如有鉴权，日志收集，多环境配置等等功能，用两种框架去实现。 之前写了两篇关于这两个框架编程思想相关的 深入 Nestjs 底层概念（1）：依赖注入和面向切面编程 AOP nest.js / hono.js 一起学！hono的设计思想！ 这一篇主要是涉及到我们…",
        "excerpt_new": "前言欢迎到我们的交流群一起交流各种前端技术，同时欢迎访问我的 headless 组件库，同时感谢你的 star： 国内官网 感谢 github star nest.js / hono.js 一起学系列，最终会封装一个通用的架子，例如有鉴权，日志收集，多环境配置等等功能，用两种框架去实现。 之前写了两篇关于这两个框架编程思想相关的 深入 Nestjs 底层概念（1）：依赖注入和面向切面编程 AOP nest.js / hono.js 一起学！hono的设计思想！ 这一篇主要是涉及到我们…",
        "thumbnails": [
          "https://pica.zhimg.com/50/v2-a823cae9ce027feade69fbd6167f566a_720w.jpg?source=b6762063",
          "https://pica.zhimg.com/50/v2-dfac347d95ad36bdaf98869e959c1aee_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-b29efef5114a8fb99d9fd94ab062df75_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-71526433a5bfc59ed2a4fa7086c590f4_720w.jpg?source=b6762063",
          "https://pica.zhimg.com/50/v2-b2614b299cc59bd7aa93b0c4efbb53cc_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-d4e52b374e43a914820957fcf5f55ae5_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-54bed1073daf304e9bbb33a00ea6ed62_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-4e2b7fd94cf6bfb7640086120e586a42_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-8ca63c6aa4d250f5d5e06417d7ea70e0_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-a9df4dfff85a5858669f0792c944658c_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-e17aa053386caeec099da1e9786f0763_720w.jpg?source=b6762063",
          "https://pic1.zhimg.com/50/v2-bbc86dd3ff8acf1249abaf6abb4fa333_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-2dce540ac61f05c361503568f53636ec_720w.jpg?source=b6762063",
          "https://pica.zhimg.com/50/v2-4c702d90c94f059f6394dacafe23177f_720w.jpg?source=b6762063",
          "https://pica.zhimg.com/50/v2-804f721b7bf109f6c6d347a640809bfc_720w.jpg?source=b6762063",
          "https://pic1.zhimg.com/50/v2-565881e1b99005a16e34f99b2861dcb0_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-55534758b252b2931bf64996c10b94db_720w.jpg?source=b6762063"
        ],
        "favorite_count": 4,
        "is_navigator": false,
        "comment_permission": "all",
        "comment_count": 0,
        "linkbox": {
          "category": "",
          "pic": "",
          "title": "",
          "url": ""
        },
        "content": "<h2>前言</h2><p data-pid=\"1ZOy0j1E\">欢迎到我们的交流群一起交流各种前端技术，同时欢迎访问我的 headless 组件库，同时感谢你的 star：</p><ul><li data-pid=\"8TL4uawW\"><a href=\"https://link.zhihu.com/?target=https%3A//link.juejin.cn/%3Ftarget%3Dhttps%253A%252F%252Fwww.frontlight.tech%252F\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">国内官网</a></li><li data-pid=\"bYpogc3L\"><a href=\"https://link.zhihu.com/?target=https%3A//link.juejin.cn/%3Ftarget%3Dhttps%253A%252F%252Fgithub.com%252Flio-mengxiang%252Ft-ui\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">感谢 github star</a></li></ul><hr/><p data-pid=\"s3U765Sw\">nest.js / hono.js 一起学系列，最终会封装一个通用的架子，例如有鉴权，日志收集，多环境配置等等功能，用两种框架去实现。 之前写了两篇关于这两个框架编程思想相关的</p><ul><li data-pid=\"W1BM79Gj\"><a href=\"https://link.zhihu.com/?target=https%3A//juejin.cn/post/7576555431943503882\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">深入 Nestjs 底层概念（1）：依赖注入和面向切面编程 AOP</a></li><li data-pid=\"l-1CneaQ\"><a href=\"https://link.zhihu.com/?target=https%3A//juejin.cn/post/7580564126403362866\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">nest.js / hono.js 一起学！hono的设计思想！</a></li></ul><p data-pid=\"CuJ0WFDV\">这一篇主要是涉及到我们马上开发前需要具备的一些基础知识，包含：</p><ul><li data-pid=\"6MyrquOd\">命令行工具使用</li><li data-pid=\"DMjMY7g3\">最佳工程实践（目录规划篇）</li><li data-pid=\"sh6wrHLM\">如何调试</li><li data-pid=\"NUXbOAFV\">docker 入门 + 深入 docker 基本原理</li></ul><h2>命令行上手</h2><h3>全局安装 CLI</h3><p data-pid=\"1urGeIkl\">建议，全局安装 CLI， 然后试着创建一个项目试试：</p><div class=\"highlight\"><pre><code class=\"language-text\">npm i -g @nestjs/cli\nnest new project-name</code></pre></div><p data-pid=\"H2htPOFd\">后续，你按照命令行提示即可完成项目初始化，然后安装完包，最后看一下 package.json 中 scripts 中的启动命令是什么，启动项目即可。</p><p data-pid=\"XPmPjkdW\">hono.js 初始化项目是采用：</p><div class=\"highlight\"><pre><code class=\"language-text\">npm create hono@latest project-name</code></pre></div><p data-pid=\"OTcgdW3L\">同样，你按照命令行提示即可完成项目初始化，然后安装对应的包即可，最后看一下 package.json 中 scripts 中的启动命令是什么，启动项目即可。</p><p data-pid=\"biswRWze\">但是 hono.js 并没有类似 nest 的 cli 管理工具，毕竟 nest 的写法要繁琐很多，所以官方提供了一些快速创建模板的命令。可以通过以下命令查看：</p><div class=\"highlight\"><pre><code class=\"language-text\">nest --help</code></pre></div><figure data-size=\"normal\"><img src=\"https://picx.zhimg.com/v2-e7bdeee815d07ddf04df77ca0a4e2d09_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1452\" data-rawheight=\"960\" data-original-token=\"v2-a823cae9ce027feade69fbd6167f566a\" class=\"origin_image zh-lightbox-thumb\" width=\"1452\" data-original=\"https://picx.zhimg.com/v2-e7bdeee815d07ddf04df77ca0a4e2d09_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"-frvPghe\">最常见的使用 generate 或者 g 来生成模板, 我们可以用 -d 命令，来让 cli 告诉你，你的 generate 或者 g 命令会生成什么文件，咱们来试试，假设我们要创建一个 名字为 user 的 class</p><div class=\"highlight\"><pre><code class=\"language-text\">nest g class user -d</code></pre></div><p data-pid=\"OgTc8FVd\">显示：</p><div class=\"highlight\"><pre><code class=\"language-text\">CREATE src/user/user.spec.ts (139 bytes)\nCREATE src/user/user.ts (21 bytes)\nDry run enabled. No files written to disk.</code></pre></div><p data-pid=\"AZrYdhOl\">注意最后一行： No files written to disk. 也就是没有真的把文件写入，而是提示如果你使用<code>nest g class user</code> 可能创建的文件有哪些。</p><p data-pid=\"NW1dmicb\">还有，我们有时候不太喜欢测试，可以使用</p><div class=\"highlight\"><pre><code class=\"language-text\">nest g class user --no-spec</code></pre></div><p data-pid=\"AFSjyOPx\">来省去测试文件的创建。</p><h2>最佳工程实践</h2><p data-pid=\"PY2fhMWs\">我们这里列举一些比较好的工程实践的点，欢迎大家一起讨论。</p><h3>工程目录</h3><p data-pid=\"EeatpbRq\">我们采用”约定大于配置“的思想，无论使用什么 node.js 后端框架，我们的目录名尽可能一致。</p><p data-pid=\"s6SYnaSX\">nest.js 的建议，如果以下目录名意思不清楚没关系，后续学到控制器，service 等等章节的时候，就会明白了：</p><div class=\"highlight\"><pre><code class=\"language-text\">src/\n├── modules/              # 核心：按业务领域划分的模块\n│   ├── users/            # 用户模块\n│   │   ├── dto/          # 数据传输对象（请求/响应结构）\n│   │   ├── entities/     # 数据库实体\n│   │   ├── users.controller.ts\n│   │   ├── users.service.ts\n│   │   └── users.module.ts\n│   └── products/         # 产品模块（结构类似用户模块）\n├── common/               # 共享资源\n│   ├── filters/          # 全局异常过滤器\n│   ├── interceptors/     # 拦截器\n│   └── guards/           # 守卫\n├── config/               # 全局配置\n├── database/             # 数据库连接配置        \n└── app.module.ts         # 应用根模块</code></pre></div><p data-pid=\"1WxdtGJo\">核心设计原则：</p><ul><li data-pid=\"hoThJcL5\">功能内聚：与“用户”相关的所有文件（控制器、服务、实体、DTO）都应放在 users 目录下。</li><li data-pid=\"-hBRL1zN\">分层管理：使用 common、core 等目录管理跨模块共享的组件和全局配置。</li></ul><p data-pid=\"t_043vqc\">hono.js 的建议如下，当然 config ,utils 这些比较常见的全局模块也可以提到第一层级，也就是 src 目录下：</p><div class=\"highlight\"><pre><code class=\"language-text\">src/\n├── modules/                # 每个模块独立\n│   ├── user/\n│   │   ├── routes.ts       # 只放路由注册（薄层）\n│   │   ├── controller/     # handlers 控制器层\n│   │   │   ├── get-user.ts\n│   │   │   ├── list-users.ts\n│   │   │   ├── create-user.ts\n│   │   │   └── update-user.ts\n│   │   ├── service/        # 业务逻辑\n│   │   │   └── user.service.ts\n│   │   ├── repository/     # DB / 外部API\n│   │   │   └── user.repo.ts\n│   │   ├── middleware/     # 与 user 模块强相关的中间件\n│   │   │   └── user-auth.middleware.ts\n│   │   ├── validators/     # DTO / 校验器（zod / valibot）\n│   │   │   ├── create-user.validator.ts\n│   │   │   └── update-user.validator.ts\n│   │   ├── dto/            # 请求 / 响应类型\n│   │   │   ├── user.dto.ts\n│   │   │   └── index.ts\n│   │   ├── constants.ts    # 与 user 相关的常量\n│   │   ├── index.ts        # 模块总出口\n│   │   └── types.ts        # 模块相关类型\n│   │\n│   ├── product/\n│   │   ├── routes.ts\n│   │   ├── controller/\n│   │   ├── service/\n│   │   ├── repository/\n│   │   ├── middleware/\n│   │   ├── validators/\n│   │   └── dto/\n│   │\n│   └── auth/\n│       └── ...\n│\n├── common/                 # 全局复用层（不属于任何模块）\n│   ├── app.ts              # app 初始化（全局中间件、错误处理）\n│   ├── router.ts           # 合并 modules 的 routes\n│   ├── middlewares/        # 全局中间件\n│   ├── config/             # 配置（DB、ENV等）\n│   ├── utils/              # 工具\n│   ├── errors/             # 全局错误类\n│   ├── types/              # 全局类型\n│   └── logging/            # 日志系统\n|    # 也可以把一些重要模块单独放在根目录，例如 config ， log\n│\n└── index.ts                # 启动文件</code></pre></div><p data-pid=\"rogH2Tyl\">注意：也可以把一些重要模块单独放在根目录，例如 config ， log等等，看业务需要。</p><p data-pid=\"eJB3FrN0\">最后，我们可以借鉴一下 angular 团队的一些代码风格指南。例如</p><ul><li data-pid=\"1ZPR7Dy-\">总则<br/> </li><ul><li data-pid=\"R0wNhsgl\">坚持每个文件只定义一样东西（例如服务或者组件）</li><li data-pid=\"fyCNUC8-\">考虑把文件大小限制在 400 行代码以内</li><li data-pid=\"_AlQXdsC\">坚持定义简单函数来组装复杂函数</li></ul></ul><p class=\"ztext-empty-paragraph\"><br/></p><ul><li data-pid=\"9Tnp-3wx\">命名<br/> </li><ul><li data-pid=\"E9RKujrA\">使用点和横杠来风格文件名，不建议驼峰</li><li data-pid=\"nFfCPwHn\">坚持在描述性名字中，用横杠分割单词</li><li data-pid=\"SSFZavmx\">坚持遵守先描述组件特性，再描述它的类型的模式，例如 <code>feature.type.ts</code></li></ul></ul><p class=\"ztext-empty-paragraph\"><br/></p><h2>调试</h2><p data-pid=\"7OQp_oxx\">接下来介绍一下，如何借助 vscode(其它编辑器，cursor，trae 是同样的方式)，来调试 nest.js 和 hono.js 代码</p><p data-pid=\"LIZLFYyQ\">首先我们简单介绍一下如何调试单文件 node.js 文件，这个对于我们 demo 也算比较有用。</p><p data-pid=\"DIL1s1U6\">首先，随便在跟目录建一个 index.js</p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-5bfddb548387843d1222549c524cbbd1_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1762\" data-rawheight=\"668\" data-original-token=\"v2-dfac347d95ad36bdaf98869e959c1aee\" class=\"origin_image zh-lightbox-thumb\" width=\"1762\" data-original=\"https://pic4.zhimg.com/v2-5bfddb548387843d1222549c524cbbd1_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"30KXe6Ff\">然后我们在第 6 行，打了一个断点，可以看到红色标记。然后再根目录，建立一个 .vscode 文件夹，文件夹内建立一个 launch.json</p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-172eb037357dac024c56a4c204637f2f_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1706\" data-rawheight=\"810\" data-original-token=\"v2-b29efef5114a8fb99d9fd94ab062df75\" class=\"origin_image zh-lightbox-thumb\" width=\"1706\" data-original=\"https://pic4.zhimg.com/v2-172eb037357dac024c56a4c204637f2f_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"ZLTpxE1X\">接着点击 如下的 bug 按钮，就可以调试了</p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-a2e6d5597a9d020fc5cc444d6d61fe4b_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1916\" data-rawheight=\"776\" data-original-token=\"v2-71526433a5bfc59ed2a4fa7086c590f4\" class=\"origin_image zh-lightbox-thumb\" width=\"1916\" data-original=\"https://pic4.zhimg.com/v2-a2e6d5597a9d020fc5cc444d6d61fe4b_r.jpg\"/></figure><h3>调试 nest</h3><p data-pid=\"L6r9LsYK\">调试 nest 和 hono 都很相似，只是 launch.json 的配置不一样，</p><p data-pid=\"ISrt1EXX\">我们 launch.json 的配置如下（调试 nest 的）：</p><div class=\"highlight\"><pre><code class=\"language-text\">{\n  // 配置文件的版本号，遵循VSCode调试协议。0.2.0是当前常用版本。\n  &#34;version&#34;: &#34;0.2.0&#34;,\n  // 定义调试配置的数组，一个文件可以包含多个独立的调试配置。\n  &#34;configurations&#34;: [\n    {\n      // 指定调试器类型。`node` 表示使用Node.js调试适配器，用于调试JavaScript/TypeScript。\n      &#34;type&#34;: &#34;node&#34;,\n      // 调试请求类型。`launch` 表示启动一个新程序进行调试；另一种是`attach`（附加到已运行进程， 这个不纠结，我们都用 launch）。\n      &#34;request&#34;: &#34;launch&#34;,\n      // 在VSCode调试下拉菜单中显示的名称，随便起个就行。\n      &#34;name&#34;: &#34;Launch Program&#34;,\n      // 指定实际用来运行程序的命令。这里使用`pnpm`包管理器作为启动器。\n      // 如果不设置此项，默认值为`node`。\n      &#34;runtimeExecutable&#34;: &#34;pnpm&#34;,\n      // 传递给`runtimeExecutable`（pnpm）的命令行参数。\n      // 等同于在终端执行：`pnpm run start:dev`\n      &#34;runtimeArgs&#34;: [&#34;run&#34;, &#34;start:dev&#34;],\n      // `runtimeVersion`主要用于通过`nvm`等版本管理器切换Node版本。\n      &#34;runtimeVersion&#34;: &#34;20.16.0&#34;,\n      // 调试时跳过（不进入）的文件。\n      // `&lt;node_internals&gt;/**` 表示跳过所有Node.js内置核心模块代码，使调试更聚焦于应用自身。\n      &#34;skipFiles&#34;: [\n        &#34;&lt;node_internals&gt;/**&#34;\n      ]\n    }\n  ]\n}</code></pre></div><p data-pid=\"CKNYaMq5\">这里的关键是什么呢，就是 runtimeExecutable + runtimeArgs， runtimeExecutable 代表我们执行的命令使用 pnpm, 你可以改为 yarn， npm，都行，然后执行的命令参数runtimeArgs，合起来就是</p><div class=\"highlight\"><pre><code class=\"language-text\">pnpm run start:dev</code></pre></div><p data-pid=\"QlP0S-DI\">为什么这样呢，因为 start:dev 是 nest.js 的 package.json 中注明的启动开发环境的命令,如下：</p><div class=\"highlight\"><pre><code class=\"language-text\">&#34;scripts&#34;: {\n    &#34;build&#34;: &#34;nest build&#34;,\n    &#34;format&#34;: &#34;prettier --write \\&#34;src/**/*.ts\\&#34; \\&#34;test/**/*.ts\\&#34;&#34;,\n    &#34;start&#34;: &#34;nest start&#34;,\n    &#34;start:dev&#34;: &#34;nest start --watch&#34;,\n    &#34;start:debug&#34;: &#34;nest start --debug --watch&#34;,\n    &#34;start:prod&#34;: &#34;node dist/main&#34;,\n    &#34;lint&#34;: &#34;eslint \\&#34;{src,apps,libs,test}/**/*.ts\\&#34; --fix&#34;,\n    &#34;test&#34;: &#34;jest&#34;,\n    &#34;test:watch&#34;: &#34;jest --watch&#34;,\n    &#34;test:cov&#34;: &#34;jest --coverage&#34;,\n    &#34;test:debug&#34;: &#34;node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand&#34;,\n    &#34;test:e2e&#34;: &#34;jest --config ./test/jest-e2e.json&#34;\n  },</code></pre></div><p data-pid=\"DkF4ruVX\">当然，你可以用 start 命令，start:debug 命令都行，假设就用</p><div class=\"highlight\"><pre><code class=\"language-text\">// 指定实际用来运行程序的命令。这里使用`pnpm`包管理器作为启动器。\n      // 如果不设置此项，默认值为`node`。\n      &#34;runtimeExecutable&#34;: &#34;pnpm&#34;,\n      // 传递给`runtimeExecutable`（pnpm）的命令行参数。\n      // 等同于在终端执行：`pnpm run start:dev`\n      &#34;runtimeArgs&#34;: [&#34;run&#34;, &#34;start:dev&#34;],</code></pre></div><p data-pid=\"wItUOaaY\">然后我们在 app.controller.ts 上打个断点：</p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-f30128d9561f020b572f7fd920e20986_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1490\" data-rawheight=\"936\" data-original-token=\"v2-b2614b299cc59bd7aa93b0c4efbb53cc\" class=\"origin_image zh-lightbox-thumb\" width=\"1490\" data-original=\"https://pica.zhimg.com/v2-f30128d9561f020b572f7fd920e20986_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"fkC1i4LO\">然后启动调试</p><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-f974749f83a756b2221995d38daa0c75_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1500\" data-rawheight=\"870\" data-original-token=\"v2-d4e52b374e43a914820957fcf5f55ae5\" class=\"origin_image zh-lightbox-thumb\" width=\"1500\" data-original=\"https://pic2.zhimg.com/v2-f974749f83a756b2221995d38daa0c75_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"boy1W7mt\">点击后，相当于在命令行输入：</p><div class=\"highlight\"><pre><code class=\"language-text\">pnpm run start:dev</code></pre></div><p data-pid=\"RzqHCear\">接着你浏览器访问 <code>http://localhost:3000</code> 就能触发断点了！</p><h3>调试 hono</h3><p data-pid=\"QzE9oeN1\">所以根据上面的理论，我们来创建一个 launch.json，用来调试 hono</p><div class=\"highlight\"><pre><code class=\"language-text\">{\n  &#34;version&#34;: &#34;0.2.0&#34;,\n  &#34;configurations&#34;: [\n    {\n      &#34;type&#34;: &#34;node&#34;,\n      &#34;request&#34;: &#34;launch&#34;,\n      &#34;name&#34;: &#34;Launch Program&#34;,\n      &#34;runtimeExecutable&#34;: &#34;pnpm&#34;, // 核心：告诉调试器用pnpm来运行\n      &#34;runtimeArgs&#34;: [&#34;run&#34;, &#34;dev&#34;], // 传给pnpm的参数：运行“dev”脚本\n    }\n  ]\n}</code></pre></div><p data-pid=\"-sL1SAeu\">同理，其实就是触发了：</p><div class=\"highlight\"><pre><code class=\"language-text\">pnpm run dev</code></pre></div><p data-pid=\"H2Lhs4Ki\">命令， dev 这个命令其实就是 hono 项目 package.json 中的内容：</p><div class=\"highlight\"><pre><code class=\"language-text\">&#34;scripts&#34;: {\n    &#34;dev&#34;: &#34;tsx watch src/index.ts&#34;,\n    &#34;build&#34;: &#34;tsc&#34;,\n    &#34;start&#34;: &#34;node dist/index.js&#34;\n  }</code></pre></div><h2>容器部署</h2><p data-pid=\"jGGSJnHg\">接下来是很长的关于 docker 和我们前端全栈相关的知识，有深入的原理介绍，有兴趣的同学可以一起交流。</p><h3>为什么需要 Docker？</h3><p data-pid=\"LQeAfk9q\">即便是纯前端开发者，不涉及 Node.js、Nginx 或数据库等服务器相关软件，在中小企业部署应用时，后端团队或项目经理常常会要求前端团队提供一个 Dockerfile，以便将前端应用部署到 Nginx 上。这种要求在容器化时代变得越来越普遍。所以是有必要了解容器的知识的。</p><h3>容器化的基本概念</h3><p data-pid=\"faK70Efd\">在容器化时代，通常通过 Dockerfile（用于描述如何构建 Docker 容器的配置文件）构建开发或生产环境的 Docker 镜像，然后启动这些镜像，使外部网络可以访问对应的应用。</p><p data-pid=\"LXAh-oj6\">在 Docker 流行之前，前端应用的部署方式一般是直接在服务器上下载相关软件（如 Nginx、MySQL 或 PostgreSQL），配置并启动服务，再将打包后的前端内容放入 Nginx 的指定目录，以便外部访问。这种方式被称为物理机直接部署。</p><h3>为何转向容器化部署？</h3><p data-pid=\"p4aUo5U9\">容器化部署的优势主要体现在以下两个方面，我们用前端的视角去理解：</p><ol><li data-pid=\"bhxWL_8O\"><b>环境一致性</b>：</li></ol><ul><li data-pid=\"NCLHN63L\">前端常见的问题，为什么在 Chrome 中功能正常，但在其他浏览器中却无法运行？</li></ul><ol><li data-pid=\"pkU52Bkr\"><b>简化环境配置</b>：</li></ol><ul><li data-pid=\"YRpiW4tr\">前端项目通常需要配置 ESLint、Prettier、TSConfig、Vite/Webpack 等工具。这些配置繁琐，且需要一定的知识才能定制适合项目的配置。为了解决这些问题，前端社区提供了许多 CLI 工具，如 React 的 create-react-app、Vue 的 Vue CLI、Next.js 的 @nextjs/cli 等，这些工具为项目提供了现成的模板，并在 Babel/SWC 和 Browserslist 的配置中解决了兼容性问题。</li></ul><p data-pid=\"3y6wirPU\">同样，服务器端也面临环境一致性和配置繁琐的问题，并且这些问题相当棘手。为什么会这样呢？我们可以回顾一下 Docker 流行之前的 PaaS 项目。</p><h3>PaaS 的背景</h3><p data-pid=\"8FjIL7dr\">PaaS（Platform as a Service）是云计算的重要服务模型，旨在提供一个完整的应用开发、运行和管理环境，使开发者能够专注于编写代码，而无需担心底层基础设施或操作系统。</p><h3>PaaS 受欢迎的原因</h3><p data-pid=\"9JbWofOo\">PaaS 项目受到广泛接纳的一个主要原因是它提供了“应用托管”能力。如今，许多人使用阿里云、腾讯云、AWS 等云服务，实际上就是将本地应用托管到云端。然而，这一部署过程常常会遇到云端虚拟机与本地环境不一致的问题。因此，当时的云计算服务竞争的焦点在于谁能更好地模拟本地服务器环境，从而提供更优质的“上云”体验。而开源 PaaS 项目的出现，正是为了有效解决这一问题。</p><h3>docker 的出现</h3><p data-pid=\"_Vry2TFZ\">正当大家比谁能更好模拟本地服务器环境的时候，docker 跳出来说，对不起，在做的各位都是垃圾。。。我能完全模拟本地服务器环境，嘿嘿！</p><p data-pid=\"bH3Wb1ZD\"><b>并且 docker 提供了非常便捷的打包机制，</b> 并且这个压缩包包含了完整的操作系统文件和目录，也就是包含了这个应用运行所需要的所有依赖。只需：</p><div class=\"highlight\"><pre><code class=\"language-text\">docker build 打包自己的服务\ndocker run 启动自己的服务</code></pre></div><p data-pid=\"4HRe6gVu\">如此，docker 轻松击败了 pass 本身的打包机制，后来逐渐使容器技术成为云服务的基础设施之一。</p><p data-pid=\"HHeqpAN_\">你可以想象，就跟前端使用 vite 和 webpack 一样，一键 <code>npm run build xxx</code> 打包后，你的前端应用能在各个浏览器上运行，并帮助我们解决了浏览器兼容性问题，如此便捷，谁能不喜欢这样的技术呢？</p><p data-pid=\"HoTzxVjB\">所以这个小节我们可以回答常见的面试题：</p><ul><li data-pid=\"5yC-DwS2\">为什么需要容器化 （docker）？</li></ul><p data-pid=\"Jz-OMhda\">既然 docker 这么好用，那 docker 镜像，docker 容器，docker 镜像仓库等等常见概念是什么意思呢？我们拿前端的 npm 包管理来帮助我们理解。</p><h2>Docker 必需了解的基础概念</h2><h3>1. Docker 镜像和 Docker 容器</h3><p data-pid=\"WGWzgTT0\">镜像（<code>Image</code>）和容器（<code>Container</code>）的关系，就像是面向对象程序设计中的 <code>类</code> 和 <code>实例</code> 一样，镜像是静态的定义，容器是镜像运行时的实体。</p><ul><li data-pid=\"X8tyvMBv\"><b>Docker 镜像</b> 是一个特殊的文件系统，除了提供容器运行时所需的程序、库、资源、配置等文件外，还包含了一些为运行时准备的一些配置参数（如匿名卷、环境变量、用户等）。</li><li data-pid=\"oHJf0YcW\"><b>Docker 容器</b>的实质就是一个进程，但是跟普通进程不一样的是，因此容器可以拥有自己的 <code>root</code> 文件系统、自己的网络配置、自己的进程空间，甚至自己的用户 ID 空间。容器内的进程是运行在一个隔离的环境里，使用起来，就好像是在一个独立于宿主的系统下操作一样。</li></ul><h3>2. Dockerfile</h3><p data-pid=\"FJGTTG5l\">dockerfile 是一个文本文件，包含了一系列指令，一般我们都是用这个文件配合 docker build 命令来构建 docker 镜像。</p><h3>3. Docker Client、Docker hub、Docker Daemon</h3><p data-pid=\"rgZAoc8K\">关系如下图：</p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-f72c122fa4cc4627140f87de80e71010_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1648\" data-rawheight=\"963\" data-original-token=\"v2-54bed1073daf304e9bbb33a00ea6ed62\" class=\"origin_image zh-lightbox-thumb\" width=\"1648\" data-original=\"https://pic1.zhimg.com/v2-f72c122fa4cc4627140f87de80e71010_r.jpg\"/></figure><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-5a32271318483f20261117e6aca98055_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1009\" data-rawheight=\"527\" data-original-token=\"v2-024ad7f66327b366bca1179d7ad4a0f1\" class=\"origin_image zh-lightbox-thumb\" width=\"1009\" data-original=\"https://pic4.zhimg.com/v2-5a32271318483f20261117e6aca98055_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"-UKnHfcW\">上图中涉及 3 个重要的概念</p><ul><li data-pid=\"n5dqkPDr\">Docker Hub：Docker Hub 是一个云端托管的Docker镜像库，用户可以在其中存储和共享 docker 镜像。它类似于 npm 仓库。</li><li data-pid=\"5sEAeniE\">Docker Daemon：守护进程是一个后台服务，负责管理 docker 容器和镜像。它监听来自的 docker 客户端的命令，并执行相应操作。</li><li data-pid=\"6JGuoTKD\">Docker Client：允许用户与守护进程交互的命令行工具。</li></ul><h2>【延伸补充】深入原理1：一定要理解 Docker 镜像的分层的原理</h2><p data-pid=\"oFrzNG3_\">上面我们说了，<b>Docker 镜像</b> 是一个特殊的文件系统，其中有一个特别重要的特性，称之为文件系统分层。为了说明这个原理，我们需要从 linux 本身的文件系统讲起。</p><p data-pid=\"wWb4N4zh\">首先 linux 启动的时候，首先加载的是 bootfs 文件系统，它包含了 boot 加载器和 kernel 内核。kernel 内核作用是什么呢？我们知道计算机是由硬件构成的，例如 cpu、主板、外设、内存等等，最终这些硬件会被操作系统接手管理，例如，将在硬盘的程序映射为一个个动态的进程，然后增加 cpu 调度算法，让每个进程按照特定的规则不断运行，还需要管理内存，不断的读取内存指令给 cpu 运行。。。</p><p data-pid=\"XzxIJlhx\">然后 linux 会挂在 rootfs 文件系统，什么是 rootfs 呢？作用是什么呢？我们知道在玩 windows 操作系统的时候，C 盘一般都是用来存储操作系统相关的文件的，例如 C 盘下的 Program Files 一般用来存放操作系统相关的配置文件。</p><p data-pid=\"Dmk-4rT4\">而 linux 中的 rootfs 在初始化的时候，也是把操作系统相关的文件放入其中。linux 有很多不同的发行版本，例如 centos，ubantu 等等，他们都有自己的 rootfs，规则有所不同。</p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-1fe36b429b23357aa2c29515a8c96c7e_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"944\" data-rawheight=\"628\" data-original-token=\"v2-78daa945b627539dc7a4966e3de08358\" class=\"origin_image zh-lightbox-thumb\" width=\"944\" data-original=\"https://pic1.zhimg.com/v2-1fe36b429b23357aa2c29515a8c96c7e_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"fM_AtX9W\">而上面说的两个文件系统，在 docker 中，并不是混在一起的，而是如上图分层了的，这意味着，如果正在使用不同的 docker 镜像，他们最底层的 bootfs 很可能是一样的（相同的 linux 版本），那么这些镜像就可以共享这一层，而不是每个镜像都分别有一个 bootfs。</p><p data-pid=\"kWO3UJhx\">同理 rootfs 也是一样，如果我们使用的镜像都是基于 ubantu 的 linux 发行版本，版本号也是一样的话，那么 rootfs 也是可以共享的。</p><p data-pid=\"ywnLQELU\">这样就会大大降低 docker 的体积，这也是为什么大家说 docker 轻量的原因。</p><p data-pid=\"kVqTjkad\">docker 镜像本身提供的这些数据层是只读的，我们后续用 dockerfile 去自定义我们自己的镜像时，实在可读层上面加一个读写层，但是修改 docker 的，所以共享底层的数据层也不会影响我们定制化的 docker 镜像。</p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-16844ad9f49e2b6e6ad9c28ee1887d86_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2144\" data-rawheight=\"696\" data-original-token=\"v2-4e2b7fd94cf6bfb7640086120e586a42\" class=\"origin_image zh-lightbox-thumb\" width=\"2144\" data-original=\"https://pic1.zhimg.com/v2-16844ad9f49e2b6e6ad9c28ee1887d86_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"g2JNXflP\">为什么理解分层如此重要呢？我们举个例子（以下 dockerfile 文件每个命令是什么意思会详细讲解，现在不用在意），以下 docker file 中，我们注意 RUN 命令：</p><div class=\"highlight\"><pre><code class=\"language-text\">FROM ubuntu:20.04\n\nRUN apt-get update\nRUN apt-get install -y python3\nRUN apt-get install -y python3-pip\nRUN apt-get clean</code></pre></div><p data-pid=\"u23LMbyn\">这里执行了 4 个 RUN 命令，而每个 RUN 命令都会单独在 docker 镜像上建立一个单独的读写层，这样会增大构建后的 docker 镜像体积，我们可以将其合并：</p><div class=\"highlight\"><pre><code class=\"language-text\">FROM ubuntu:20.04\n\nRUN apt-get update &amp;&amp; \\\n    apt-get install -y python3 python3-pip &amp;&amp; \\\n    apt-get clean &amp;&amp; \\\n    rm -rf /var/lib/apt/lists/*</code></pre></div><p data-pid=\"kfN7G4dx\">同样的，如果分层中，分层的内容没有变，docker 会重复利用这些已经打包好的层，什么意思呢？我们前端应用打包的时候，往往 package.json/package.lock.json 的依赖是没有变化的，所以我们如果能利用之前已经下载好的 npm 包的层，就不用重复下载了。</p><div class=\"highlight\"><pre><code class=\"language-text\"># 使用 Node.js 作为基础镜像\nFROM node:22-slim\n\n# 将 package.json 和 package-lock.json 复制到容器中\nCOPY package*.json ./\n\n# 安装依赖（会在此层缓存 node_modules）\nRUN npm install\n\n# 复制应用程序的其他源代码到容器中\nCOPY . .\n\n# 暴露应用程序运行的端口\nEXPOSE 3000\n\n# 启动应用程序\nCMD [&#34;npm&#34;, &#34;start&#34;]</code></pre></div><p data-pid=\"Mzz8eJR5\">以上我们会看到 <code>RUN npm install</code> 这一步，如果命令跟以前一样，会利用缓存，不会下载 npm 包，具体缓存规则，官方叙述如下（建议后续看完 dockerfile 章节后再回来看这部分，非常重要）：</p><p data-pid=\"WIVi9J1g\">在镜像的构建过程中，Docker 会遍历 <code>Dockerfile</code> 文件中的指令，然后按顺序执行。在执行每条指令之前，Docker 都会在缓存中查找是否已经存在可重用的镜像，如果有就使用现存的镜像，不再重复创建。如果你不想在构建过程中使用缓存，你可以在 <code>docker build</code> 命令中使用 <code>--no-cache=true</code> 选项。 但是，如果你想在构建的过程中使用缓存，你得明白什么时候会，什么时候不会找到匹配的镜像，遵循的基本规则如下：</p><ul><li data-pid=\"2FdlPNXd\">从一个基础镜像开始（<code>FROM</code> 指令指定），下一条指令将和该基础镜像的所有子镜像进行匹配，检查这些子镜像被创建时使用的指令是否和被检查的指令完全一样。如果不是，则缓存失效。</li><li data-pid=\"mEqjOO-C\">在大多数情况下，只需要简单地对比 <code>Dockerfile</code> 中的指令和子镜像。然而，有些指令需要更多的检查和解释。</li><li data-pid=\"2yzfYMgJ\">对于 <code>ADD</code> 和 <code>COPY</code> 指令，镜像中对应文件的内容也会被检查，每个文件都会计算出一个校验和。文件的最后修改时间和最后访问时间不会纳入校验。在缓存的查找过程中，会将这些校验和和已存在镜像中的文件校验和进行对比。如果文件有任何改变，比如内容和元数据，则缓存失效。</li><li data-pid=\"ntYW8HM0\">除了 <code>ADD</code> 和 <code>COPY</code> 指令，缓存匹配过程不会查看临时容器中的文件来决定缓存是否匹配。例如，当执行完 <code>RUN apt-get -y update</code> 指令后，容器中一些文件被更新，但 Docker 不会检查这些文件。这种情况下，只有指令字符串本身被用来匹配缓存。</li></ul><p data-pid=\"U7-OgaUL\">一旦缓存失效，所有后续的 Dockerfile 指令都将产生新的镜像，缓存不会被使用。</p><h2>【延伸补充】深入原理2：一定要理解什么是构建上下文</h2><p data-pid=\"gJ-YOZvM\">上面有一个很容易混淆的路径问题，<code>COPY package*.json ./</code> 中 package*.json 指的并不是 docker build 命令的目录，也不是 <code>Dockerfile</code> 所在的目录，而是执行上下文的目录。执行上下文目录我们是在 docker build 的时候指定的，这里我们指定的 <code>.</code>，表示执行 docker build 命令时的目录。</p><p data-pid=\"WjpUNrgV\">为什么这个概念如此重要，很有可能你你设置的不对，根本找不到 package*.json，例如你这样</p><div class=\"highlight\"><pre><code class=\"language-text\">COPY ../package*.json ./</code></pre></div><p data-pid=\"GtNeXKRf\"><code>../package*.json</code>，指的是构建上下文上一层目录的 package*.json，其实是找不到的，因为我们将构建上下文复制到 docker host 的时候，docker 只会复制构建上下文内的内容（并且除开 .dockerignore file 指定的排除的内容）。</p><p data-pid=\"94Hr1Qt3\">所以你在构建上下文之外找 package*.json，肯定是找不到的。</p><p data-pid=\"Tz0sv2tG\">并且有相当多网上的人误以为 <code>.</code> 是指定 <code>Dockerfile</code> 所在目录呢？这是因为在默认情况下，如果不额外指定 <code>Dockerfile</code> 的话，会将上下文目录下的名为 <code>Dockerfile</code> 的文件作为 Dockerfile。</p><p data-pid=\"cEkzO-K2\">这只是默认行为，实际上 <code>Dockerfile</code> 的文件名并不要求必须为 <code>Dockerfile</code>，而且并不要求必须位于上下文目录中，比如可以用 <code>-f ../Dockerfile.php</code> 参数指定某个文件作为 <code>Dockerfile</code>。</p><p data-pid=\"SsdUdXsE\">当然，一般大家习惯性的会使用默认的文件名 <code>Dockerfile</code>，以及会将其置于镜像构建上下文目录中。</p><p data-pid=\"GxSvBCgY\">最后最最重要的就是需要写一份 .dockerignore 文件，例如，我们前端项目往往都有 node_modules 目录，而且体积相当大，所以没必要将其复制到 docker host。</p><ul><li data-pid=\"B9YEpTnP\">这会显著增加镜像的体积，从而影响镜像构建时间和传输效率。</li><li data-pid=\"nni-5jSB\"><code>node_modules</code> 中的某些依赖可能是平台相关的（例如，使用了原生代码或编译步骤），在不同的操作系统（如 Windows 和 Linux）上会有所不同。</li></ul><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-f33459aec0d55fa604f796193208e03a_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1584\" data-rawheight=\"856\" data-original-token=\"v2-8ca63c6aa4d250f5d5e06417d7ea70e0\" class=\"origin_image zh-lightbox-thumb\" width=\"1584\" data-original=\"https://pic3.zhimg.com/v2-f33459aec0d55fa604f796193208e03a_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"vGSw2vT-\">好了，我们接着编写完 dockerfile 文件继续说。</p><p data-pid=\"q_8pimdG\">然后，就可以运行 docker 镜像</p><div class=\"highlight\"><pre><code class=\"language-text\">docker run -d -p 3000:80 react-app</code></pre></div><ul><li data-pid=\"Whr8mBtc\"><code>-d</code>：以后台模式运行容器。</li><li data-pid=\"sQp5cpxf\"><code>-p 3000:80</code>：将本地的 8080 端口映射到容器的 80 端口。</li></ul><p data-pid=\"XwMh42uM\">然后本地访问 localhost: 3000，或者你的机器有外网地址，使用 &lt;外网地址&gt;: 3000，访问即可。</p><p data-pid=\"YxQtiQza\">这里还会牵扯到一个需要深入讨论的内容，就是容器网络的原理，我们后续再谈。</p><p data-pid=\"t49hyoQf\">这里我们总结一下一些常用的 docker 命令，帮助大家快速用起来 docker。</p><h3>常用命令总结</h3><p data-pid=\"ezaxs07g\"><b>下载镜像</b>：docker pull &lt;镜像名&gt;，例如下载 node.js 22 版本的镜像</p><div class=\"highlight\"><pre><code class=\"language-text\">docker pull node:22-slim</code></pre></div><p data-pid=\"4YPEOf6n\">注：可以用 docker hub 来搜索支持的版本。方法如下：</p><ul><li data-pid=\"L7VA6LkX\">进入docker hub的官网，地址：<a href=\"https://link.zhihu.com/?target=https%3A//hub.docker.com/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">https://hub.docker.com</a></li><li data-pid=\"boyxBaMq\">然后搜索需要的镜像：</li></ul><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-7b410651054248f7213bc2bcc265e3bc_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2512\" data-rawheight=\"1134\" data-original-token=\"v2-a9df4dfff85a5858669f0792c944658c\" class=\"origin_image zh-lightbox-thumb\" width=\"2512\" data-original=\"https://pic1.zhimg.com/v2-7b410651054248f7213bc2bcc265e3bc_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><ul><li data-pid=\"5JezzwID\">查看镜像支持的版本：</li></ul><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-bc6fb12cfb2f6bcb8799db7efc90a0b2_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1902\" data-rawheight=\"1156\" data-original-token=\"v2-e17aa053386caeec099da1e9786f0763\" class=\"origin_image zh-lightbox-thumb\" width=\"1902\" data-original=\"https://pic3.zhimg.com/v2-bc6fb12cfb2f6bcb8799db7efc90a0b2_r.jpg\"/></figure><hr/><p data-pid=\"SXm1bFAq\"><b>列出镜像：</b></p><div class=\"highlight\"><pre><code class=\"language-text\">docker images</code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-13f4fcdef1cb363cc0e15abce177fe7b_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"872\" data-rawheight=\"107\" data-original-token=\"v2-13f4fcdef1cb363cc0e15abce177fe7b\" class=\"origin_image zh-lightbox-thumb\" width=\"872\" data-original=\"https://pic4.zhimg.com/v2-13f4fcdef1cb363cc0e15abce177fe7b_r.jpg\"/></figure><p data-pid=\"1ceQiwcJ\"><b>删除镜像</b>：docker rmi -f &lt;镜像名&gt;，例如：</p><div class=\"highlight\"><pre><code class=\"language-text\">docker rmi -f nginx</code></pre></div><p data-pid=\"g1CTd-rR\"><b>新建并启动容器：docker run -d -p &lt;本地端口&gt;:&lt;容器端口&gt; &lt;镜像名&gt;，例如</b></p><div class=\"highlight\"><pre><code class=\"language-text\">docker run -d -p 80:80 --name nginx nginx:1.17.0</code></pre></div><ul><li data-pid=\"3jaCKLpJ\">-d 选项：表示后台运行</li><li data-pid=\"K60fat0Z\">--name 选项：指定运行后容器的名字为nginx,之后可以通过名字来操作容器</li><li data-pid=\"GtaJXLU2\">-p 选项：指定端口映射，格式为：hostPort:containerPort</li></ul><p data-pid=\"a-hMgIT8\"><b>列出容器：</b></p><div class=\"highlight\"><pre><code class=\"language-text\">docker ps</code></pre></div><p data-pid=\"LvqZaX66\"><b>查看运行中的容器</b>：</p><div class=\"highlight\"><pre><code class=\"language-text\">docker ps</code></pre></div><p data-pid=\"bGkDHkfZ\">如果加入 -a 参数，即使暂停的容器也会被列出来。</p><p data-pid=\"IDLGFkNK\"><b>停止容器</b>：</p><div class=\"highlight\"><pre><code class=\"language-text\">docker stop &lt;容器ID | 容器名字&gt;</code></pre></div><hr/><p data-pid=\"WyJHCfpF\"><b>删除容器</b>：</p><div class=\"highlight\"><pre><code class=\"language-text\">docker rm &lt;容器ID | 容器名字&gt;</code></pre></div><p data-pid=\"CIk8dQCE\"><b>在宿主机查看docker使用cpu、内存、网络、io情况：</b></p><div class=\"highlight\"><pre><code class=\"language-text\">docker stats &lt;容器ID | 容器名字&gt;</code></pre></div><p data-pid=\"UFIepvIv\"><b>进入Docker容器内部的bash</b></p><div class=\"highlight\"><pre><code class=\"language-text\">docker exec -it &lt;容器名字&gt; /bin/bash</code></pre></div><p data-pid=\"c51LdtwU\">注意，有的镜像里面没有 bash 命令，例如 nginx，可以将 /bin/bash 改为 /bin/sh</p><p data-pid=\"2cipuzbQ\">以上的知识，足够前端应付常见的场景了，遇到问题搜索一下，看懂也不是难事。其实容器的网络，是比较特殊的，因为容器实际上看起来是有自己独立的文件系统，独立的网络，独立的进程的（也就是在容器中，你会看懂容器进程的 id 是 1）等等。</p><p data-pid=\"JUiDXX_4\">既然有自己独立的网络，那么容器的网络如何跟外界打通，原理又是什么呢？（这个问题特别重要，无论对于你自己本地调试，还是生产环境解决容器无法访问的问题）</p><p data-pid=\"GtwVw6Jl\">既然有自己独立的文件系统，那么容器销毁，容器里面的文件也随之销毁，那么容器如何做到将文件跟物理机上的文件系统共享的呢？</p><h2>【延伸补充】深入原理3：docker 容器的底层三大核心技术</h2><p data-pid=\"-eHusqZW\">三大核心技术分别是 namespace、Cgroup 以及联合文件系统，联合文件系统上面已经讲了，现在就剩下 namespace 和 Cgroup 了。我们先来看看 pid namespace 是什么。</p><p data-pid=\"ypfXURls\">首先再次强调，容器就是一个进程。举个例子</p><figure data-size=\"normal\"><img src=\"https://picx.zhimg.com/v2-91694dfab15f01775901ffb620097aed_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1992\" data-rawheight=\"318\" data-original-token=\"v2-91694dfab15f01775901ffb620097aed\" class=\"origin_image zh-lightbox-thumb\" width=\"1992\" data-original=\"https://picx.zhimg.com/v2-91694dfab15f01775901ffb620097aed_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"IKV6WOt1\">我们首先使用以下命令来获取到容器的进程 id 为 2526</p><div class=\"highlight\"><pre><code class=\"language-text\">docker inspect &lt;容器 id&gt; | grep Pid</code></pre></div><p data-pid=\"lNQwUxeR\">然后使用 ps 命令来过滤出 2526 进程</p><div class=\"highlight\"><pre><code class=\"language-text\">ps -ef | grep 2526</code></pre></div><p data-pid=\"BxU93Gep\">发现确实有对应的进程。</p><p data-pid=\"yjeRC_jT\">但是跟普通进程不一样的是，容器的进程利用 namespace 技术，让我们进入容器后，发现容器主进程的 pid 是 1 ，而不是 2526。也就是容器使用了”障眼法”，来让自己跟别的容器都隔离开。就拿进程隔离来说，容器是如何修改进程视图的呢？如下图：</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-33ccb07031fe83ef234d971d09e85a60_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1600\" data-rawheight=\"1390\" data-original-token=\"v2-bbc86dd3ff8acf1249abaf6abb4fa333\" class=\"origin_image zh-lightbox-thumb\" width=\"1600\" data-original=\"https://pic3.zhimg.com/v2-33ccb07031fe83ef234d971d09e85a60_r.jpg\"/></figure><p data-pid=\"A8UY-2rP\">如上图，1、2、3、4、5、6、7、8、9、10，都是在物理机操作系统上的进程号（PID），而进入容器后，PID 8 是容器的主进程，linux 将其修改为进程号（PID）为 1，子进程也同样修改 PID，这样你在容器里，看到主进程是 PID 1，但是你退出容器，查看这个容器的进程号，就是 8。</p><p data-pid=\"yKK2_Opt\">namespace 不仅仅隔离了进程的 pid，还包括网络、用户、IPC 等等。接着我们看看 Cgroup 是什么。</p><p data-pid=\"1xAZVLLr\">你想想，虽然视图可以改变，但是却没法限制这个容器对 cpu 的使用，所以是有可能单个容器把 cpu 跑满的。所以如果能限制 cpu、内存的使用就更好了，Cgroup 就是做这个事的。</p><p data-pid=\"y9Yq9osu\">Cgroup 的原理如下图：</p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-4a881d0f14fabdc01864af66caf732ac_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"667\" data-rawheight=\"280\" data-original-token=\"v2-bff3e2b4f61ea7fd474c0c38c94157d1\" class=\"origin_image zh-lightbox-thumb\" width=\"667\" data-original=\"https://pica.zhimg.com/v2-4a881d0f14fabdc01864af66caf732ac_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"KoMyVgoe\">Cgroup 对不同资源进行了分组，例如 cpu 总共是 100%，假设分配给某个容器是 25%，当你进入容器中，你看到的自己 cpu 总共是 100% ，也就是这个容器里的 100% 是假的，其实是从真实的 25% 里面去分的。</p><p data-pid=\"u9bMec0k\">Cgroup 如何操作是有对应的 linux 命令的，这里我们就不深入了，因为性价比并不高，用好 docker 就可以了。</p><h2>【延伸补充】深入原理4：docker 容器网络的秘密</h2><p data-pid=\"HpGGSA8c\">为了更通俗的解释 docker 的桥接网络，我们先从计算机网络基本的知识讲起：</p><p data-pid=\"TDeBeoBa\">如下图，只需要一根网线相互连接，然后在计算机上配置一下自己的 ip 地址（在一个网段里），两台计算机就可以相互通信了。例如 A 计算机的 ip 我们写死 ip 到网卡，地址为 192.168.1.1/24，B 计算机是 192.168.1.2⁄24 ，他们都是 <a href=\"https://link.zhihu.com/?target=http%3A//192.168.1.xxx\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">http://</span><span class=\"visible\">192.168.1.xxx</span><span class=\"invisible\"></span></a> 网段。</p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-dbe0470567938660374bb80c222b678a_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1446\" data-rawheight=\"592\" data-original-token=\"v2-208bec1e7997b296b62b64ecb7ec8c63\" class=\"origin_image zh-lightbox-thumb\" width=\"1446\" data-original=\"https://pic1.zhimg.com/v2-dbe0470567938660374bb80c222b678a_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"7ZRZIXDF\">有些同学可能不理解，为啥要分配 ip 地址？因为我们很多通信协议是基于 ip 协议的，例如 http，tcp。所以必须分配 ip 地址，才能让数据包走出网卡。我们接着聊:</p><p data-pid=\"bT2n1-xp\">现在我们多加一些电脑，这时候一根网线肯定就不够了，我们就加入一个交换机（虚拟交换机是有 ip 的，但是现实生活中的交换机是没有 ip），如下图</p><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-5b58717066d43bf528910d41c8a42949_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"946\" data-original-token=\"v2-2dce540ac61f05c361503568f53636ec\" class=\"origin_image zh-lightbox-thumb\" width=\"1280\" data-original=\"https://pic2.zhimg.com/v2-5b58717066d43bf528910d41c8a42949_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"eOQyrAn8\">假设交换机的 ip 是 192.168.1.1/24，这个交换机还可以自动分配 ip（dhcp协议），只要计算机连接交换机，就会自动分配一个不重复的 ip 地址，那么多台计算机互相通信就解决了。</p><p data-pid=\"MLT0c9Gv\">其实 docker 内部默认有一个叫做 docker0 的网桥，这个网桥工作机制就跟我们上面说的交换机类似。而容器默认情况下，会连接 docker 0 网桥。如下图：</p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-eaf88c1e365c7d261f09fabe0b0de1c2_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1578\" data-rawheight=\"1124\" data-original-token=\"v2-4c702d90c94f059f6394dacafe23177f\" class=\"origin_image zh-lightbox-thumb\" width=\"1578\" data-original=\"https://pic1.zhimg.com/v2-eaf88c1e365c7d261f09fabe0b0de1c2_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"fM8ncD_x\"><b>这样容器之间互通的问题我们就解决了。</b></p><p data-pid=\"6vviC6R8\">那么如何解决容器跟外部网络通信的问题，例如某个容器去访问微信登录。</p><p data-pid=\"V-5FkNUI\">如下图，其实 docker0 是连接到我们真实物理机的网卡 eth0 来转发数据，从而让容器的数据通过 -&gt; docker0 -&gt; eth0 发送到计算机外部</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-1a9ed38698e813f8493e66dff8932728_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1454\" data-rawheight=\"932\" data-original-token=\"v2-804f721b7bf109f6c6d347a640809bfc\" class=\"origin_image zh-lightbox-thumb\" width=\"1454\" data-original=\"https://pica.zhimg.com/v2-1a9ed38698e813f8493e66dff8932728_r.jpg\"/></figure><p data-pid=\"tdPIj0cF\">这里又有问题了，容器内部的 ip 往往是一个内部地址，什么是内部地址？你会看到，我们前端启动前端应用，经常看到启动的 ip 地址是 192.168.x.x，你回到家启动前端应用分配的地址居然是一样的 192.168.x.x。我们知道 ip 地址必须全网唯一，为啥在家里分配的 ip 和在公司分配的 ip 一样呢？</p><p data-pid=\"6TOI-Rnb\">这是因为 ip 地址规定了一些只能在内网通讯的地址，不能用在外网，例如 192.168.x.x 就是不会用在外部网络访问的 ip 地址。</p><p data-pid=\"nFpVO3pC\">这对于 docker 容器访问外部网络就有问题了，你想想 docker容器 -&gt; docker0 -&gt; eth0 将数据包传给了微信服务器，微信服务不能说我回传的 ip 地址是 docker容器的 ip，因为 docker容器的 ip 是内部地址，不能在网络上传输。</p><p data-pid=\"mUKF_S9g\">这里又涉及一个概念，叫 nat 转换，也就是 docker 容器将数据包传给 eth0 的时候，会改写自己数据包发送端的 ip 地址为 eth0 的公网地址。</p><p data-pid=\"ufdQuVnL\"><b>这样就解决了容器访问外部网络的问题了。</b></p><p data-pid=\"v-pv0fEQ\">问题又来了哦，那返回给 eth0 的数据，如何知道这个数据包最终转发给哪个容器呢？这里涉及到一个叫做 iptables 的工具（NAT 转换也是依赖它），它可以记录转发规则，例如如果这个数据是从 80 端口出去的，那么返回的时候，就返回给 A 容对应的内部 ip。</p><h2>【延伸补充】深入原理5：docker 容器文件隔离和共享的秘密</h2><p data-pid=\"AOzugk3t\"><b>文件隔离</b></p><p data-pid=\"gKQ3kf1m\">docker 容器的文件系统是跟宿主机隔离的，在 docker 里，我们能看到一份独立的文件系统。linux 如何实现的呢？</p><p data-pid=\"dAmMdKEU\">实际上 linux 也是用了障眼法做到的，如下图，首先假设下图是正常的某台 linux 机器的目录结构：</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-18ea23409b73aa8d33554727b5403df8_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1536\" data-rawheight=\"888\" data-original-token=\"v2-565881e1b99005a16e34f99b2861dcb0\" class=\"origin_image zh-lightbox-thumb\" width=\"1536\" data-original=\"https://pic1.zhimg.com/v2-18ea23409b73aa8d33554727b5403df8_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"NMax9wAi\">然后我们希望 docker 容器跟 joe 目录（最右边最后一个目录）拿来作为容器的根目录，使用 linux 的 Mount Namespac 功能 + chroot 命令，结果如下图：</p><figure data-size=\"normal\"><img src=\"https://picx.zhimg.com/v2-354dea66cb77dd2ec28d124c3242fb85_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1536\" data-rawheight=\"1536\" data-original-token=\"v2-55534758b252b2931bf64996c10b94db\" class=\"origin_image zh-lightbox-thumb\" width=\"1536\" data-original=\"https://picx.zhimg.com/v2-354dea66cb77dd2ec28d124c3242fb85_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"wSD0B8m-\">容器的根目录，挂载到了宿主机的 joe 目录。由于 Mount Namespace 技术的特性，这个容器的根目录对于宿主机是看不见的。</p><p data-pid=\"KVfbX1Rl\">而这在某些情况下不是我们想要的。比如数据库文件，我们想留在宿主机上，这样重启容器的时候，依然保留了数据库的数据。</p><p data-pid=\"do8qAhvT\">而这里要使用到的挂载技术，就是Linux的<b>绑定挂载（bind mount）机制</b>。它的主要作用就是，允许你将一个目录或者文件，而不是整个设备，挂载到一个指定的目录上。并且，这时你在该挂载点上进行的任何操作，只是发生在被挂载的目录或者文件上，而原挂载点的内容则会被隐藏起来且不受影响。</p><p data-pid=\"5UptY4wA\"><b>文件共享</b></p><p data-pid=\"mvdVME_h\">由于容器的特性，如果容器删除，那么容器里的数据也会删除，之前的挂载功能也会解除。可是在某些情况下，我们希望保留容器里的数据，例如数据库，方便再下一次启动镜像的时候能共享之前容器的数据。</p><p data-pid=\"GdWXLERF\">这个功能在 docker 叫做绑定 <b>Volume 功能。</b> 这个功能的实现其实很简单，之间我们讲的绑定挂载，其实需要分为两步，第一步开启 Mount Namespace，此时容器内部仍然可以看到宿主机的目录，但是宿主机看不到容器的目录，第二步执行类似 chroot 命令，可以简单理解为执行后，容器就看不到宿主机目录了。</p><p data-pid=\"udjqXp6d\">所以我们可以在第一步之前，把 Volume 指定的宿主机目录（比如/home目录），挂载到指定的容器目录（比如/test目录）在宿主机上对应的目录上，这个 Volume 的挂载工作就完成了。</p><h2>最后补充</h2><p data-pid=\"BZXdwiVE\">补充，之前前端部署的 dockerfile 一般都会用分阶段构建的方法，首先借助 node.js 镜像打包前端应用，然后将打包好的内容放入 nginx 镜像中，最后借助 nginx 作为 web 服务器，来让外网访问。我们简单实现一下，可用在生产环境：</p><div class=\"highlight\"><pre><code class=\"language-text\"># Use the official Node.js runtime as the base image\nFROM node:20-slim as build\n\n# Set the working directory in the container\nWORKDIR /app\n\n# Copy package.json and package-lock.json to the working directory\nCOPY package*.json ./\n\n# Install dependencies\nRUN npm install\n\n# Copy the entire application code to the container\nCOPY . .\n\n# Build the React app for production\nRUN npm run build\n\n# Use Nginx as the production server\nFROM nginx:alpine\n\n# Copy the built React app to Nginx&#39;s web server directory\nCOPY --from=build /app/build /usr/share/nginx/html\n\n# Expose port 80 for the Nginx server\nEXPOSE 80\n\n# Start Nginx when the container runs\nCMD [&#34;nginx&#34;, &#34;-g&#34;, &#34;daemon off;&#34;]</code></pre></div><p data-pid=\"6VjYr6D1\">需要注意的是</p><div class=\"highlight\"><pre><code class=\"language-text\">COPY --from=build /app/build /usr/share/nginx/html</code></pre></div><p data-pid=\"jC4Y7bVw\">--from build , 这个 build 就是 <code>FROM node:20-slim as build</code> 中，node.js 镜像的别名。意思是把这个镜像中 /app/build 目录下的文件复制到 nginx:alpine 镜像的 /usr/share/nginx/html 文件夹下。</p><h2>欢迎加入交流群</h2><p data-pid=\"BUhCjyiP\">欢迎大家一起进群讨论前端全栈技术和 ai agent ，一起进步！</p>",
        "visited_count": 195,
        "navigator_vote": false,
        "voteup_count": 1
      },
      "brief": "{\"source\": \"TS\", \"type\": \"article\", \"id\": 1981680545684534845}",
      "attached_info": "CvANCO7U/Yr8vOSInQEQBxoJMjY3MzkxOTM4IPKo3skGKAEwAEBOSjAKBkl0ZW1DRhIgZG9jX3R5cGU6IEFydGljbGUKaWQ6IDI1MDE4NjQxMwoYACAAOgBiIDExNTg1NDBhZjk0NjI4Y2U5NDRjOGRjNjg3NzY0ODMxchMxOTgxNjgwNTQ1Njg0NTM0ODQ1qgEJcmVjb21tZW5kwgEgY2E5OTgwMmM3MzM1MDA5Y2VmZGVlMDRjNzRlN2MxN2XyAQoIDBIGTm9ybWFs8gEoCAoSJGViZjFkMDA4LTE0NDItNDcxNi1iMDc0LTA5MzBkMDVkZDA4OfIBBggLEgIxNIICAIgC0dWrxrwzkgIgY2E5OTgwMmM3MzM1MDA5Y2VmZGVlMDRjNzRlN2MxN2WaAgDKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygIbSW50ZXJhY3Rpb25TaG9ySW50ZXJlc3RSdWxlygIYUGVyaW9kSW50ZXJlc3RXZWlnaHRSdWxlygIUQ29udGVudEFnZVdlaWdodFJ1bGXaAgZJdGVtQ0boAgP6AgtOT1JNQUxfRkxPV4oDIDY2ZjI5N2EwYjBjNjRjYjI5YmY1MWE5NWIwYjcyMGU2mgMNCgJ2MhAAGgVvdGhlcqgDwwHYAwDqAxV0ZXh0QWxsU2l0ZU12SXRlbUNGVjL6A9cIEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERTotCAIQrAsYwAciI3YyLWE4MjNjYWU5Y2UwMjdmZWFkZTY5ZmJkNjE2N2Y1NjZhOi0IAhDiDRicBSIjdjItZGZhYzM0N2Q5NWFkMzZiZGFmOTg4NjllOTU5YzFhZWU6LQgCEKoNGKoGIiN2Mi1iMjllZmVmNTExNGE4ZmI5OWQ5ZmQ5NGFiMDYyZGY3NTotCAIQ/A4YiAYiI3YyLTcxNTI2NDMzYTViZmM1OWVkMmE0ZmE3MDg2YzU5MGY0Oi0IAhDSCxioByIjdjItYjI2MTRiMjk5Y2M1OWJkN2FhOTNiMGM0ZWZiYjUzY2M6LQgCENwLGOYGIiN2Mi1kNGU1MmIzNzRlNDNhOTE0ODIwOTU3ZmNmNWY1NWFlNTotCAIQ8AwYwwciI3YyLTU0YmVkMTA3M2RhZjMwNGU5YmJiMzNhMDBlYTZlZDYyOi0IBBDxBxiPBCIjdjItMDI0YWQ3ZjY2MzI3YjM2NmJjYTExNzlkN2FkNGEwZjE6LQgDELAHGPQEIiN2Mi03OGRhYTk0NWI2Mjc1MzlkYzdhNDk2NmUzZGUwODM1ODotCAQQ4BAYuAUiI3YyLTRlMmI3ZmQ5NGNmNmJmYjc2NDAwODYxMjBlNTg2YTQyOi0IBBCwDBjYBiIjdjItOGNhNjNjNmFhNGQyNTBmNWQ1ZTA2NDE3ZDdlYTcwZTA6LQgCENATGO4IIiN2Mi1hOWRmNGRmZmY4NWE1ODU4NjY5ZjA3OTJjOTQ0NjU4YzotCAIQ7g4YhAkiI3YyLWUxN2FhMDUzMzg2Y2FlZWMwOTlkYTFlOTc4NmYwNzYzOiwIAhDoBhhrIiN2Mi0xM2Y0ZmNkZWYxY2IzNjNjYzBlMTVhYmNlMTc3ZmU3YjotCAIQyA8YvgIiI3YyLTkxNjk0ZGZhYjE1ZjAxNzc1OTAxZmZiNjIwMDk3YWVkOi0IBBDADBjuCiIjdjItYmJjODZkZDNmZjhhY2YxMjQ5YWJhZjZhYmI0ZmEzMzM6LQgEEJsFGJgCIiN2Mi1iZmYzZTJiNGY2MWVhN2ZkNDc0YzBjMzhjOTQxNTdkMTotCAIQpgsY0AQiI3YyLTIwOGJlYzFlNzk5N2IyOTZiNjJiNjRlY2I3ZWM4YzYzOi0IAxCAChiyByIjdjItMmRjZTU0MGFjNjFmMDVjMzYxNTAzNTY4ZjUzNjM2ZWM6LQgEEKoMGOQIIiN2Mi00YzcwMmQ5MGM5NGYwNTlmNjM5NGRhY2FmZTIzMTc3ZjotCAMQrgsYpAciI3YyLTgwNGY3MjFiN2JmMTA5ZjZjNmQzNDdhNjQwODA5YmZjOi0IBBCADBj4BiIjdjItNTY1ODgxZTFiOTkwMDVhMTZlMzRmOTliMjg2MWRjYjA6LQgEEIAMGIAMIiN2Mi01NTUzNDc1OGIyNTJiMjkzMWJmNjQ5OTZjMTBiOTRkYoAEAIgEAJIEBk5vcm1hbJoEATOgBACoBACwBAC6BAJhacIEAzQwMMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAIAiZfz+BBQAAAAAAAAAAiQXpwkzgW4q0P5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AUOkAYAoAZQqAYDkgIuCgkyNjczOTE5MzgSEzE5ODE2ODA1NDU2ODQ1MzQ4NDUYByIKSU1BR0VfVEVYVA==",
      "action_card": false
    },
    {
      "id": "79_1768600300.910",
      "type": "feed",
      "offset": 79,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1768600300,
      "updated_time": 1768600300,
      "target": {
        "thanks_count": 1,
        "excerpt_new": "前世，我做了一世毒后。 十八岁弑君， 二十二岁杀子， 二十五岁垂帘听政。 四十年间，内肃朝纲，外慑六国。 痛过，难过，却从未手软过。 寿终正寝时。 内殿跪满皇亲国戚，外殿趴满文武大臣。 哭声震天，个个悲痛欲绝。 因我留下遗旨，不哭者，举族殉葬！ 一世风光，我心满意足。 唯一的遗憾，到底没有坐上龙椅。 再睁眼。 却重生在将军府濒死的真千金身上。 我看不到假千金的挑衅、爹娘的偏心和兄长的憎恶。 满眼都是十万兵权在…",
        "preview_text": "",
        "reshipment_settings": "allowed",
        "content": "<p data-pid=\"SSFN-O46\">前世，我做了一世毒后。</p><p data-pid=\"FwIZMmzH\">十八岁弑君，</p><p data-pid=\"8sfoFovo\">二十二岁杀子，</p><p data-pid=\"t97So2yO\">二十五岁垂帘听政。</p><p data-pid=\"c5t3BNeq\">四十年间，内肃朝纲，外慑六国。</p><p data-pid=\"nQlW3IKC\">痛过，难过，却从未手软过。</p><p data-pid=\"LCfFo7gE\">寿终正寝时。</p><p data-pid=\"k_GaaFbs\">内殿跪满皇亲国戚，外殿趴满文武大臣。</p><p data-pid=\"TeaUoRC3\">哭声震天，个个悲痛欲绝。</p><p data-pid=\"cixOEivX\">因我留下遗旨，不哭者，举族殉葬！</p><p data-pid=\"MhVq-0j9\">一世风光，我心满意足。</p><p data-pid=\"VrmiycDG\">唯一的遗憾，到底没有坐上龙椅。</p><p data-pid=\"KjXYT3nL\">再睁眼。</p><p data-pid=\"scxXP_BZ\">却重生在将军府濒死的真千金身上。</p><p data-pid=\"DihtgDcN\">我看不到假千金的挑衅、爹娘的偏心和兄长的憎恶。</p><p data-pid=\"4fG0OYBi\">满眼都是十万兵权在手，文武百官在冲我山呼万岁。</p><p data-pid=\"W-ykhWy9\">1</p><p data-pid=\"5YZl39R1\">我死时，风光无限。</p><p data-pid=\"XzsIyOfq\">皇亲国戚尽数跪在内殿，一个个悲痛欲绝。</p><p data-pid=\"NaolW8VM\">文武大臣也皆跪在殿外，匍匐在大雪之中，哭声震天响。</p><p data-pid=\"-1-iYItw\">我做了一世毒后。</p><p data-pid=\"uUkuZr_c\">十八岁时，弑了虚情假意的夫君。</p><p data-pid=\"iRYAY9lW\">二十二岁时，杀了过继在我名下的宿敌之子，</p><p data-pid=\"IxhoIV4j\">二十五岁时，我扶持幼帝登基，光明正大垂帘听政。</p><p data-pid=\"T3G4Rqe2\">四十年间，内肃朝纲，外慑六国，我有的是力气和手段。</p><p data-pid=\"FTNB9fGS\">痛过，难过，却从未手软过。</p><p data-pid=\"zpGwkyip\">被文武百官拿着后宫不得专政的祖训小小掣肘了一下。</p><p data-pid=\"uW_JfHIB\">临死之际，便也给这群老东西一个小小的教训。</p><p data-pid=\"2myBXGNq\">我留下懿旨，若不哭够两个时辰，便赐其举族殉葬。</p><p data-pid=\"xsvX-bhM\">天公作美，恰起风雪。</p><p data-pid=\"Y-v-DlQv\">让他们因痛失哀家，一个个哭晕在大雪中，表尽了忠诚与哀悼。</p><p data-pid=\"kbDCPNh3\">我这一生，恩仇尽了，不可谓不圆满。</p><p data-pid=\"FDFbCnRi\">唯一的遗憾，便是始终离龙椅一步之遥。</p><p data-pid=\"UuCoTfuY\">没想到再一睁眼，我织金镶玉的棺椁，成了冰冷的柴房。</p><p data-pid=\"KkJo9XSi\">一双指点江山挥斥方遒的手，被打得血肉模糊。</p><p data-pid=\"m3TLfVYb\">头疼欲裂，喉咙沙哑，我浑身如火烧。</p><p data-pid=\"RdiIdQSk\">我借着月光艰难爬去水缸边喝了一碗冷水，才在水缸里看清这张完全陌生的脸。</p><p data-pid=\"QxvSP-k_\">一段段不属于我的记忆如煮沸的水，在脑海里不断翻搅。</p><p data-pid=\"Cu6zwkl2\">2</p><p data-pid=\"wnfQTE-s\">原身是将军府的真千金沈昭序。</p><p data-pid=\"zDLMuHPZ\">五岁走失，流落民间，做了十年劈柴洒扫的丫鬟。</p><p data-pid=\"pTFr9Jms\">一朝被寻回，府中早已有了替代她的假千金。</p><p data-pid=\"WCl0HLfS\">她不及假千金嘴甜会撒娇。</p><p data-pid=\"Nucx-7Vd\">十年当牛做马，磨灭了她小姐的骄矜。</p><p data-pid=\"SUNhzAqM\">如今唯唯诺诺，惹足了众人的厌烦。</p><p data-pid=\"tiJeddoc\">属于她的认亲仪式，因假千金的离家出走，被取消。</p><p data-pid=\"PkmDZw7o\">属于她的爹娘与阿兄，因假千金没有安全感，对她避而不见。</p><p data-pid=\"VmJTQ3s5\">连她的院子、衣裙和嫁妆，都成了假千金的囊中之物。</p><p data-pid=\"ex6oPS1F\">饶是如此，假千金仍不满足。</p><p data-pid=\"BsUDyHrm\">她故意将其叫去湖边，纵身一跃落了水，让沈昭序背负谋杀假千金的污名。</p><p data-pid=\"MhibvPHj\">沈昭序双手被打三十戒尺，扔进柴房被关了整整三日。</p><p data-pid=\"wy3CxJn2\">期间，无一人来看过。</p><p data-pid=\"7f6m_KC2\">更遑论热水与吃食。</p><p data-pid=\"sT49CZWK\">她就在那般失望与难过里，悄悄地走了。</p><p data-pid=\"7c9MVTbc\">这副身子，却留给了我。</p><p data-pid=\"PFEghset\">思绪飘远，我记得十年前的宫宴上，我见过她。</p><p data-pid=\"rhi0KZak\">3</p><p data-pid=\"5un5fAlH\">那年除夕，朝臣命妇皆在下首，与我举杯一同辞旧迎新。</p><p data-pid=\"gisV-z8O\">歌舞升平，琴声袅袅。</p><p data-pid=\"aRVdntuU\">可到底，他们畏惧我的狠辣，畏畏缩缩，不够尽兴。</p><p data-pid=\"CCw5MWNL\">我便起身离开，借着微醺，在御花园的鱼池边小坐。</p><p data-pid=\"eommgeXw\">说来好笑，我那个爬床上位、靠椒房之宠捅我心窝子的庶妹，就是被我按在这个鱼池里淹死的。</p><p data-pid=\"f47nLRhW\">尸身泡了整整三日，等她浮肿到面目全非时，</p><p data-pid=\"5rRsz1VM\">我才着人将其打捞上来，送去了我皇帝顾瑾的床边。</p><p data-pid=\"yrfkdhTN\">夫妻一场，我拿一把诛心的刀送了缠绵病榻的顾瑾，最后一程。</p><p data-pid=\"KJKecZbB\">一转眼，竟过去了四十多年。</p><p data-pid=\"goR5Eikc\">我半撑着脑袋，陷在回忆里浮浮沉沉。</p><p data-pid=\"79lwKsMy\">彼时，方才四岁的沈昭序迷了路。</p><p data-pid=\"9d8Ce4O8\">拎着一盏小花灯，撇着小红嘴，莽莽撞撞冲了过来。</p><p data-pid=\"1FAgxnnH\">宫人欲拦，被我一个眼神制止了。</p><p data-pid=\"b1sh2eEe\">她头顶两个小童髻，圆圆的脸蛋红扑扑的，唇边挂着两个梨涡，宛若年画娃娃一般好看。</p><p data-pid=\"bwgpSrTi\">找不到自己的娘，她哭得满脸都是鼻涕与眼泪。</p><p data-pid=\"8sVJFGNG\">扑到我跟前，揪着我火凤宽袖呜咽道：</p><p data-pid=\"J9lCNCaS\">“祖母夫人，您知道宫宴在何处吗？我找不到娘亲了。”</p><p data-pid=\"UdFDeQ8D\">人人畏惧我，自然敬而远之。</p><p data-pid=\"3Ovm1gTf\">她啊，不怕我。</p><p data-pid=\"-eenD5JU\">天伦之乐，皇家没有。</p><p data-pid=\"d5kiegQs\">我虽不稀罕，但难免在这年画娃娃面前动了心。</p><p data-pid=\"KtjtA7Qg\">我拉着她的手，难得好脾气地拿点心哄着。</p><p data-pid=\"Un4TZPnm\">转头着人去请沈夫人来接她，她才心满意足破涕为笑。</p><p data-pid=\"w8_NaD-Z\">继而，不拘谨地·····赖进了我怀里。</p><p data-pid=\"tVko2uMm\">“阿昭做的灯好看吗？”</p><p data-pid=\"IdbLNPHH\">红锦鲤鱼灯被她高高举起，照着她泪痕未干的眼睛亮晶晶的。</p><p data-pid=\"dEky__bO\">鱼灯肚子又大又圆，眼珠子点的一大一小，尾巴好似被猫啃了一口，好大一个豁口。</p><p data-pid=\"-h5VXKsd\">不能说好看。</p><p data-pid=\"_4tJMIDl\">只能说很丑。</p><p data-pid=\"vd609nIu\">我从来不假辞色，却因不想糟蹋了小孩子的心意，便违心道：</p><p data-pid=\"9eV_iCpB\">“好看！哪里来的？”</p><p data-pid=\"E10q9mMf\">她嘴角一咧，好似得到了极大的认可一般洋洋得意，眼睛弯弯的好似月牙。</p><p data-pid=\"mz3keUYQ\">“我亲手做的，放在菩萨面前许过愿的。”</p><p data-pid=\"yNzlnhRk\">她坐在我腿上等阿娘。</p><p data-pid=\"HFEVcAMY\">便自来熟地指着丑陋的红锦鲤，一点点为我讲解：</p><p data-pid=\"v1SUfmZb\">“鱼肚子大大的，能装很大很大的愿望。祖父要国泰民安，阿爹要家族兴旺，阿娘要全家安康，阿兄要高中魁首，都装得下。”</p><p data-pid=\"BJn6PKl_\">我好奇，拨动她发髻上的小铃铛问道：</p><p data-pid=\"0aW4sqMu\">“那阿昭要什么？”</p><p data-pid=\"PAbP2gGq\">她认真看我：</p><p data-pid=\"hS4YpMnT\">“阿昭要他们都如意。”</p><p data-pid=\"VMUGOq0e\">我手一顿。</p><p data-pid=\"USZFisL5\">视线落在她粉雕玉琢的小脸上。</p><p data-pid=\"wRH5rHDh\">纤长的睫毛长如车盖，却挡住她大大的圆眼里懵懂的天真与狡黠。</p><p data-pid=\"i8GsIlkL\">可真是个极好的姑娘。</p><p data-pid=\"5x0UVbcl\">她胖乎乎的小手指着鱼眼睛，颇为自得道：</p><p data-pid=\"hyqACjRO\">“眼睛一大一小在做鬼脸，是不是和阿昭一样可爱？”</p><p data-pid=\"Uu0wWvGu\">原是如此。</p><p data-pid=\"y8J9W8S2\">我竟笑出了声来：</p><p data-pid=\"Jr-xewys\">“的确如此。”</p><p data-pid=\"tWfqK1RS\">见她对猫咬的鱼尾巴闭口不提，我便故意指着鱼尾巴问道：</p><p data-pid=\"H5nbdlXY\">“那这个呢，又有什么说法？”</p><p data-pid=\"PEyh-iR9\">她歪着脑袋，羞赧一笑：</p><p data-pid=\"Ue5sYMCI\">“尾巴······尾巴阿昭画错了，嘿嘿嘿。我还没学到画鱼尾巴这么难的地方就已经到了除夕。”</p><p data-pid=\"VUKYI9yT\">“待明年，我画条长尾鱼送你好不好？我保证，比这个好看呢。”</p><p data-pid=\"slEcdDMd\">我刚要应下，沈夫人却着急忙慌地赶来了。</p><p data-pid=\"kq_t0m9J\">她满面煞白，见阿昭坐在我怀里，更是惊恐至极。</p><p data-pid=\"zC9V9TXl\">正要行礼告罪，被我抬手制止。</p><p data-pid=\"4Eo3qL-l\">阿昭发现了她娘，跳下我的膝盖，提着花灯摇摇晃晃扑进了她娘怀里。</p><p data-pid=\"h48c14ws\">又哇哇大哭了起来：</p><p data-pid=\"5wE9r7vu\">“我只是，我只是闻着点心的味儿走了一点点远，就迷路了。呜呜呜，我再也不馋点心了。”</p><p data-pid=\"g1F2-TCQ\">平安跟了我多年，他最懂我心意。</p><p data-pid=\"kYi8_Ftq\">他拎着一盒点心塞进了沈夫人手里：</p><p data-pid=\"1KAApeLh\">“娘娘喜欢小姐，赏给小姐的。”</p><p data-pid=\"sHW874SA\">阿昭欢喜。</p><p data-pid=\"rAc5i6ZM\">投桃报李，她将她的丑鱼硬塞给了我。</p><p data-pid=\"tlttk7PK\">我喜欢鱼灯。</p><p data-pid=\"5tPmW_te\">也喜欢崇山家的那个小姑娘。</p><p data-pid=\"ro2c_4ck\">便褪下手腕上的镯子，许她一个锦绣前程。</p><p data-pid=\"u1GbyF-r\">沈夫人小心翼翼收入怀里，千恩万谢。</p><p data-pid=\"aDUKYKWP\">小姑娘什么都不懂，也像模像样学她阿娘的样子与我道谢。</p><p data-pid=\"IVEWwgnq\">我摸着她的小脑袋，与她约定：</p><p data-pid=\"yfWq4e_J\">“明年除夕，记得带着长尾巴鱼来看我哦。”</p><p data-pid=\"V3KzqZ8h\">她挂着甜甜的酒窝，雀跃地应下了。</p><p data-pid=\"7rWCx22M\">临走之际，她不忘一步三回头地叮嘱我：</p><p data-pid=\"F0EvG-td\">“大师交代，挂在床头上便能事事如愿了。愿夫人事事如愿。”</p><p data-pid=\"nh2I1fik\">可我终究没有如愿。</p><p data-pid=\"K4CrgQfi\">离来年除夕只剩三月，她便丢失在了大街上。</p><p data-pid=\"coYM8hpf\">4</p><p data-pid=\"cfgjzCkM\">将军府找疯了。</p><p data-pid=\"o7hommp6\">我提着那盏鱼灯，心里难过得紧。</p><p data-pid=\"EyNomhTz\">便差人四处打探，却如泥牛入海始终半点消息都没有。</p><p data-pid=\"EbIDb2lf\">后来听说，沈夫人听从大师建议，领养了一个引路女，意在引出阿昭的回家路。</p><p data-pid=\"8-sS3Ikp\">后来的宫宴上，我远远瞧见过那引路女一眼。</p><p data-pid=\"fQCWt86n\">精明有余，纯善不足，我不喜欢。</p><p data-pid=\"AH1-JzBE\">是以，她提着精美的长尾鱼为我献礼，一双眼睛滴溜溜往我手腕上的镯子瞟时，我便不悦地扫了她一眼，冲沈夫人道：</p><p data-pid=\"tUa5Mssy\">“鱼灯人人都会做，可与哀家许诺的人只她一个。”</p><p data-pid=\"58gM5mbI\">“旁人都能忘了她，你是她娘，竟也踩着她的血肉为外人谋前程？”</p><p data-pid=\"xOGSxpbL\">我不叫起，两人就那么在众目睽睽之下跪着，丢尽了颜面。</p><p data-pid=\"C8CN2GwD\">此后，我便不许沈家女眷入宫了。</p><p data-pid=\"sHu3k1yy\">小姑娘失约后，我也不再去御花园的水池边看鱼。</p><p data-pid=\"NLCrfb52\">我总想起，那个坐在我腿上讲鱼灯的小姑娘。</p><p data-pid=\"06gTFZCi\">那个丑花灯，当真在我寝殿的床头挂了很多年。</p><p data-pid=\"Cw5YdaP9\">临终之际，我还不忘看那丑鱼一眼。</p><p data-pid=\"HgkyL2rD\">默念道：</p><p data-pid=\"WYpxv3VT\">“我这一生也算事事如愿了，唯一遗憾的是，终究未能名正言顺坐上龙椅。”</p><p data-pid=\"gwttiFJF\">“如今要走了，我便愿你不管身在何处，都幸福圆满。”</p><p data-pid=\"TzOE6JCv\">那鱼肚子很大，却装不下我的遗愿和阿昭的圆满。</p><p data-pid=\"kdNh8zcQ\">她竟死在将军府的柴房里，形单影只，无人知晓。</p><p data-pid=\"U6tyEWh7\">哐当！</p><p data-pid=\"WA_a3-4D\">柴房门被一把推开。</p><p data-pid=\"h6oqHkG3\">来人趾高气扬道：</p><p data-pid=\"Rl8LL8XI\">“小姐及笄礼，夫人放你出去，让你谨言慎行，莫要给将军府丢脸。”</p><p data-pid=\"fQvmsSiC\">5</p><p data-pid=\"k9rq3JTo\">管事嬷嬷送来一套华丽衣裙，命令般，让我换上。</p><p data-pid=\"cmS0eNg1\">我抬手在衣服上摸了摸，连眼皮都没抬一下，轻声道：</p><p data-pid=\"8_m_qCYU\">“扔出去！”</p><p data-pid=\"fml14mKL\">嬷嬷神色一变：</p><p data-pid=\"n8RKDOeP\">“夫人心意，你竟不领情要将衣服扔出去？到底是乡野回来的，一点规矩都不懂，与二小姐比，你简直······”</p><p data-pid=\"ubthebhR\">她话音未落，便被我骤然揪着胸襟。</p><p data-pid=\"WI_aLF0j\">在她大惊失色之际。</p><p data-pid=\"E5nBtEpB\">“通”的一声！</p><p data-pid=\"fh2m3biQ\">扔出了门外几丈远。</p><p data-pid=\"1yFVU0_n\">她圆滚滚的身子砸在地上，挣扎两下噗出一口血，便没了动静。</p><p data-pid=\"OS5V3PD1\">我拿着帕子擦了擦手，眼皮都没抬：</p><p data-pid=\"HGyIErrZ\">“我说的是，把你扔出去。”</p><p data-pid=\"4XTvqSQa\">原来，阿昭劈柴多年，练出了一把好力气啊。</p><p data-pid=\"zRDjUOWf\">如此，配上我的刀法，甚好。</p><p data-pid=\"mq_k8XJB\">我穿着破败的衣裙，带着院子里两个忠心的丫鬟，去了前院。</p><p data-pid=\"ytbnWAC2\">及笄礼快要开始了。</p><p data-pid=\"DkmSyMwN\">众人围在假千金沈安之身边，将不可多得的珍宝一一捧到她跟前。</p><p data-pid=\"OmFe-r1d\">花团锦簇里，沈安之尽显人生得意。</p><p data-pid=\"kCOn4YT8\">可一墙之隔的柴房里，沈昭序却死不瞑目，无人知晓。</p><p data-pid=\"dJiRUVUc\">沈夫人捧着沈安之的手，将库房钥匙放进了沈安之的掌心：</p><p data-pid=\"haOaWonO\">“若无安之多年陪伴，母亲只怕难以活到今日。这库房里的嫁妆，皆是你外祖母给我的，我一个不留，统统给我安之。”</p><p data-pid=\"67ObYx4E\">说着，她褪下了手上的玉镯子：</p><p data-pid=\"ICYTpG7G\">“这是当年太后娘娘的赏赐，娘娘说，无论何时，这玉镯子都能在皇室面前要得一愿。这从心所愿，娘也给你。”</p><p data-pid=\"2OY6Rncy\">我亲手许给阿昭的前程，竟被她娘亲手拱手相让。</p><p data-pid=\"2agbYBnR\">阿昭啊，胸口好痛。</p><p data-pid=\"mqEUgV94\">沈安之咬着唇，扑进沈母怀里，露出少女的纯粹与狡黠。</p><p data-pid=\"Pu5O5VQq\">“安之最爱娘亲了，就知道娘亲永远将安之放在第一位。”</p><p data-pid=\"aMtXzq3O\">将军府嫡子，沈昭序的兄长沈霁抬手轻轻敲了敲沈安之的头。</p><p data-pid=\"cJ8R798_\">他一脸娇宠地嗔怪道：</p><p data-pid=\"Jeq4TjdI\">“没良心的坏东西，最爱娘就不最爱阿兄了？”</p><p data-pid=\"ICprYCE-\">“亏我知晓某人胆小鬼怕黑。费尽心思着人去南海采出了最大的鲛珠给某人做夜灯呢。”</p><p data-pid=\"GJijeXE7\">“既不是最爱阿兄，鲛珠没收！”</p><p data-pid=\"bEaMxBJi\">沈安之嘟着嘴。拽上沈霁的衣袖连连讨饶：</p><p data-pid=\"5THavsp5\">“好阿兄，安之错了。阿兄也是安之的最爱。求阿兄了，快把鲛珠给我吧。京城里的头一份，我定要京中小姐们开开眼。”</p><p data-pid=\"iE_pIMO_\">沈霁嘴角一弯，将锦盒双手奉上。</p><p data-pid=\"itAHmH48\">盒盖一开，鲛珠圆润光泽，便是青天白日，也隐隐可见其中光亮。</p><p data-pid=\"3ofRe47C\">沈安之雀跃至极：</p><p data-pid=\"Zk7MZio9\">“阿兄最好了，这珠子，好生漂亮。”</p><p data-pid=\"p9s8NAlc\">沈父轻咳一声，满眼慈爱望向沈安之：</p><p data-pid=\"8gd1VDLs\">“为父虽没有太后娘娘的赏赐，也无鲛珠这般珍贵之物，可为父啊，竟也是舔着老脸，为某些人求了一桩婚事。那顾侯门槛都快被踏烂了，却因为父爱女心切，在陛下面前捷足先登，抢下了庚帖。”</p><p data-pid=\"toQI482_\">“不知这冠绝京城的顾侯，比之玉镯与鲛珠，又当如何？”</p><p data-pid=\"zO74mqZA\">沈安之眼睛一亮，当即高兴得跳了起来。</p><p data-pid=\"BODc5M6y\">抱着沈父的手臂撒娇道：</p><p data-pid=\"AvXv2omV\">“娘亲好，阿兄好，爹爹也好。”</p><p data-pid=\"mHQf7eyI\">说着，面颊飞霞，娇羞万分道：</p><p data-pid=\"gx7xZ4wd\">“顾侯······自然也是极好的。”</p><p data-pid=\"kzjvOa0L\">一语落下，惹众人哄堂大笑。</p><p data-pid=\"zQqlfp3e\">那是属于他们的阖家团圆的满堂欢喜，沈昭序却什么都没有。</p><p data-pid=\"XCLesTOw\">胸口本能的刺痛密密麻麻，穿心扎肺，让我难过得紧。</p><p data-pid=\"m7d0LFJN\">眼前确实一家和睦，其乐融融之下，忘了还有个多余的我。</p><p data-pid=\"zmgrutfi\">“有些人不知羞哦，刚及笄就想着嫁人啊。”</p><p data-pid=\"XK1DBshU\">“娘亲，你看阿兄，惯会欺负我。爹爹，你打他嘛，最好打得他起不来床才好。”</p><p data-pid=\"ZGVW3jre\">“为父当真打他，你可别哭鼻子哦。”</p><p data-pid=\"zhgEOR0S\">沈安之一跺脚：</p><p data-pid=\"z49DsX6r\">“才不呢。”</p><p data-pid=\"Rn1h9eXg\">沈霁环抱双臂，啧啧摇头：</p><p data-pid=\"EDycA7q6\">“没良心啊没良心，亏我花光了积蓄为某人采来鲛珠。”</p><p data-pid=\"TjViVzP_\">沈安之吐了吐舌头，摇头晃脑道：</p><p data-pid=\"ZOShiPqh\">“活该，乌拉乌拉。”</p><p data-pid=\"7ef9ks4o\">沈母的视线终于落在人后的我身上。</p><p data-pid=\"aETGqJHk\">6</p><p data-pid=\"vav91icF\">她脸上的笑容一寸寸收起，眉宇间的疏离尤其显眼：</p><p data-pid=\"Jq9jy9Dr\">“我送去的衣裙呢？为何不穿？”</p><p data-pid=\"d-XWHEra\">“今日你妹妹及笄，你穿一身破败的衣裙，成何体统。”</p><p data-pid=\"BycRwAHN\">沈霁冷冷地瞥了我一眼，轻嗤道：</p><p data-pid=\"g2EEF-L8\">“若不如此，如何在人前卖惨。”</p><p data-pid=\"155i6bph\">“毕竟今日是安之的及笄礼，她只用穿着一身破败的衣裙出现在人前，便能让安之受尽议论与讥讽。”</p><p data-pid=\"o7bTJH9s\">“蛇蝎心肠，三十戒尺当真是打得太轻了。依我所见，就该送去掖庭好好长长教训。”</p><p data-pid=\"nOY0zaX2\">沈安之眸光一闪，压下眼底的蔑视与恨意，楚楚可怜道：</p><p data-pid=\"NbXsFucX\">“阿兄，不要怪姐姐了。”</p><p data-pid=\"7CEafWGJ\">“到底是我占了姐姐的身份，她恨我怨我都是应该的。”</p><p data-pid=\"SP22E6xN\">“不过是落水而已，我躺了几日不也没事了。想必姐姐也是知错了。”</p><p data-pid=\"OJ18XkeN\">说着，她无辜的大眼睛里涌上了水汽，压着帕子强装坚韧的样子，简直我见犹怜。</p><p data-pid=\"xuAcNd56\">不顾众人的冷落与憎恶。</p><p data-pid=\"pejjNcCk\">她一副单纯天真的模样，毫不顾忌般来牵我的手：</p><p data-pid=\"YMf20XUc\">“姐姐大抵没有过过及笄礼吧？”</p><p data-pid=\"TTM8GDfx\">“今日虽是安之的及笄礼，但安之愿与姐姐共享。”</p><p data-pid=\"u9pINT97\">“只求姐姐莫要再惹爹娘生气，为推我入水之事，真诚地与爹娘道歉。”</p><p data-pid=\"BFiDti8X\">沈夫人唇瓣抖了抖。</p><p data-pid=\"L37AGV_h\">终究在目光触及我手上狰狞的伤口时，唇瓣紧逼，将视线挪向了别处。</p><p data-pid=\"d8ZcFOcg\">沈父倒是眸光一凛，毫不客气道：</p><p data-pid=\"tUxfei5c\">“早知找回来是这般蛇蝎，我倒是宁愿你五岁那年就死掉。好过丢人现眼，惹全家不快。”</p><p data-pid=\"w4QgBY5v\">沈安之忙劝道：</p><p data-pid=\"NPyFKii-\">“爹爹莫要动气，姐姐只是一时糊涂，如今她定然是知错了。”</p><p data-pid=\"jIvtFrpE\">说着，她撇向我。</p><p data-pid=\"qtkdd-AD\">用只有我看到的角度，挑衅一笑。</p><p data-pid=\"zT7yBzqO\">沈霁便意会般大叫道：</p><p data-pid=\"Knz7IpIM\">“安之都为你做到了这般地步，你还不跪下与她道歉。”</p><p data-pid=\"0ehk98aL\">7</p><p data-pid=\"E-ixyhxG\">心口的一阵刺痛传来。</p><p data-pid=\"9M50eI2U\">是沈昭序的家人给她的最后的心痛与难过。</p><p data-pid=\"skMCmTba\">那是她十年如一日期盼回的家，和要投奔的家人。</p><p data-pid=\"nvqB_FAO\">到头来，早就将爱转移，不要她了。</p><p data-pid=\"OmEGocaI\">因为多余，所以她不想活了。</p><p data-pid=\"SK3FjWkl\">因为不想活了，她便是高热多日，也只字不提。</p><p data-pid=\"ZfFs3jR_\">饶是到死，她想的也不过是，若有来世，不愿投身高门，只愿承欢爹娘膝下。</p><p data-pid=\"-1CjkUQz\">我微不可闻叹了口气。</p><p data-pid=\"4xfED-0x\">缓缓抬头，看向沈家几人，问道：</p><p data-pid=\"-V0j7qg7\">“推她入水的事？你们亲眼所见？”</p><p data-pid=\"aMD2EWRf\">沈霁闻言大怒：</p><p data-pid=\"urpMT9Ab\">“就知道，你死性不改，绝不会承认自己要害安之性命的。”</p><p data-pid=\"pQUZkPur\">“便是我们没有看到，安之还能骗人不成？”</p><p data-pid=\"khBKl3I6\">“再者，母亲身边的嬷嬷亲眼所见，她与你何仇何怨，为何要冤枉于你？”</p><p data-pid=\"_XoJxhK7\">“若非安之求情，我早便将你扔去庄子上自生自灭，轮得到你几次三番害安之性命。”</p><p data-pid=\"HkqzWKYT\">我再次看向沈安之，一字一句清冷问道：</p><p data-pid=\"gruPJHju\">“我当真要害你性命吗？”</p><p data-pid=\"AWUjO8hH\">那嬷嬷竟抢先回道：</p><p data-pid=\"fc3W4ua0\">“大小姐，老奴亲眼所见，这还有假。”</p><p data-pid=\"_TmDbbOP\">沈安之随之眼圈一红：</p><p data-pid=\"GkOyHO8x\">“过去的事都过去了。只要你我姐妹日后和睦共处，爹娘与阿兄便也开怀了。”</p><p data-pid=\"bD2rW4qK\">“姐姐懂事点，去跟爹娘认个错。”</p><p data-pid=\"D-dWi4f2\">沈霁冷笑道：</p><p data-pid=\"QK7X4uSa\">“你就是太善良，这个时候还在为她说话。人家可不领情，保不齐背后出阴招，再害你性命呢。”</p><p data-pid=\"8UqQA0by\">沈母终于开了口，却是冲我冷声道：</p><p data-pid=\"XAtvJ4wP\">“既已知错，便端端正正给你妹妹赔不是。我可既往不咎，看在安之为你求情的份上，饶你一次。”</p><p data-pid=\"Wv-Sjm7T\">沈安之嘴角一弯，看向我道：</p><p data-pid=\"IudHVwbf\">“既为姐妹，自然该和和睦睦的，你说是吗，姐姐。”</p><p data-pid=\"OqaVwaxP\">说着，沈安之眸光一凛，抱着我的手便不知从何处掏出了一枚银针，狠狠扎进我胳膊。</p><p data-pid=\"4trasMpN\">我痛到倒吸凉气。</p><p data-pid=\"9VS6g67Y\">她嘴角一弯，就准备往后倒去：</p><p data-pid=\"TXbFGslS\">“啊，姐姐别推我·······”</p><p data-pid=\"Wh3i6uOS\">人即将倒地，却被我揪住衣襟。</p><p data-pid=\"leETijk9\">8</p><p data-pid=\"twvnMJ6p\">将军府众人大惊：</p><p data-pid=\"uSiYJ89t\">“沈昭序，你要做什么？”</p><p data-pid=\"soJuZGDK\">“大庭广众之下，你要行凶不成？”</p><p data-pid=\"NV5aFYmW\">“安之若有个好歹，我定将你扔去庄子上残度余生。”</p><p data-pid=\"ygvnPqtQ\">在众人七嘴八舌对我的讨伐里。</p><p data-pid=\"2mSpL8-R\">我一凛眸光，攥着沈安之的右手，在她挣脱不开时，缓缓举起。</p><p data-pid=\"ouY--lry\">她指尖明晃晃的针上，还带着血。</p><p data-pid=\"aIC7UHe9\">不等众人倒吸凉气，沈安之当即大哭道：</p><p data-pid=\"D4AFlZpj\">“姐姐，你为了冤枉我，竟对自己下这般死手。”</p><p data-pid=\"C8mzJTzY\">沈母大怒：</p><p data-pid=\"9c-cR3M2\">“你妹妹事事为你，便是衣裙都是为你挑得最好的。你竟还是死性不改，你莫不是当真要气死我才好。”</p><p data-pid=\"G_21fWyh\">如此伎俩，是个人都能看透。</p><p data-pid=\"rQHDQsKe\">偏偏沈家人的心是歪的。</p><p data-pid=\"Nge1cw62\">我哑然失笑，拔出护卫的刀，抬手一刀劈开托盘里的衣裙。</p><p data-pid=\"dgvbyqYn\">在衣裙落地时，我挥挥洒洒几刀。</p><p data-pid=\"xGZTDuCr\">那华丽衣裙被撕碎，露出了内里密密麻麻的黑芦絮。</p><p data-pid=\"GwAIElne\">甚至虫卵遍布，恶心至极。</p><p data-pid=\"Rs5Zakse\">望向面色煞白的沈母，我问道：</p><p data-pid=\"-xmiQw_b\">“这便是你女儿好心给我的礼物，沈夫人认为，这是人穿的吗？”</p><p data-pid=\"W8p9zWr3\">不等沈夫人开口，沈安之尖锐叫道：</p><p data-pid=\"330LR2S2\">“姐姐换一身衣裙当众污蔑我，到底是何居心？难道你非要赶走我才肯罢休吗？”</p><p data-pid=\"vbY177u9\">她人都在我手上了，还这般理直气壮。</p><p data-pid=\"hhkXFx6P\">我当真觉得好笑，便饶有兴致地笑着问道：</p><p data-pid=\"tL5394RY\">“这么说，又是我害你？”</p><p data-pid=\"Z1RgHFzY\">她眸中得意太甚，以至于一开口，话里都带上了浓浓的挑衅：</p><p data-pid=\"MkLcmECL\">“姐姐向来，不都是视我如眼中钉吗？”</p><p data-pid=\"wMDNSkWh\">如此······</p><p data-pid=\"cIo-Ii8d\">我轻笑一声。</p><p data-pid=\"1pTFf1rD\">在众目睽睽之下，攥着沈安之的衣襟，在她大惊失色里。</p><p data-pid=\"JuwELzlw\">将人一把提起，高高举过头顶······</p><p data-pid=\"ukBDr49O\">而后！</p><p data-pid=\"jIzCTbvI\">通的一声！</p><p data-pid=\"yzft4D8P\">砸在院中冰冷的青石砖上。</p><p data-pid=\"3ek_iRkv\">9</p><p data-pid=\"NcrJkr6N\">众人大惊失色，大吼大叫着朝我扑来时。</p><p data-pid=\"Wf77cXvd\">我凛然回身一刀，当着他们的面……</p><p data-pid=\"ULoqq0mm\">利落地斩断了沈安之那只拿银针扎我的手。</p><p data-pid=\"DEIRdeAr\">而后，在几人瞳孔地震时，我踩着断手，刀尖直指沈安之咽喉，轻蔑嗤笑道：</p><p data-pid=\"RtWylX2n\">“我若害她，便是如此！”</p><p data-pid=\"dlLn3-lP\">（爽文已写完，攒数据上架，求点赞收藏助力上架）</p>",
        "type": "answer",
        "url": "https://api.zhihu.com/answers/1995167089602891802",
        "author": {
          "gender": 0,
          "followers_count": 31987,
          "url_token": "14-68-12-42-45",
          "name": "小阿柒",
          "avatar_url": "https://picx.zhimg.com/50/v2-c92844caac9641bc8aeb2ca1181bb26e_l.jpg?source=b6762063",
          "is_org": false,
          "is_following": false,
          "is_followed": false,
          "id": "2ca15ffafe1d0b0f0088716800008719",
          "url": "https://api.zhihu.com/people/2ca15ffafe1d0b0f0088716800008719",
          "user_type": "people",
          "headline": "阿弥陀佛！百赞完结！欢迎推文，侵权必究，谢谢🙏"
        },
        "navigator_vote": false,
        "is_labeled": false,
        "visited_count": 11181,
        "answer_type": "normal",
        "preview_type": "default",
        "favorite_count": 460,
        "voteup_count": 346,
        "comment_count": 116,
        "is_copyable": true,
        "vote_next_step": "vote",
        "allow_segment_interaction": true,
        "id": "1995167089602891802",
        "updated_time": 1768464902,
        "relationship": {
          "is_thanked": false,
          "is_nothelp": false,
          "voting": 0
        },
        "is_navigator": false,
        "created_time": 1768464902,
        "question": {
          "author": {
            "headline": "",
            "avatar_url": "https://pic1.zhimg.com/50/v2-e41e6e7d565dfbfc582c84117b8becf9_l.jpg?source=b6762063",
            "is_following": false,
            "is_followed": false,
            "url": "https://api.zhihu.com/people/8425b0557b7cbfe0819d45173980c063",
            "name": "小丑恐惧症",
            "url_token": "35-93-65-62",
            "is_org": false,
            "gender": 0,
            "followers_count": 0,
            "id": "8425b0557b7cbfe0819d45173980c063",
            "user_type": "people"
          },
          "created": 1662559196,
          "excerpt": "",
          "question_type": "normal",
          "id": "552331283",
          "url": "https://api.zhihu.com/questions/552331283",
          "bound_topic_ids": [
            73,
            19898,
            43292
          ],
          "comment_count": 0,
          "title": "有没有女主比较清醒决绝的小说？",
          "follower_count": 0,
          "is_following": false,
          "relationship": {
            "is_author": false
          },
          "detail": "",
          "type": "question",
          "answer_count": 0
        },
        "excerpt": "前世，我做了一世毒后。 十八岁弑君， 二十二岁杀子， 二十五岁垂帘听政。 四十年间，内肃朝纲，外慑六国。 痛过，难过，却从未手软过。 寿终正寝时。 内殿跪满皇亲国戚，外殿趴满文武大臣。 哭声震天，个个悲痛欲绝。 因我留下遗旨，不哭者，举族殉葬！ 一世风光，我心满意足。 唯一的遗憾，到底没有坐上龙椅。 再睁眼。 却重生在将军府濒死的真千金身上。 我看不到假千金的挑衅、爹娘的偏心和兄长的憎恶。 满眼都是十万兵权在…"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1995167089602891802}",
      "attached_info": "CvoFCO7U/Yr8vOSInQEQBBoJNzY1NTM5MTQ4IIbEossGKNoCMHRAT0phCilUU19TT1VSQ0VfSE9UX0NST1NTX1JFQUxfVElNRV9ORVdfQ09OVEVOVBIuaG90X3JlY2FsbF9yZWFsdGltZV90Om5ldzdkOjIwMjYtMDEtMTc6bW9udGhseRgAIAA6AFoIODUwMjM1MTViIDExNTg1NDBhZjk0NjI4Y2U5NDRjOGRjNjg3NzY0ODMxchMxOTk1MTY3MDg5NjAyODkxODAyigEJNTUyMzMxMjgzqgEJcmVjb21tZW5kwgEgMmNhMTVmZmFmZTFkMGIwZjAwODg3MTY4MDAwMDg3MTnyAQoIDBIGTm9ybWFs8gEoCAoSJGQ1ZWY1Nzg4LWFlNmEtNGQ5YS1hY2QyLTY3NGYwZGViOTA0OfIBBggLEgIxNIICAIgC0dWrxrwzkgIgMmNhMTVmZmFmZTFkMGIwZjAwODg3MTY4MDAwMDg3MTmaAgDKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygIYUGVyaW9kSW50ZXJlc3RXZWlnaHRSdWxl2gIpVFNfU09VUkNFX0hPVF9DUk9TU19SRUFMX1RJTUVfTkVXX0NPTlRFTlToAgT6AgtOT1JNQUxfRkxPV4oDIDY2ZjI5N2EwYjBjNjRjYjI5YmY1MWE5NWIwYjcyMGU2mgMNCgJ2MhAAGgVvdGhlcqgDrVfYAwDqAyJob3RDcm9zc1JlYWxUaW1lTmV3Q29udGVudFJlY2FsbGVy+gMfEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERYAEAIgEAJIEBk5vcm1hbJoEATSgBACoBACwBAC6BAJhacIEAzQwMMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAABDEgD+BBQAAAAAAAAAAiQXpwkzgW4q0P5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AUOkAYAoAZRqAYAkgIuCgk3NjU1MzkxNDgSEzE5OTUxNjcwODk2MDI4OTE4MDIYBCIKSU1BR0VfVEVYVA==",
      "action_card": false
    },
    {
      "id": "80_1768600300.933",
      "type": "feed",
      "offset": 80,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1768600300,
      "updated_time": 1768600300,
      "target": {
        "url": "https://api.zhihu.com/answers/1977430613465273230",
        "author": {
          "url": "https://api.zhihu.com/people/c9b8d5b819e12184ae85763c8da13b8b",
          "user_type": "people",
          "headline": "",
          "is_org": false,
          "is_following": false,
          "is_followed": false,
          "id": "c9b8d5b819e12184ae85763c8da13b8b",
          "url_token": "yi-qia-luo-si-67-81",
          "name": "伊卡洛斯",
          "avatar_url": "https://pic1.zhimg.com/50/v2-057e3d56285d143af5d3445afda747ef_l.jpg?source=b6762063",
          "gender": -1,
          "followers_count": 39
        },
        "preview_text": "",
        "id": "1977430613465273230",
        "thanks_count": 0,
        "reshipment_settings": "allowed",
        "is_labeled": false,
        "visited_count": 359,
        "favorite_count": 1,
        "answer_type": "normal",
        "is_navigator": false,
        "created_time": 1764236197,
        "allow_segment_interaction": true,
        "question": {
          "title": "日本学者敢质疑神武东征以及日本史书记载的早期诸天皇的真实性么？",
          "detail": "",
          "bound_topic_ids": [
            20031
          ],
          "is_following": false,
          "relationship": {
            "is_author": false
          },
          "url": "https://api.zhihu.com/questions/657148139",
          "comment_count": 0,
          "answer_count": 0,
          "excerpt": "",
          "id": "657148139",
          "created": 1716638718,
          "follower_count": 0,
          "question_type": "normal",
          "type": "question",
          "author": {
            "user_type": "people",
            "url_token": "11230504",
            "headline": "",
            "is_org": false,
            "is_following": false,
            "is_followed": false,
            "id": "71112d52cf7af9ed7b9bcedf0e75f7ef",
            "url": "https://api.zhihu.com/people/71112d52cf7af9ed7b9bcedf0e75f7ef",
            "name": "知乎用户uM1QRa",
            "avatar_url": "https://picx.zhimg.com/50/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=b6762063",
            "gender": 0,
            "followers_count": 2
          }
        },
        "excerpt": "哪怕是平泉澄这样皇国史观的忠实信徒，也不得不承认日本书纪多算了六百年 仲哀天皇之前的基本被日本人当神话故事看 他们看雄略天皇之前的基本上就和我们看夏商一样",
        "content": "<p data-pid=\"NqZIl0Pd\">哪怕是平泉澄这样皇国史观的忠实信徒，也不得不承认日本书纪多算了六百年</p><p data-pid=\"KmgekHLk\">仲哀天皇之前的基本被日本人当神话故事看</p><p data-pid=\"oz-baLHo\">他们看雄略天皇之前的基本上就和我们看夏商一样</p>",
        "navigator_vote": false,
        "comment_count": 1,
        "updated_time": 1764236197,
        "voteup_count": 7,
        "is_copyable": true,
        "excerpt_new": "哪怕是平泉澄这样皇国史观的忠实信徒，也不得不承认日本书纪多算了六百年 仲哀天皇之前的基本被日本人当神话故事看 他们看雄略天皇之前的基本上就和我们看夏商一样",
        "preview_type": "default",
        "relationship": {
          "is_nothelp": false,
          "voting": 0,
          "is_thanked": false
        },
        "vote_next_step": "vote",
        "type": "answer"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1977430613465273230}",
      "attached_info": "CtMFCO7U/Yr8vOSInQEQBBoJNzU4NDkxMTMwIKW3oMkGKAcwAUBQSiAKFVRTX1NPVVJDRV9USEVNRV9NRVJHRRIBMBgAIAA6AFoJMTA4MzEwOTQ2YiAxMTU4NTQwYWY5NDYyOGNlOTQ0YzhkYzY4Nzc2NDgzMXITMTk3NzQzMDYxMzQ2NTI3MzIzMIoBCTY1NzE0ODEzOaoBCXJlY29tbWVuZMIBIGM5YjhkNWI4MTllMTIxODRhZTg1NzYzYzhkYTEzYjhi8gEKCAwSBk5vcm1hbPIBKAgKEiRkMjlkMmZiZC1iODY3LTQ0ODgtODNhNi0yNmM0OTk1NTM1MmXyAQYICxICMTSCAgCIAtHVq8a8M5ICIGM5YjhkNWI4MTllMTIxODRhZTg1NzYzYzhkYTEzYjhimgIAygIWU2hvckludGVyZXN0V2VpZ2h0UnVsZcoCG0ludGVyYWN0aW9uU2hvckludGVyZXN0UnVsZcoCGFBlcmlvZEludGVyZXN0V2VpZ2h0UnVsZcoCFENvbnRlbnRBZ2VXZWlnaHRSdWxl2gIVVFNfU09VUkNFX1RIRU1FX01FUkdF6AIC+gILTk9STUFMX0ZMT1eKAyA2NmYyOTdhMGIwYzY0Y2IyOWJmNTFhOTViMGI3MjBlNpoDDQoCdjIQABoFb3RoZXKoA+cC2AMA6gMbVGhlbWVNZXJnZU5ld1YxUG9vbFJlY2FsbGVy+gMfEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERYAEAIgEAJIEBk5vcm1hbJoEATKgBACoBACwBAC6BAJhacIEAzQwMMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAwJObgj+BBQAAAAAAAAAAiQXpwkzgW4q0P5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AUOkAYAoAZSqAYAkgIuCgk3NTg0OTExMzASEzE5Nzc0MzA2MTM0NjUyNzMyMzAYBCIKSU1BR0VfVEVYVA==",
      "action_card": false
    },
    {
      "id": "81_1768600300.35",
      "type": "feed",
      "offset": 81,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1768600300,
      "updated_time": 1768600300,
      "target": {
        "url": "https://api.zhihu.com/answers/1993646836444075704",
        "created_time": 1768102446,
        "updated_time": 1768102446,
        "thanks_count": 0,
        "excerpt": "我当年去广州一家叫YY的互联网公司面试，当时的面试官是这么问我的。一来都不用我自我介绍的，就直接问我java锁相关的，一路的追问，我记得当时的场景是这样的。 java中的synchronized是干嘛用的? 我当年的回复的是，它可以让没有获取到锁的线程排队，只有获得到锁的线程才可以去执行任务。避免并发问题。 面试官又继续追问，你说获取不到锁的线程会排队，这里是什么意思? 我回说就是被【操作系统挂起了】，等待召唤。 被挂起? …",
        "relationship": {
          "is_nothelp": false,
          "voting": 0,
          "is_thanked": false
        },
        "vote_next_step": "vote",
        "type": "answer",
        "excerpt_new": "我当年去广州一家叫YY的互联网公司面试，当时的面试官是这么问我的。一来都不用我自我介绍的，就直接问我java锁相关的，一路的追问，我记得当时的场景是这样的。 java中的synchronized是干嘛用的? 我当年的回复的是，它可以让没有获取到锁的线程排队，只有获得到锁的线程才可以去执行任务。避免并发问题。 面试官又继续追问，你说获取不到锁的线程会排队，这里是什么意思? 我回说就是被【操作系统挂起了】，等待召唤。 被挂起? …",
        "reshipment_settings": "allowed",
        "is_labeled": false,
        "visited_count": 7423,
        "favorite_count": 50,
        "answer_type": "normal",
        "allow_segment_interaction": true,
        "question": {
          "url": "https://api.zhihu.com/questions/461650956",
          "answer_count": 0,
          "detail": "",
          "bound_topic_ids": [
            622,
            3646,
            57837
          ],
          "relationship": {
            "is_author": false
          },
          "id": "461650956",
          "type": "question",
          "author": {
            "headline": "太子妃您口下留情啊",
            "followers_count": 19,
            "url": "https://api.zhihu.com/people/70064827c6f370f1c9b4a47b1076784b",
            "url_token": "zhang-xin-53-65",
            "name": "大筒木一乐",
            "is_org": false,
            "gender": 1,
            "is_following": false,
            "is_followed": false,
            "id": "70064827c6f370f1c9b4a47b1076784b",
            "user_type": "people",
            "avatar_url": "https://pic1.zhimg.com/50/v2-0d46ade7c55f265b9caeaca1116c8d4c_l.jpg?source=b6762063"
          },
          "comment_count": 2,
          "title": "Java面试时，你被深挖过什么问题？",
          "is_following": false,
          "question_type": "normal",
          "created": 1622087407,
          "follower_count": 0,
          "excerpt": ""
        },
        "author": {
          "followers_count": 1628,
          "id": "1a26e3cba17f6566525300ad6af80a13",
          "url": "https://api.zhihu.com/people/1a26e3cba17f6566525300ad6af80a13",
          "user_type": "people",
          "url_token": "samge-ge-43",
          "avatar_url": "https://picx.zhimg.com/50/v2-d4037a975c6be26e723acb795fafc273_l.jpg?source=b6762063",
          "is_org": false,
          "gender": 1,
          "is_followed": false,
          "name": "SamDeepThinking",
          "headline": "一个还在一线大量撸代码的技术管理者",
          "is_following": false
        },
        "is_copyable": true,
        "preview_text": "",
        "content": "<blockquote data-pid=\"PSoopjZG\">我当年去广州一家叫YY的互联网公司面试，当时的面试官是这么问我的。</blockquote><p data-pid=\"yYicV_VR\">一来都不用我自我介绍的，就直接问我java锁相关的，一路的追问，我记得当时的场景是这样的。</p><blockquote data-pid=\"USh6DMn7\">java中的synchronized是干嘛用的? </blockquote><p data-pid=\"oDc39xDL\">我当年的回复的是，它可以让没有获取到锁的线程排队，只有获得到锁的线程才可以去执行任务。避免并发问题。</p><p data-pid=\"1O-0SGmB\">面试官又继续追问，你说获取不到锁的线程会排队，这里是什么意思? </p><p data-pid=\"boctcBUS\">我回说就是被【操作系统挂起了】，等待召唤。</p><blockquote data-pid=\"RuWytAEN\">被挂起? 那很影响性能哦，有无办法让获取不到锁的线程【先不要挂起? 】</blockquote><p data-pid=\"TYpq97h8\">我当时就很疑惑，还有这种技术? 我想了30秒后，就回复说，这个知识点不懂。其实后来我才知道原来是自旋锁，当线程获取不到锁后，先自旋一下。因为：</p><blockquote data-pid=\"MoE76XBE\">可能获取到锁的线程执行速度快，很快就会释放锁了。如果再从操作系统把【被挂起】的线程调度回来，就再不值得了。</blockquote><p data-pid=\"AyxXz0Zb\">这个在某些场景下，是ok的。效率会提升。这里考察一下大家，有无更好的方式呢? </p><p data-pid=\"PYq5gOxF\">。。。。。。。。。。。。。。请思考几秒。。。。。。。。。。。。。。。。。。。</p><p data-pid=\"Yex0QOb3\">其实是有的，就是采用：</p><blockquote data-pid=\"mPREQb_0\">让获取不到线程的锁，自旋，但是自旋是有时间条件的，比如1秒，一秒后还获取不到锁，则才被操作系统挂起。</blockquote><h2>虽然自旋锁的问题我回答不上，但是synchronized的问题，面试官依然没有放过。</h2><p data-pid=\"sZx6O-nS\">又继续追问。synchronized底层是如何实现的。哈哈，这个当时我是了解过的，回答的上。无非是用monitorenter 和 monitorexit 指令，以及对象关联的 <b>Monitor（监视器锁）</b>。获取到监听器锁的线程，就进入代码块执行代码，执行完毕后调用monitorexit。释放锁以及通知排队的线程可以起来干活了。</p><h2>然后呢? 就这么放过我了吗? </h2><p data-pid=\"IYwW2XgQ\">没有的，面试官继续问：除了synchronized，java还有什么可以用来加锁的，有什么区别? </p><p data-pid=\"Ww1_4maf\">这个其实就是在问java 1.5的lock和trylock。这块我当时回答的不是很好，没有回答出lock支持中断响应，超时机制等，会比较灵活。</p><h2>到此，关于synchronized的提问，面试官才真正放过我了。</h2><p data-pid=\"4ZAX9kAn\">哈哈，你看，蛮多互联网公司的面试官，很喜欢同一个问题，一路追问下去的。真的很流行。</p><p data-pid=\"XMrS_7Ga\">这个也容易理解，他也是想看看，候选人对某个问题了解到什么程度，如果每个问题，面试官问了一次后就不再问了，那么我告诉你，这个是一个危险信号。</p><p data-pid=\"SWkJMlUM\">因为面试官觉得不需要再追问下去了，因为候选人压根就只是粗略的了解过而已，再问下去，没有任何的意义。</p><p></p><p></p><p></p>",
        "id": "1993646836444075704",
        "comment_count": 13,
        "preview_type": "default",
        "is_navigator": false,
        "navigator_vote": false,
        "voteup_count": 36
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1993646836444075704}",
      "attached_info": "CtQFCO7U/Yr8vOSInQEQBBoJNzY0OTI5NTgyIK60jMsGKCQwDUBRSioKH1RTX1NPVVJDRV9USEVNRV9MTE1fR1JBUEhfTUVSR0USATAYACAAOgBaCDY0ODY4NTg5YiAxMTU4NTQwYWY5NDYyOGNlOTQ0YzhkYzY4Nzc2NDgzMXITMTk5MzY0NjgzNjQ0NDA3NTcwNIoBCTQ2MTY1MDk1NqoBCXJlY29tbWVuZMIBIDFhMjZlM2NiYTE3ZjY1NjY1MjUzMDBhZDZhZjgwYTEz8gEKCAwSBk5vcm1hbPIBKAgKEiRlYTU0ZDA4MC0xMTk5LTRhOTctYTZlZC1iZDczODI4NTQzMznyAQYICxICMTSCAgCIAtHVq8a8M5ICIDFhMjZlM2NiYTE3ZjY1NjY1MjUzMDBhZDZhZjgwYTEzmgIAygIWU2hvckludGVyZXN0V2VpZ2h0UnVsZcoCGFBlcmlvZEludGVyZXN0V2VpZ2h0UnVsZcoCGFF1ZXN0aW9uQWdlSXNvbGF0aW9uUnVsZdoCH1RTX1NPVVJDRV9USEVNRV9MTE1fR1JBUEhfTUVSR0XoAgP6AgtOT1JNQUxfRkxPV4oDIDY2ZjI5N2EwYjBjNjRjYjI5YmY1MWE5NWIwYjcyMGU2mgMNCgJ2MhAAGgVvdGhlcqgD/znYAwDqAyNUaGVtZUxMTUdyYXBoTWVyZ2VOZXdWMVBvb2xSZWNhbGxlcvoDHxIMVU5LTk9XTl9NT0RFIAAqDU5PX0lNQUdFX01PREWABACIBACSBAZOb3JtYWyaBAEzoAQAqAQAsAQAugQCYWnCBAM0MDDIBADSBA/mjqjojZDlt7Lmm7TmlrDYBADwBAD5BAAAAKCbmoU/gQUAAAAAAAAAAIkF6cJM4FuKtD+SBQCaBQNkZnSiBQNkZnSyBQExuQUAAAAAAAAAANAFAOAFAOgFAPAFDpAGAKAGU6gGAZICLgoJNzY0OTI5NTgyEhMxOTkzNjQ2ODM2NDQ0MDc1NzA0GAQiCklNQUdFX1RFWFQ=",
      "action_card": false
    },
    {
      "id": "82_1768600300.810",
      "type": "feed",
      "offset": 82,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1768600300,
      "updated_time": 1768600300,
      "target": {
        "comment_count": 0,
        "excerpt": "背景假设你有一个商城，卖很多商品，你需要为这些商品进行备货，你能不能根据历史记录推测明天大概能卖出多少货，然后根据预测结果进行备货 日期新增浏览人数新增收藏人数新增评论人数新增销量明天销量2026-01-01100006003599882026-01-02900007006388752026-01-03850006557775682026-01-04930008142268如上表所示，需要预测01-05的销量进行备货，有什么办法可以解决 回归分析import pandas as pd from sklearn.linear_model imp…",
        "relationship": {
          "is_thanked": false,
          "is_nothelp": false,
          "voting": 0
        },
        "voteup_count": 0,
        "thanks_count": 0,
        "created_time": 1768556231,
        "preview_text": "",
        "reshipment_settings": "allowed",
        "vote_next_step": "vote",
        "id": "1995550152765768405",
        "author": {
          "is_org": false,
          "followers_count": 9,
          "is_followed": false,
          "name": "江湖人称豪哥",
          "avatar_url": "https://picx.zhimg.com/50/v2-67a4959dc9cc01437c073956bac3da44_l.jpg?source=b6762063",
          "user_type": "people",
          "url_token": "jiang-hu-ren-cheng-hao-ge-59",
          "headline": "软件工程师",
          "gender": -1,
          "is_following": false,
          "id": "9305288b2c1fcde5134b08cf5627381b",
          "url": "https://api.zhihu.com/people/9305288b2c1fcde5134b08cf5627381b"
        },
        "updated_time": 1768556231,
        "is_copyable": true,
        "preview_type": "default",
        "content": "<h2>背景</h2><p data-pid=\"hzlbeZ3z\">假设你有一个商城，卖很多商品，你需要为这些商品进行备货，你能不能根据历史记录推测明天大概能卖出多少货，然后根据预测结果进行备货</p><table data-draft-node=\"block\" data-draft-type=\"table\" data-size=\"normal\"><tbody><tr><th>日期</th><th>新增浏览人数</th><th>新增收藏人数</th><th>新增评论人数</th><th>新增销量</th><th>明天销量</th></tr><tr><td>2026-01-01</td><td>10000</td><td>600</td><td>35</td><td>99</td><td>88</td></tr><tr><td>2026-01-02</td><td>90000</td><td>700</td><td>63</td><td>88</td><td>75</td></tr><tr><td>2026-01-03</td><td>85000</td><td>655</td><td>77</td><td>75</td><td>68</td></tr><tr><td>2026-01-04</td><td>93000</td><td>814</td><td>22</td><td>68</td><td></td></tr></tbody></table><p data-pid=\"evqHT1CH\">如上表所示，需要预测01-05的销量进行备货，有什么办法可以解决</p><p class=\"ztext-empty-paragraph\"><br/></p><h2>回归分析</h2><div class=\"highlight\"><pre><code class=\"language-python\"><span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"kn\">as</span> <span class=\"nn\">pd</span>\n<span class=\"kn\">from</span> <span class=\"nn\">sklearn.linear_model</span> <span class=\"kn\">import</span> <span class=\"n\">LinearRegression</span>\n\n<span class=\"c1\"># 构建数据</span>\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s2\">&#34;新增浏览人数&#34;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"mi\">10000</span><span class=\"p\">,</span> <span class=\"mi\">9000</span><span class=\"p\">,</span> <span class=\"mi\">8500</span><span class=\"p\">,</span> <span class=\"mi\">9300</span><span class=\"p\">],</span>\n    <span class=\"s2\">&#34;新增收藏人数&#34;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"mi\">600</span><span class=\"p\">,</span> <span class=\"mi\">700</span><span class=\"p\">,</span> <span class=\"mi\">655</span><span class=\"p\">,</span> <span class=\"mi\">814</span><span class=\"p\">],</span>\n    <span class=\"s2\">&#34;新增评论人数&#34;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"mi\">35</span><span class=\"p\">,</span> <span class=\"mi\">63</span><span class=\"p\">,</span> <span class=\"mi\">77</span><span class=\"p\">,</span> <span class=\"mi\">22</span><span class=\"p\">],</span>\n    <span class=\"s2\">&#34;新增销量&#34;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"mi\">99</span><span class=\"p\">,</span> <span class=\"mi\">88</span><span class=\"p\">,</span> <span class=\"mi\">75</span><span class=\"p\">,</span> <span class=\"mi\">68</span><span class=\"p\">],</span>\n    <span class=\"s2\">&#34;明天销量&#34;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"mi\">88</span><span class=\"p\">,</span> <span class=\"mi\">75</span><span class=\"p\">,</span> <span class=\"mi\">68</span><span class=\"p\">,</span> <span class=\"bp\">None</span><span class=\"p\">]</span>\n<span class=\"p\">}</span>\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># 准备训练数据（前3条）</span>\n<span class=\"n\">X_train</span> <span class=\"o\">=</span> <span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">iloc</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"p\">:</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"n\">y_train</span> <span class=\"o\">=</span> <span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">iloc</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n\n<span class=\"c1\"># 训练模型</span>\n<span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">LinearRegression</span><span class=\"p\">()</span>\n<span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">fit</span><span class=\"p\">(</span><span class=\"n\">X_train</span><span class=\"p\">,</span> <span class=\"n\">y_train</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># 预测第4天的“明天销量”</span>\n<span class=\"n\">X_pred</span> <span class=\"o\">=</span> <span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">iloc</span><span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">:</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"p\">:</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"n\">y_pred</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">predict</span><span class=\"p\">(</span><span class=\"n\">X_pred</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># 输出结果</span>\n<span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"s2\">&#34;模型系数: {model.coef_}&#34;</span><span class=\"p\">)</span>\n<span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"s2\">&#34;模型截距: {model.intercept_}&#34;</span><span class=\"p\">)</span>\n<span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"s2\">&#34;第4天的明天销量预测值: {y_pred[0]:.2f}&#34;</span><span class=\"p\">)</span></code></pre></div><p data-pid=\"MVoIuOeZ\">机器学习的知识说概念可能比较难懂，这里直接上手代码，通过代码的方式来说明相关的原理。</p><p data-pid=\"MQnvQ_px\">机器学习的训练代码是下面两句</p><div class=\"highlight\"><pre><code class=\"language-python\"><span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">LinearRegression</span><span class=\"p\">()</span>\n<span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">fit</span><span class=\"p\">(</span><span class=\"n\">X_train</span><span class=\"p\">,</span> <span class=\"n\">y_train</span><span class=\"p\">)</span></code></pre></div><p data-pid=\"7I1py8JK\">LinearRegression 就是使用线性代数来解决预测的问题：y = ax + b</p><p data-pid=\"3NSlX-5K\">x = 新增浏览人数、新增收藏人数、新增评论人数、新增销量</p><p data-pid=\"aMffbSkF\">y = 明天销量</p><p data-pid=\"Js77WRyo\">y = a1 * 新增浏览人数 + a2 * 新增收藏人数 + a3 * 新增评论人数 + a4 *新增销量 + b</p><p data-pid=\"4cUtp2nH\">需要推测出 a1,a2,a3,a4 和 b 的值，这几个就是机器学习里面的参数</p><p data-pid=\"Wyq1rxIo\"><a href=\"https://link.zhihu.com/?target=http%3A//model.fit\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">model.fit</a> 就是根据历史数据计算出 a1,a2,a3,a4 和 b 的值</p><p data-pid=\"4XNv8K0U\">其实 a 和 b 都是估算值，随着训练的数据越多，数据就会越精准</p><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"bHwR3kPP\">预测代码是下面这句</p><div class=\"highlight\"><pre><code class=\"language-text\"># 预测第4天的“明天销量”\nX_pred = df.iloc[3:4, :-1]\ny_pred = model.predict(X_pred)</code></pre></div><p data-pid=\"G31gakX6\">当上面的代码执行完 <a href=\"https://link.zhihu.com/?target=http%3A//model.fit\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">model.fit</a> 之后，a1,a2,a3,a4 和 b 的参数值就保存在 model 里面，因此调用 model.predict 就可以根据之前的参数值代入公式推测出 y 值。</p><p class=\"ztext-empty-paragraph\"><br/></p><h2>聚类分析</h2><p data-pid=\"oo_tpAOf\">商城现在需要根据用户的消费金额对用户进行等级划分，等级越高的用户折扣越大。</p><table data-draft-node=\"block\" data-draft-type=\"table\" data-size=\"normal\"><tbody><tr><th>user_id</th><th>消费金额</th></tr><tr><td>1</td><td>569</td></tr><tr><td>2</td><td>231</td></tr><tr><td>3</td><td>234</td></tr><tr><td>4</td><td>233</td></tr><tr><td>5</td><td>668</td></tr><tr><td>6</td><td>789</td></tr><tr><td>7</td><td>888</td></tr><tr><td>8</td><td>222</td></tr><tr><td>9</td><td>333</td></tr></tbody></table><p data-pid=\"SJ6WucEY\">其中一个想法是为每个等级设计一个金额，达到金额之后属于某个等级。</p><p data-pid=\"QyOxmnzJ\">但有另一种做法是，想对用户等级进行平均分配，比如10个人里面有每个等级有3个人这样子。</p><p data-pid=\"fPwb07pB\">可以用机器学习的聚类分析来实现</p><div class=\"highlight\"><pre><code class=\"language-python\"><span class=\"c1\"># 导入所需库</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"kn\">as</span> <span class=\"nn\">pd</span>\n<span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"kn\">as</span> <span class=\"nn\">np</span>\n<span class=\"kn\">from</span> <span class=\"nn\">sklearn.cluster</span> <span class=\"kn\">import</span> <span class=\"n\">KMeans</span>\n\n\n<span class=\"c1\"># ===================== 1. 数据准备 =====================</span>\n<span class=\"c1\"># 示例数据（你可以替换成自己的真实用户消费数据）</span>\n<span class=\"c1\"># 格式：user_id（用户ID）、consumption（消费金额）</span>\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">&#39;user_id&#39;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">9</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">],</span>\n    <span class=\"s1\">&#39;consumption&#39;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"mi\">569</span><span class=\"p\">,</span> <span class=\"mi\">231</span><span class=\"p\">,</span> <span class=\"mi\">234</span><span class=\"p\">,</span> <span class=\"mi\">233</span><span class=\"p\">,</span> <span class=\"mi\">668</span><span class=\"p\">,</span> <span class=\"mi\">789</span><span class=\"p\">,</span> <span class=\"mi\">888</span><span class=\"p\">,</span> <span class=\"mi\">222</span><span class=\"p\">,</span> <span class=\"mi\">333</span><span class=\"p\">,</span> <span class=\"mi\">950</span><span class=\"p\">]</span>\n<span class=\"p\">}</span>\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># ===================== 2. 构建K-Means聚类模型（固定3个等级） =====================</span>\n<span class=\"c1\"># 提取消费金额特征</span>\n<span class=\"n\">X</span> <span class=\"o\">=</span> <span class=\"n\">df</span><span class=\"p\">[[</span><span class=\"s1\">&#39;consumption&#39;</span><span class=\"p\">]]</span>\n\n<span class=\"c1\"># 初始化KMeans模型，n_clusters固定为3（3个等级）</span>\n<span class=\"c1\"># random_state固定为42保证结果可复现</span>\n<span class=\"n\">kmeans</span> <span class=\"o\">=</span> <span class=\"n\">KMeans</span><span class=\"p\">(</span><span class=\"n\">n_clusters</span><span class=\"o\">=</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"n\">random_state</span><span class=\"o\">=</span><span class=\"mi\">42</span><span class=\"p\">)</span>\n<span class=\"n\">df</span><span class=\"p\">[</span><span class=\"s1\">&#39;cluster_label&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">kmeans</span><span class=\"o\">.</span><span class=\"n\">fit_predict</span><span class=\"p\">(</span><span class=\"n\">X</span><span class=\"p\">)</span></code></pre></div><p data-pid=\"ffRZh9PR\">核心代码是这两行</p><div class=\"highlight\"><pre><code class=\"language-python\"><span class=\"n\">kmeans</span> <span class=\"o\">=</span> <span class=\"n\">KMeans</span><span class=\"p\">(</span><span class=\"n\">n_clusters</span><span class=\"o\">=</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"n\">random_state</span><span class=\"o\">=</span><span class=\"mi\">42</span><span class=\"p\">)</span>\n<span class=\"n\">df</span><span class=\"p\">[</span><span class=\"s1\">&#39;cluster_label&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">kmeans</span><span class=\"o\">.</span><span class=\"n\">fit_predict</span><span class=\"p\">(</span><span class=\"n\">X</span><span class=\"p\">)</span></code></pre></div><p data-pid=\"pAlLRrov\">运行这两行代码后，模型会：</p><ul><li data-pid=\"iJekq6fC\">自动计算出 3 个聚类中心点（比如：266、569、875）；</li><li data-pid=\"ekX-udSm\">给每个数据分配标签：</li><ul><li data-pid=\"peAQsXFA\">231、234、333 → 标签 0（低消费簇）</li><li data-pid=\"ABNKc6fW\">569、668 → 标签 1（中消费簇）</li><li data-pid=\"309JErWi\">789、888、950 → 标签 2（高消费簇） </li></ul><li data-pid=\"zQXlAuA3\"><code>df[&#39;cluster_label&#39;]</code>列会存储这些 0/1/2 的标签。</li></ul>",
        "is_labeled": false,
        "visited_count": 15,
        "type": "answer",
        "url": "https://api.zhihu.com/answers/1995550152765768405",
        "is_navigator": false,
        "favorite_count": 1,
        "answer_type": "normal",
        "navigator_vote": false,
        "allow_segment_interaction": true,
        "question": {
          "detail": "",
          "type": "question",
          "is_following": false,
          "follower_count": 0,
          "author": {
            "name": "匿名用户",
            "headline": "",
            "is_org": false,
            "gender": -1,
            "is_following": false,
            "is_followed": false,
            "url_token": "",
            "url": "",
            "user_type": "people",
            "avatar_url": "https://picx.zhimg.com/v2-d41c2ceaed8f51999522f903672a521f_l.jpg?source=b6762063",
            "followers_count": 0,
            "id": ""
          },
          "title": "机器学习该怎么入门？",
          "comment_count": 17,
          "excerpt": "",
          "id": "20691338",
          "answer_count": 0,
          "bound_topic_ids": [
            3084,
            4253,
            187240
          ],
          "relationship": {
            "is_author": false
          },
          "question_type": "normal",
          "url": "https://api.zhihu.com/questions/20691338",
          "created": 1357304890
        },
        "excerpt_new": "背景假设你有一个商城，卖很多商品，你需要为这些商品进行备货，你能不能根据历史记录推测明天大概能卖出多少货，然后根据预测结果进行备货 日期新增浏览人数新增收藏人数新增评论人数新增销量明天销量2026-01-01100006003599882026-01-02900007006388752026-01-03850006557775682026-01-04930008142268如上表所示，需要预测01-05的销量进行备货，有什么办法可以解决 回归分析import pandas as pd from sklearn.linear_model imp…"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1995550152765768405}",
      "attached_info": "Ct8FCO7U/Yr8vOSInQEQBBoJNzY1Njk3OTE4IMeNqMsGKAAwAEBSSiQKGVRTX1NPVVJDRV9XQVJNX1VQX05PUk1BTDISATAYACAAOgBaBjQ1NzAzMWIgMTE1ODU0MGFmOTQ2MjhjZTk0NGM4ZGM2ODc3NjQ4MzFyEzE5OTU1NTAxNTI3NjU3Njg0MDWKAQgyMDY5MTMzOKoBCXJlY29tbWVuZMIBIDkzMDUyODhiMmMxZmNkZTUxMzRiMDhjZjU2MjczODFi8gEKCAwSBk5vcm1hbPIBKAgKEiQyMjlmMTBjYi1mNzM4LTQ5MzgtYjZmYi05MjRmZTQ3MDc1ZmTyAQYICxICMTSCAgCIAtHVq8a8M5ICIDkzMDUyODhiMmMxZmNkZTUxMzRiMDhjZjU2MjczODFimgIAygIWU2hvckludGVyZXN0V2VpZ2h0UnVsZcoCG0ludGVyYWN0aW9uU2hvckludGVyZXN0UnVsZcoCGFBlcmlvZEludGVyZXN0V2VpZ2h0UnVsZcoCGENvbnRlbnRXYXJtVXBCcmVha0luUnVsZdoCGVRTX1NPVVJDRV9XQVJNX1VQX05PUk1BTDLoAgL6AgtOT1JNQUxfRkxPV4oDIDY2ZjI5N2EwYjBjNjRjYjI5YmY1MWE5NWIwYjcyMGU2mgMNCgJ2MhAAGgVvdGhlcqgDD9gDAOoDIHdhcm11cFR3b1Rvd2VyVGV4dE5vcm1hbFJlY2FsbGVy+gMfEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERYAEAIgEAJIEBk5vcm1hbJoEATKgBACoBACwBAC6BAJhacIEAzQwMMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAwBiicD+BBQAAAAAAAAAAiQXpwkzgW4q0P5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AUOkAYAoAZUqAYAkgIuCgk3NjU2OTc5MTgSEzE5OTU1NTAxNTI3NjU3Njg0MDUYBCIKSU1BR0VfVEVYVA==",
      "action_card": false
    },
    {
      "id": "83_1768600300.288",
      "type": "feed",
      "offset": 83,
      "verb": "TOPIC_ACKNOWLEDGED_ARTICLE",
      "created_time": 1768600300,
      "updated_time": 1768600300,
      "target": {
        "id": "1995078074002329669",
        "created": 1768443754,
        "linkbox": {
          "category": "",
          "pic": "",
          "title": "",
          "url": ""
        },
        "preview_text": "",
        "content": "<p data-pid=\"dZ-UU8AH\">在 AI 与自动化技术加速落地的今天，越来越多轻量、高效、开源的工具正悄然改变我们的工作流。无论你是开发者、自由职业者、研究者，还是普通用户，以下这些工具都可能成为你提升效率、释放创造力的“秘密武器”。</p><p data-pid=\"KzzKj3q-\"><b>1. ZCode-AI：轻量级 AI 办公助手</b></p><p data-pid=\"GjzlYMQi\">由智谱推出的 ZCode-AI 是一款简洁高效的 AI 代码与文档编辑器，支持文件夹可视化交互、多模型切换（如 GLM、Gemini 等），可通过自然语言完成字幕校对、文件生成、分类等任务。虽处于 Beta 阶段，但已兼容 Claude Skills，是 Claude Cowork 暂不可用时的理想替代方案。</p><p data-pid=\"Hldq9tkJ\"><b>相关链接：</b> <a href=\"https://link.zhihu.com/?target=https%3A//zcode-ai.com/\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">zcode-ai.com/</span><span class=\"invisible\"></span></a></p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-249d256f698ee10a16f8daccd1a6dc92_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"570\" data-original-token=\"v2-87c528eeb558f023c0347024f27b9864\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://pic1.zhimg.com/v2-249d256f698ee10a16f8daccd1a6dc92_r.jpg\"/></figure><p data-pid=\"ZR01LJLZ\"><b>2. DataAgent：会思考的虚拟数据分析师</b></p><p data-pid=\"1LpnWIcn\">DataAgent 不仅能将自然语言转为 SQL，更是一个具备自我规划、反思与优化能力的 AI 数据分析师。它支持多数据源接入、容器化 Python 引擎、流式输出，可自动生成深度洞察报告，大幅缩短从提问到决策的路径，适用于企业级 BI 场景。</p><p data-pid=\"tbYe3qX2\"><b>3. Skill From Masters：站在巨人的肩膀上写技能</b></p><p data-pid=\"xohsvnm5\">这个开源项目通过三层搜索机制（本地数据库 → 网络专家 → 一手资料），帮助用户在创建 AI 技能前先汲取领域大师的方法论——如 Bezos 的 6 页纸、Munger 的思维模型、Cagan 的产品原则等。结合 skill-creator，可自动生成高质量、有依据的技能脚本。</p><p data-pid=\"8Kbcj5qE\"><b>相关链接：</b><a href=\"https://link.zhihu.com/?target=https%3A//github.com/GBSOSS/skill-from-masters\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">github.com/GBSOSS/skill</span><span class=\"invisible\">-from-masters</span><span class=\"ellipsis\"></span></a></p><p data-pid=\"87gVwj_B\"><b>4. Awesome Workflow Automation：自动化工具百宝箱</b></p><p data-pid=\"f-J9IQtY\">这份精选合集收录了 20+ 款主流工作流自动化工具，包括 Zapier、n8n、Make、IFTTT、Power Automate 等，覆盖无代码、开源、企业级等类型。还附带教程、书籍、社区资源，是摆脱重复劳动的入门指南。</p><p data-pid=\"sjvXc5zG\"><b>相关链接：</b><a href=\"https://link.zhihu.com/?target=https%3A//github.com/dariubs/awesome-workflow-automation\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">github.com/dariubs/awes</span><span class=\"invisible\">ome-workflow-automation</span><span class=\"ellipsis\"></span></a></p><p data-pid=\"ntAAss5H\"><b>5. TaxHacker：AI 自动记账神器</b></p><p data-pid=\"wJx98YWq\">专为自由职业者和小企业设计，TaxHacker 可自动识别收据、发票中的金额、商家、日期、税项等信息，支持 170+ 法币与 14 种加密货币，并按交易日自动换算汇率。支持 Docker 自托管，数据完全私有，还能通过自定义 AI 提示提取任意字段。</p><p data-pid=\"o7iOlPhe\"><b>相关链接：</b><a href=\"https://link.zhihu.com/?target=https%3A//github.com/vas3k/TaxHacker\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">github.com/vas3k/TaxHac</span><span class=\"invisible\">ker</span><span class=\"ellipsis\"></span></a></p><p data-pid=\"1MbQtAuu\"><b>6. MiroFish：用 AI 沙盘推演未来</b></p><p data-pid=\"ZZoog0LF\">上传一段新闻、政策或小说作为“种子”，MiroFish 会构建一个由数千个具人格、记忆与行为逻辑的智能体组成的数字世界，模拟社会演化并输出预测报告。可用于股价推演、公关预案、创意脑洞等场景，堪称“数字水晶球”。</p><p data-pid=\"DeMVgE6X\"><b>相关链接：</b><a href=\"https://link.zhihu.com/?target=https%3A//github.com/666ghj/MiroFish\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">github.com/666ghj/MiroF</span><span class=\"invisible\">ish</span><span class=\"ellipsis\"></span></a></p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-ae94804f288b572f8c473dfcd07584f0_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"654\" data-original-token=\"v2-14faf038b001b3322c9c439a4c84c641\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://pic3.zhimg.com/v2-ae94804f288b572f8c473dfcd07584f0_r.jpg\"/></figure><p data-pid=\"aSlHLIqj\"><b>7. NanoBanana PPT Skills：一键生成带转场动画的 PPT 视频</b></p><p data-pid=\"QkwgVBXD\">只需输入一段文字，该工具即可自动分析内容、生成高颜值幻灯片（支持毛玻璃/插画等风格），再通过可灵 AI 制作页面转场视频，最终合成完整演示视频。适合快速制作产品发布、路演或教学视频。</p><p data-pid=\"pXi5IOkU\"><b>相关链接：</b><a href=\"https://link.zhihu.com/?target=https%3A//github.com/op7418/NanoBanana-PPT-Skills\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">github.com/op7418/NanoB</span><span class=\"invisible\">anana-PPT-Skills</span><span class=\"ellipsis\"></span></a></p><p data-pid=\"MW4WZS4i\"><b>8. TerminaI：安全可控的 AI 系统操作员</b></p><p data-pid=\"3JS7nAU8\">TerminaI 让你用自然语言“指挥”电脑：清理磁盘、安装驱动、诊断网络、监控股票……所有操作均经过策略引擎分级审批（A/B/C 级），并留下完整审计日志。支持 CLI、桌面 GUI 与语音控制，是“可信赖的 AI 运维代理”。</p><p data-pid=\"OwhG2pRc\"><b>相关链接：</b><a href=\"https://link.zhihu.com/?target=https%3A//github.com/Prof-Harita/terminaI\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">github.com/Prof-Harita/</span><span class=\"invisible\">terminaI</span><span class=\"ellipsis\"></span></a></p><p data-pid=\"k3azJZid\"><b>9. AnyGen：飞书出品的协作式 AI 办公平台</b></p><p data-pid=\"6sDtBje6\">不同于全自动生成，AnyGen 强调“人机协同”——AI 负责拆解任务、规划结构，用户保留最终编辑权。特别适合制作专业 PPT、调研报告等高要求内容，已在海外市场试水，注重早期用户反馈闭环。</p><p data-pid=\"kmn46cYB\"><b>10. RapidRAW：不到 20MB 的高性能 RAW 编辑器</b></p><p data-pid=\"ySo5ThBa\">这款由 18 岁开发者打造的开源照片编辑器，性能媲美 Lightroom，却仅 20MB 大小。支持 GPU 加速、AI 主体识别、全景拼接、批量导出，并可连接本地 ComfyUI 实现生成式修图（如天空替换、物体移除）。跨平台支持 Windows/macOS/Linux。</p><p data-pid=\"r1yJLeO1\"><b>相关链接：</b><a href=\"https://link.zhihu.com/?target=https%3A//github.com/CyberTimon/RapidRAW\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">github.com/CyberTimon/R</span><span class=\"invisible\">apidRAW</span><span class=\"ellipsis\"></span></a></p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-ae45138febae35e70600a4bf721d2c32_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"607\" data-original-token=\"v2-cae22ccc0c8719b601398e9a1857d033\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://pic3.zhimg.com/v2-ae45138febae35e70600a4bf721d2c32_r.jpg\"/></figure><p data-pid=\"_83_2IFd\"><b>11. Voice-Pro：开源多语言配音与声音克隆工具</b></p><p data-pid=\"qsaesnHk\">整合 YouTube 下载、人声分离、WhisperX 字幕、F5-TTS/CosyVoice 零样本克隆等功能，Voice-Pro 可一键生成多语言配音视频。支持 100+ 语言，免费版限 60 秒，付费版解锁 Azure TTS/Translator，适合内容出海创作者。</p><p data-pid=\"skESTd3O\"><b>相关链接：</b> <a href=\"https://link.zhihu.com/?target=https%3A//github.com/abus-aikorea/voice-pro\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">github.com/abus-aikorea</span><span class=\"invisible\">/voice-pro</span><span class=\"ellipsis\"></span></a></p><p data-pid=\"TWhFMM_o\"><b>12. Maigret：3000+ 网站的社交账号侦察兵</b></p><p data-pid=\"Qs6J_9gW\">输入一个用户名，Maigret 即可在超 3000 个平台（含暗网）中搜索关联账号，解析主页信息、递归发现新线索，并生成 HTML/PDF/XMind 报告。提供 Web 界面与 Telegram 机器人，是 OSINT（开源情报）工作者的利器。</p><p data-pid=\"dDRhXGc-\"><b>相关链接：</b><a href=\"https://link.zhihu.com/?target=https%3A//github.com/soxoj/maigret\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">github.com/soxoj/maigre</span><span class=\"invisible\">t</span><span class=\"ellipsis\"></span></a></p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-7ccde848c9236d8aba19a7822e9abb7c_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"498\" data-original-token=\"v2-6b6894b29bd822435bfeed5dc70a8ff2\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://pic1.zhimg.com/v2-7ccde848c9236d8aba19a7822e9abb7c_r.jpg\"/></figure><p data-pid=\"ou2XCWAd\"><b>13. Project Golem：让向量检索“看得见”</b></p><p data-pid=\"Y5Tr41xK\">该项目将 RAG 中的高维向量通过 UMAP 降维至 3D 空间，以“大脑皮层”形式可视化检索过程。当查询命中时，相关神经簇会亮起；若结果分散，则提示语义不连贯。可对接 Qdrant、Pinecone 等数据库，是调试 RAG 系统的绝佳工具。</p><p data-pid=\"MgRtTDml\"><b>相关链接：</b><a href=\"https://link.zhihu.com/?target=https%3A//github.com/CyberMagician/Project_Golem\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">github.com/CyberMagicia</span><span class=\"invisible\">n/Project_Golem</span><span class=\"ellipsis\"></span></a></p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-cff7bc9893c60f4f9dd5052774c26e1c_1440w.gif\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1079\" data-rawheight=\"607\" data-original-token=\"v2-cff7bc9893c60f4f9dd5052774c26e1c\" data-thumbnail=\"https://pic3.zhimg.com/v2-cff7bc9893c60f4f9dd5052774c26e1c_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1079\" data-original=\"https://pic3.zhimg.com/v2-cff7bc9893c60f4f9dd5052774c26e1c_r.jpg\"/></figure><p data-pid=\"wc8WycQx\"><b>14. DINQ：下一代个人信息主页</b></p><p data-pid=\"OpGZm584\">DINQ 是 Bento 的精神继任者，允许用户用一页纸展示简历、作品、社交媒体、PDF、视频等内容，并支持 AI 自动生成摘要。内置“智能发现”功能，帮助用户被潜在雇主或合作者找到。注册可用邀请码 SHAOMENG 获取奖励。</p><p data-pid=\"kXbvrzJB\"><b>相关链接：</b><a href=\"https://link.zhihu.com/?target=https%3A//dinq.me\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">dinq.me</span><span class=\"invisible\"></span></a></p><p data-pid=\"sW7pcRm2\"><b>15. vFlow：零代码打造 Android 自动化工作流</b></p><p data-pid=\"S5tJIYUl\">vFlow 一款面向 Android 平台的开源可视化自动化工具，通过直观的图形界面让用户无需编写代码即可构建强大的自动化工作流。用户只需拖拽和组合各类“动作模块”（如点击、查找文本、条件判断、循环等），即可实现从简单签到到复杂逻辑任务的自动化。vFlow 采用高度模块化架构，支持动态数据流（“魔法变量”）和高级控制结构（如 if/else、循环），并具备现代 Material 3 风格 UI、完善的权限管理以及工作流的导入/导出功能，便于跨设备迁移与共享。同时，其开放的模块系统也允许开发者轻松扩展新功能，打造个性化自动化体验。</p><p data-pid=\"5Waeg-RC\"><b>相关链接：</b><a href=\"https://link.zhihu.com/?target=https%3A//github.com/chaomixian/vflow\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">github.com/chaomixian/v</span><span class=\"invisible\">flow</span><span class=\"ellipsis\"></span></a></p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-ce6648026756c645450b0482e556a412_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"776\" data-original-token=\"v2-b47a6772cd1fac9913be6f5d202ec818\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://pic3.zhimg.com/v2-ce6648026756c645450b0482e556a412_r.jpg\"/></figure><p data-pid=\"s5weQrp1\">这些工具或轻量、或强大、或充满创意，共同指向一个趋势：未来的生产力，属于那些善用 AI 与自动化的人。无论你身处哪个领域，总有一款工具能为你打开新可能。</p>",
        "visited_count": 85,
        "favorite_count": 14,
        "url": "https://api.zhihu.com/articles/1995078074002329669",
        "author": {
          "url_token": "24-90-75-49",
          "name": "正能量识图者",
          "avatar_url": "https://pic1.zhimg.com/50/v2-17f4b921abe32c40b8d3d999f1e8f0b6_l.jpg?source=b6762063",
          "is_org": false,
          "gender": 1,
          "followers_count": 50,
          "is_followed": false,
          "id": "516473a265f0b30e3b83d6c668f772b3",
          "url": "https://api.zhihu.com/people/516473a265f0b30e3b83d6c668f772b3",
          "user_type": "people",
          "headline": "机器视觉及自动化控制开发者",
          "is_following": false
        },
        "title": "值得尝试的 15 款开源 & AI 工具：从办公自动化到智能预测，总有一款适合你",
        "updated": 1768443754,
        "preview_type": "default",
        "is_labeled": false,
        "article_type": "normal",
        "navigator_vote": false,
        "allow_segment_interaction": true,
        "comment_count": 0,
        "excerpt": "在 AI 与自动化技术加速落地的今天，越来越多轻量、高效、开源的工具正悄然改变我们的工作流。无论你是开发者、自由职业者、研究者，还是普通用户，以下这些工具都可能成为你提升效率、释放创造力的“秘密武器”。 1. ZCode-AI：轻量级 AI 办公助手由智谱推出的 ZCode-AI 是一款简洁高效的 AI 代码与文档编辑器，支持文件夹可视化交互、多模型切换（如 GLM、Gemini 等），可通过自然语言完成字幕校对、文件生成、分类等任务。虽…",
        "vote_next_step": "vote",
        "type": "article",
        "comment_permission": "all",
        "voteup_count": 0,
        "voting": 0,
        "excerpt_new": "在 AI 与自动化技术加速落地的今天，越来越多轻量、高效、开源的工具正悄然改变我们的工作流。无论你是开发者、自由职业者、研究者，还是普通用户，以下这些工具都可能成为你提升效率、释放创造力的“秘密武器”。 1. ZCode-AI：轻量级 AI 办公助手由智谱推出的 ZCode-AI 是一款简洁高效的 AI 代码与文档编辑器，支持文件夹可视化交互、多模型切换（如 GLM、Gemini 等），可通过自然语言完成字幕校对、文件生成、分类等任务。虽…",
        "thumbnails": [
          "https://picx.zhimg.com/50/v2-14faf038b001b3322c9c439a4c84c641_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-b47a6772cd1fac9913be6f5d202ec818_720w.jpg?source=b6762063"
        ],
        "is_navigator": false
      },
      "brief": "{\"source\": \"TS\", \"type\": \"article\", \"id\": 1995078074002329669}",
      "attached_info": "CskHCO7U/Yr8vOSInQEQBxoJMjY5MDQzMTEzIOqeocsGKAAwAEBTSiMKGFRTX1NPVVJDRV9XQVJNX1VQX0JPT1NUMhIBMBgAIAA6AGIgMTE1ODU0MGFmOTQ2MjhjZTk0NGM4ZGM2ODc3NjQ4MzFyEzE5OTUwNzgwNzQwMDIzMjk2NjmqAQlyZWNvbW1lbmTCASA1MTY0NzNhMjY1ZjBiMzBlM2I4M2Q2YzY2OGY3NzJiM/IBCggMEgZOb3JtYWzyASgIChIkYTIwYjc2NjEtMDM3OC00ZDA2LWE0ZjEtMmI0M2NkYzdlNjhk8gEGCAsSAjE0ggIAiALR1avGvDOSAiA1MTY0NzNhMjY1ZjBiMzBlM2I4M2Q2YzY2OGY3NzJiM5oCAMoCFlNob3JJbnRlcmVzdFdlaWdodFJ1bGXKAhtJbnRlcmFjdGlvblNob3JJbnRlcmVzdFJ1bGXKAhhQZXJpb2RJbnRlcmVzdFdlaWdodFJ1bGXaAhhUU19TT1VSQ0VfV0FSTV9VUF9CT09TVDLoAgL6AgtOT1JNQUxfRkxPV4oDIDY2ZjI5N2EwYjBjNjRjYjI5YmY1MWE5NWIwYjcyMGU2mgMNCgJ2MhAAGgVvdGhlcqgDVdgDAOoDH3dhcm11cFR3b1Rvd2VyVGV4dEJvb3N0UmVjYWxsZXL6A7kCEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERTotCAIQuAgYugQiI3YyLTg3YzUyOGVlYjU1OGYwMjNjMDM0NzAyNGYyN2I5ODY0Oi0IAhC4CBiOBSIjdjItMTRmYWYwMzhiMDAxYjMzMjJjOWM0MzlhNGM4NGM2NDE6LQgDELgIGN8EIiN2Mi1jYWUyMmNjYzBjODcxOWI2MDEzOThlOWExODU3ZDAzMzotCAIQuAgY8gMiI3YyLTZiNjg5NGIyOWJkODIyNDM1YmZlZWQ1ZGM3MGE4ZmYyOi0IABC3CBjfBCIjdjItY2ZmN2JjOTg5M2M2MGY0ZjlkZDUwNTI3NzRjMjZlMWM6LQgEELgIGIgGIiN2Mi1iNDdhNjc3MmNkMWZhYzk5MTNiZTZmNWQyMDJlYzgxOIAEAIgEAJIEBk5vcm1hbJoEATKgBACoBACwBAC6BAJhacIEAzQwMMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAgIwRez+BBQAAAAAAAAAAiQXpwkzgW4q0P5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AUOkAYAoAZVqAYAkgIuCgkyNjkwNDMxMTMSEzE5OTUwNzgwNzQwMDIzMjk2NjkYByIKSU1BR0VfVEVYVA==",
      "action_card": false
    }
  ],
  "paging": {
    "is_end": false,
    "is_start": false,
    "next": "https://www.zhihu.com/api/v3/feed/topstory/recommend?action=down&ad_interval=-10&after_id=83&desktop=true&end_offset=85&page_number=15&session_token=1158540af94628ce944c8dc687764831",
    "previous": "https://www.zhihu.com/api/v3/feed/topstory/recommend?action=pull&ad_interval=-10&before_id=83&desktop=true&end_offset=85&page_number=15&session_token=1158540af94628ce944c8dc687764831",
    "totals": 0
  },
  "fresh_text": "推荐已更新"
}