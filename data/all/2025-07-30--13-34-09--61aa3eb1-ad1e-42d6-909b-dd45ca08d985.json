{"data":[{"id":"138_1753853667.478","type":"feed","offset":138,"verb":"TOPIC_ACKNOWLEDGED_ARTICLE","created_time":1753853667,"updated_time":1753853667,"target":{"id":"1931690475296907858","type":"article","url":"https://api.zhihu.com/articles/1931690475296907858","author":{"id":"d9e78b550f018b9dd758fdc3a590fcc3","url":"https://api.zhihu.com/people/d9e78b550f018b9dd758fdc3a590fcc3","user_type":"people","url_token":"wonglei","name":"wangleineo","headline":"程序员、创业者 - 戎码一生","avatar_url":"https://picx.zhimg.com/50/v2-920d8288bd035a803dc5b2f2a6e5da7d_l.jpg?source=b6762063","is_org":false,"gender":1,"badge":[{"type":"identity_people","description":"复旦大学 计算机软件与理论硕士"}],"followers_count":36961,"is_following":false,"is_followed":false},"title":"AI Agent项目工程经验汇总","image_url":"https://pic1.zhimg.com/v2-188c30fbf44b6741f46b79aa2486937a.jpg?source=7e7ef6e2\u0026needBackground=1","comment_permission":"all","created":1753346598,"updated":1753528842,"voteup_count":4,"voting":0,"comment_count":0,"linkbox":{"category":"","pic":"","title":"","url":""},"excerpt":"Generic AgentManus是通用型Agent最有知名度的产品。在OpenAI的Agent发布之后，Manus的创始人季逸超发表了一篇博客，分享了在打造Manus过程中，做上下文工程（Context Engineering）的宝贵经验： Context Engineering for AI Agents: Lessons from Building Manus 文章开始，他先解释了为什么Manus会依赖SoTA模型做in-context learning，而不是自建端到端的解决方案。他提到了要保持产品和底层模型的正交： This allows us to shi…","excerpt_new":"Generic AgentManus是通用型Agent最有知名度的产品。在OpenAI的Agent发布之后，Manus的创始人季逸超发表了一篇博客，分享了在打造Manus过程中，做上下文工程（Context Engineering）的宝贵经验： Context Engineering for AI Agents: Lessons from Building Manus 文章开始，他先解释了为什么Manus会依赖SoTA模型做in-context learning，而不是自建端到端的解决方案。他提到了要保持产品和底层模型的正交： This allows us to shi…","preview_type":"default","preview_text":"","column":{"id":"c_1896267381921280342","type":"column","url":"https://api.zhihu.com/columns/c_1896267381921280342","author":{"id":"","url":"","user_type":"people","url_token":"","name":"匿名用户","headline":"","avatar_url":"https://pica.zhimg.com/v2-d41c2ceaed8f51999522f903672a521f_l.jpg?source=b6762063","is_org":false,"gender":-1,"followers_count":0,"is_following":false,"is_followed":false},"title":"AI时代","imageUrl":"https://pic1.zhimg.com/v2-d40ed3417fea38b045538b861b02c768_720w.jpg?source=d16d100b","comment_permission":"private","intro":"\u003cp\u003e关于大语言模型技术和应用的一些想法\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e","updated":1746550996,"is_following":false},"content":"\u003cp\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic4.zhimg.com/v2-16d22f69897b65039bc07590d53ff609_1440w.jpg\" data-rawwidth=\"1536\" data-rawheight=\"1024\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-16d22f69897b65039bc07590d53ff609\" class=\"origin_image zh-lightbox-thumb\" width=\"1536\" data-original=\"https://pic4.zhimg.com/v2-16d22f69897b65039bc07590d53ff609_r.jpg\"/\u003e\u003c/figure\u003e\u003ch2\u003eGeneric Agent\u003c/h2\u003e\u003cp data-pid=\"AISzINLO\"\u003eManus是通用型Agent最有知名度的产品。在OpenAI的Agent发布之后，Manus的创始人季逸超发表了一篇博客，分享了在打造Manus过程中，做上下文工程（Context Engineering）的宝贵经验：\u003c/p\u003e\u003cp data-pid=\"Dr7OLK3t\"\u003e\u003ca href=\"https://link.zhihu.com/?target=https%3A//manus.im/blog/Context-Engineering-for-AI-Agents-Lessons-from-Building-Manus\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003eContext Engineering for AI Agents: Lessons from Building Manus\u003c/a\u003e\u003c/p\u003e\u003cp data-pid=\"2y6s-TMB\"\u003e文章开始，他先解释了为什么Manus会依赖SoTA模型做in-context learning，而不是自建端到端的解决方案。他提到了要保持产品和底层模型的正交：\u003c/p\u003e\u003cblockquote data-pid=\"j5MCMH9h\"\u003eThis allows us to ship improvements in hours instead of weeks, and kept our product orthogonal to the underlying models: If model progress is the rising tide, we want Manus to be the boat, not the pillar stuck to the seabed.\u003c/blockquote\u003e\u003cp data-pid=\"cEGoNQqR\"\u003e这个选择更加灵活，但是有利就有弊：对于SoTA模型的依赖，也许在直面SoTA厂商的竞争中是\u003ca href=\"https://www.zhihu.com/pin/1929498450640245154\" class=\"internal\" target=\"_blank\"\u003e一种劣势\u003c/a\u003e。\u003c/p\u003e\u003cp data-pid=\"joVppi5y\"\u003e接下来，文章分享了几个工程经验：\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"pl651KDZ\"\u003e设计时充分考虑KV-Cache。通用Agent是Token消耗大户，所以节省成本非常关键，KV-Cache命中与否，Token的成本可以相差10倍，所以必须尽量保持Cache命中。具体技巧包括：把Context做成Append-only，Prefix保持不变。比如日期、时间戳这种信息就不能放在Context前面，因为它会导致缓存失效。另外，要明确标识缓存的breakpoint。\u003c/li\u003e\u003c/ul\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic4.zhimg.com/v2-38ac0fbd7aea44a3301caa60d8f3382b_1440w.jpg\" data-rawwidth=\"3840\" data-rawheight=\"2160\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-38ac0fbd7aea44a3301caa60d8f3382b\" class=\"origin_image zh-lightbox-thumb\" width=\"3840\" data-original=\"https://pic4.zhimg.com/v2-38ac0fbd7aea44a3301caa60d8f3382b_r.jpg\"/\u003e\u003c/figure\u003e\u003cul\u003e\u003cli data-pid=\"tfwJJZc1\"\u003e不要动态增加/删除工具集。更改工具集的定义会让缓存失效，而且在历史会话中提及当前轮次已经被删除的工具，会让模型迷惑，甚至产生幻觉。更好的方法是在解码时用Mask来屏蔽一些工具。\u003cbr/\u003e\u003ci\u003e\u0026#34;Rather than removing tools, it masks the token logits during decoding to prevent (or enforce) the selection of certain actions based on the current context.\u0026#34;\u003c/i\u003e\u003cbr/\u003e他们专门设计了工具名称前缀，比如\u003cb\u003ebrowser_/shell_\u003c/b\u003e，来确保在解码过程中可以很容易地控制工具选择。\u003c/li\u003e\u003c/ul\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-cf15b8f1bec80eac863e96f058b85a03_1440w.jpg\" data-rawwidth=\"3840\" data-rawheight=\"2160\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-cf15b8f1bec80eac863e96f058b85a03\" class=\"origin_image zh-lightbox-thumb\" width=\"3840\" data-original=\"https://picx.zhimg.com/v2-cf15b8f1bec80eac863e96f058b85a03_r.jpg\"/\u003e\u003c/figure\u003e\u003cul\u003e\u003cli data-pid=\"FyMDFzn-\"\u003e把文件系统当作Context。这一点其实就是我在\u003ca href=\"https://zhuanlan.zhihu.com/p/1923177966692696910\" class=\"internal\" target=\"_blank\"\u003e这篇文章中\u003c/a\u003e提到的多级Memory设计。文章尤其提及一点：即使没超过Context大小限制，Context中放太多的内容会让模型表现下降，所以\u003ca href=\"https://www.zhihu.com/pin/1928979000082007034\" class=\"internal\" target=\"_blank\"\u003e能省尽量省\u003c/a\u003e。方法就是把可以随时存取的内容放在Context之外：网页只需要保存URL，文件只需要保存路径，在需要的时候让Agent用工具去读取。即使部分内容被压缩，也要保证压缩的部分可以还原—把原文存在文件系统中。\u003c/li\u003e\u003c/ul\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-e073f297bc5e0da7cd5bcca7a6b33f66_1440w.jpg\" data-rawwidth=\"3840\" data-rawheight=\"2160\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-e073f297bc5e0da7cd5bcca7a6b33f66\" class=\"origin_image zh-lightbox-thumb\" width=\"3840\" data-original=\"https://pic1.zhimg.com/v2-e073f297bc5e0da7cd5bcca7a6b33f66_r.jpg\"/\u003e\u003c/figure\u003e\u003cul\u003e\u003cli data-pid=\"K7RwGQTy\"\u003e通过重复来强化注意力。这一点我在\u003ca href=\"https://zhuanlan.zhihu.com/p/1901095048197703303\" class=\"internal\" target=\"_blank\"\u003e解析各种系统提示词\u003c/a\u003e的时候都谈到过，重复可以强化模型跟随指令（重要的事情说三遍）。Manus在一个任务中经常要有50次以上的工具调用，到后面的时候模型可能已经忘了开始的目标，有必要适时重复一下TODO list刷新记忆。\u003c/li\u003e\u003c/ul\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pica.zhimg.com/v2-594fe64ec11f94520a2031a9e2e6dbb2_1440w.jpg\" data-rawwidth=\"3840\" data-rawheight=\"2160\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-594fe64ec11f94520a2031a9e2e6dbb2\" class=\"origin_image zh-lightbox-thumb\" width=\"3840\" data-original=\"https://pica.zhimg.com/v2-594fe64ec11f94520a2031a9e2e6dbb2_r.jpg\"/\u003e\u003c/figure\u003e\u003cul\u003e\u003cli data-pid=\"JCL-IL9k\"\u003e保留犯错的记录。只有了解如何犯的错，才能知道怎么改正。所以不要删除Agent在执行任务过程中的错误记录。文章认为，错误恢复应该是Agent是否足够智能的一个重要指标。\u003c/li\u003e\u003c/ul\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-ac6fb0f384608307e82d35901ef99533_1440w.jpg\" data-rawwidth=\"3840\" data-rawheight=\"2160\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-ac6fb0f384608307e82d35901ef99533\" class=\"origin_image zh-lightbox-thumb\" width=\"3840\" data-original=\"https://picx.zhimg.com/v2-ac6fb0f384608307e82d35901ef99533_r.jpg\"/\u003e\u003c/figure\u003e\u003cul\u003e\u003cli data-pid=\"C1bUDL8o\"\u003e慎用Few-shot prompting。模型在重复性的Few-shot example作用下，可能捕捉到某种僵化的模式，尽管这种模式不适合解决当前问题。解决方法就是在example中引入多样性（格式上、文字上、语义上的），有助于模型打破僵化模式。\u003cbr/\u003e\u003cbr/\u003e我觉得模型的这种认知偏差和人类也是类似的：\u003cbr/\u003e\u003cb\u003eFriend:\u003c/b\u003e What do you call a house made of bricks?\u003cbr/\u003e\u003cb\u003eYou:\u003c/b\u003e A brick house.\u003cbr/\u003e\u003cb\u003eFriend:\u003c/b\u003e What do you call a house made of wood?\u003cbr/\u003e\u003cb\u003eYou:\u003c/b\u003e A wood house.\u003cbr/\u003e\u003cb\u003eFriend:\u003c/b\u003e What do you call a house made of glass?\u003cbr/\u003e\u003cb\u003eYou:\u003c/b\u003e A glass house. (Correct: \u003cb\u003eA greenhouse\u003c/b\u003e)\u003c/li\u003e\u003c/ul\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-02376238c32a09ddca3583e7c88b3ac6_1440w.jpg\" data-rawwidth=\"3840\" data-rawheight=\"2160\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-02376238c32a09ddca3583e7c88b3ac6\" class=\"origin_image zh-lightbox-thumb\" width=\"3840\" data-original=\"https://pic1.zhimg.com/v2-02376238c32a09ddca3583e7c88b3ac6_r.jpg\"/\u003e\u003c/figure\u003e\u003ch2\u003eCoding Agent\u003c/h2\u003e\u003cp data-pid=\"ioYTmZ12\"\u003e这是一篇来自Devin团队的博客，在发表的时候引发了不小的争议：\u003c/p\u003e\u003cp data-pid=\"fEY0b9lb\"\u003e\u003ca href=\"https://link.zhihu.com/?target=https%3A//cognition.ai/blog/dont-build-multi-agents%23principles-of-context-engineering\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003eDon\u0026#39;t Build Multi-Agents\u003c/a\u003e\u003c/p\u003e\u003cp data-pid=\"TiqLMMDx\"\u003e这篇文章的主旨很简单：在Coding这个领域，最好不要使用Multi-Agent。\u003c/p\u003e\u003cp data-pid=\"ml9wVP76\"\u003e论证如下：\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"UI7DkTPF\"\u003e在Agent之间共享足够的Context才能保证Agent无错误运行，但是共享很困难。\u003c/li\u003e\u003cli data-pid=\"l8KTYrfw\"\u003e这是因为，各个Agent的动作都隐含着一些信息，这些信息未必可以在Context中共享。\u003c/li\u003e\u003c/ul\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pica.zhimg.com/v2-685bf5b8d76a00b803a4e71da658813e_1440w.jpg\" data-rawwidth=\"1408\" data-rawheight=\"1232\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-685bf5b8d76a00b803a4e71da658813e\" class=\"origin_image zh-lightbox-thumb\" width=\"1408\" data-original=\"https://pica.zhimg.com/v2-685bf5b8d76a00b803a4e71da658813e_r.jpg\"/\u003e\u003c/figure\u003e\u003cul\u003e\u003cli data-pid=\"EhZGs2cw\"\u003e单线程的Agent能保证Context的完整性，避免多个Agent之间的决策冲突，工作更加稳定。\u003c/li\u003e\u003c/ul\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-422714a07f4e71e087b973c05b09a031_1440w.jpg\" data-rawwidth=\"1404\" data-rawheight=\"1230\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-422714a07f4e71e087b973c05b09a031\" class=\"origin_image zh-lightbox-thumb\" width=\"1404\" data-original=\"https://picx.zhimg.com/v2-422714a07f4e71e087b973c05b09a031_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"xiobJuNF\"\u003e作者还特别提到了Claude Code，因为Claude Code是比较有名的使用了Multi-agent模式的AI编程工具。但作者指出，CC的Subagent主要是做“读操作”— 调研问题、查找相关代码等等，但是“写操作”还是由主Agent来完成，SubAgent更多是为了达成一个子目标的“一次性使用”，和主Agent没有很多Context共享。而且，CC只在工具的层面做并行，在Agent上没有。\u003c/p\u003e\u003ch2\u003eResearch Agent\u003c/h2\u003e\u003cp data-pid=\"KiTrhEIP\"\u003eAnthropic分享了他们做Deep Research Agent的经验：\u003c/p\u003e\u003cp data-pid=\"cNPjNcPm\"\u003e\u003ca href=\"https://link.zhihu.com/?target=https%3A//www.anthropic.com/engineering/built-multi-agent-research-system\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003eHow we built our multi-agent research system\u003c/a\u003e\u003c/p\u003e\u003cp data-pid=\"SzUwVdpG\"\u003e这篇文章和上面Devin的文章在同一天发布，结论却截然相反，这在社交媒体上引发了很多讨论。只要仔细读一下两篇文章，就会发现它们其实并不冲突。两篇文章讨论的是两种不同的应用场景：Research Agent各个子任务之间有很强的独立性，所以可以用Multi Agent分而治之；而Coding Agent的各个编码任务之间耦合度很强，所以用单个Agent去处理可以避免Context共享带来的各种棘手问题。可以说，Deep Research更适合广度优先的策略，而Coding Agent往往需要深度优先的探索。\u003c/p\u003e\u003cp data-pid=\"z18fGCRZ\"\u003eDeep Research系统采用Orchestrator-worker模式，一个主控代理将用户查询分解为子任务，并启动多个专业化子代理并行处理。这些子代理自主搜索信息，然后将发现的结果返回给主控代理，后者整合最终答案。这与传统的检索增强生成 (RAG) 方式不同，它采用动态、多步骤的搜索，并根据新信息不断调整。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic3.zhimg.com/v2-4bc330923994735ff2ab259f2d9b62ee_1440w.jpg\" data-rawwidth=\"3840\" data-rawheight=\"2160\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-4bc330923994735ff2ab259f2d9b62ee\" class=\"origin_image zh-lightbox-thumb\" width=\"3840\" data-original=\"https://pic3.zhimg.com/v2-4bc330923994735ff2ab259f2d9b62ee_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"xT2yQBdO\"\u003e\u003cb\u003eMulti Agent的优势在于：\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"JAhl6y8O\"\u003eSubAgent拥有独立的上下文窗口，能够同时探索不同方面，并有效地压缩信息。并且每个Agent的Context Window独立，突破了单Agent模式下Context Window的大小限制，可以容纳更多信息。内部评估显示，在广度优先研究任务（如识别S\u0026amp;P 500 IT行业所有董事）中，多智能体系统比单个Claude智能体表现优异超过90%。并行工具使用大大缩短了研究时间（对于复杂查询，可快达90%）。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic3.zhimg.com/v2-819a0fa0a571db5fd0041b26aec50030_1440w.jpg\" data-rawwidth=\"3840\" data-rawheight=\"3840\" data-size=\"normal\" data-caption=\"\" data-qrcode-action=\"none\" data-original-token=\"v2-819a0fa0a571db5fd0041b26aec50030\" class=\"origin_image zh-lightbox-thumb\" width=\"3840\" data-original=\"https://pic3.zhimg.com/v2-819a0fa0a571db5fd0041b26aec50030_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"VJI5gsu4\"\u003e\u003cb\u003ePrompt工程经验：\u003c/b\u003e\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"AAnzfjdz\"\u003e指导主控代理清晰地分配任务，以避免子代理重复或遗漏工作。\u003c/li\u003e\u003cli data-pid=\"iLgOH9q4\"\u003e根据查询复杂性调整工作量，灵活控制子代理和工具使用的数量。\u003c/li\u003e\u003cli data-pid=\"GENJwuE5\"\u003e从广泛的查询开始，探索整体情况，然后逐步缩小范围。\u003c/li\u003e\u003cli data-pid=\"nAnK_0bL\"\u003e在提示中加入“扩展思考”步骤，允许代理规划、推理和完善查询。\u003c/li\u003e\u003cli data-pid=\"RZ0VqlRa\"\u003eprompt的设计是有效协作，并避免Agent失控的关键。\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"MQ3jGxvb\"\u003e\u003cb\u003e关于评估：\u003c/b\u003e\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"ERAArUzg\"\u003e结果导向的评估，而非期望固定的步骤序列，利用LLM Judge，根据事实准确性、来源质量和完整性等标准进行评分。\u003c/li\u003e\u003cli data-pid=\"BgW-qeLq\"\u003e早期使用小规模查询样本进行测试对于快速迭代至关重要。\u003c/li\u003e\u003cli data-pid=\"VFtoMwBG\"\u003e人工评估仍然至关重要，以捕捉细微或边缘情况下的失败。\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"jmSun3fM\"\u003e\u003cb\u003e工程挑战与生产可靠性：\u003c/b\u003e\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"0KewiKD_\"\u003e代理长时间运行，因此错误处理和恢复性至关重要。他们实施了检查点和重试逻辑，并优雅地处理工具调用的失败。\u003c/li\u003e\u003cli data-pid=\"Ox69KQzE\"\u003e由于代理行为的不确定性，调试很困难；需要实施完整的追踪（full tracing）和可观测性（observability） ，以了解故障原因。\u003c/li\u003e\u003cli data-pid=\"XaCbIItN\"\u003e部署使用彩虹部署，通过逐渐在旧代码版本和新代码版本之间转移流量，避免因新代码破坏正在运行的代理。\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"11kUcnfJ\"\u003e总而言之，Anthropic的经验表明，多智能体系统为复杂任务带来了强大的并行性、灵活性。但要管理其复杂性和成本，需要仔细设计提示、确保可靠性、进行评估以及实现可扩展性。这项工作为超越单智能体局限性的、可扩展的、健壮的AI代理架构开辟了一条前进的道路。\u003c/p\u003e\u003ch2\u003eLessons For Making Agents\u003c/h2\u003e\u003cp data-pid=\"hOHE1Gkk\"\u003e一个有很多Agent开发经验的工程师分享了他对Agent开发总结的的三条定律：\u003c/p\u003e\u003cp data-pid=\"88U4orob\"\u003e\u003ca href=\"https://link.zhihu.com/?target=https%3A//utkarshkanwat.com/writing/betting-against-agents/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003eWhy I\u0026#39;m Betting Against AI Agents in 2025\u003c/a\u003e\u003c/p\u003e\u003ch3\u003e\u003cb\u003e第一，Compounding Error是杀死Agent工作正确率的罪魁祸首。\u003c/b\u003e\u003c/h3\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic2.zhimg.com/v2-b358318f68857565f172afca016151cf_1440w.jpg\" data-rawwidth=\"791\" data-rawheight=\"113\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-b358318f68857565f172afca016151cf\" class=\"origin_image zh-lightbox-thumb\" width=\"791\" data-original=\"https://pic2.zhimg.com/v2-b358318f68857565f172afca016151cf_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"7yj3-nfO\"\u003eAgent执行多步骤任务，如果每一步的准确率有95%，那么20步的准确率就降到了36%，已经属于不可用的状态。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic4.zhimg.com/v2-d6bfdf57f6670b488c929bb1e9cb3985_1440w.jpg\" data-rawwidth=\"1237\" data-rawheight=\"756\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-d6bfdf57f6670b488c929bb1e9cb3985\" class=\"origin_image zh-lightbox-thumb\" width=\"1237\" data-original=\"https://pic4.zhimg.com/v2-d6bfdf57f6670b488c929bb1e9cb3985_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"cwBASZtt\"\u003e要提高这个准确率，有三个方面可以考虑：\u003c/p\u003e\u003col\u003e\u003cli data-pid=\"AwyGM-Hu\"\u003e提高每一步的准确率。这一点主要依靠模型本身能力的提升，另外，提示词是否精确无歧义，对准确度的影响也很大，需要不断优化提示词来提升效果。\u003c/li\u003e\u003cli data-pid=\"u2cY-Rum\"\u003e减少步数。可以考虑在每一步给模型更多工作，让Agent可以用更少的步数来完成任务。但是在一个步骤中给模型太多信息，可能导致它的准确率下降，所以要找到一个合适的平衡点。另外，很多任务不是可以预先切分的 - 必须在完成某一个步骤以后，才知道下一步应该做什么。\u003c/li\u003e\u003cli data-pid=\"aLwT4mwM\"\u003e设置准确的评估反馈机制。如果可以在每一步发现错误，就能及时纠错，防止错误继续向下传递，有助于提高任务的最终准确率。\u003c/li\u003e\u003c/ol\u003e\u003cp data-pid=\"MFlugr8X\"\u003e这也是为什么现在Coding Agent的效果比Generic Agent要好很多。因为Coding Agent生成代码的确定性比较大，所以单步准确率高；另外，Coding Agent有较好的反馈机制：在IDE中，用户会对每一步做审阅和确认；对于无用户确认的Yolo模式，Agent可以通过单元测试、试运行等方式来验证当前步骤的结果。\u003c/p\u003e\u003ch3\u003e第二，Token成本随着轮次增加产生二次方增长。\u003c/h3\u003e\u003cp data-pid=\"oxZ9slCX\"\u003e我们假设每个轮次都会产生\u003cb\u003eK\u003c/b\u003e个Token（包括输入、输出），而且完全保留历史数据，那么，\u003cb\u003et\u003c/b\u003e个轮次中Context的大小就是：\u003c/p\u003e\u003cblockquote data-pid=\"1ZaShl64\"\u003e\u003cb\u003e\u003ci\u003eK + 2K + ... + tK = (1+t)*t*K/2\u003c/i\u003e\u003c/b\u003e\u003c/blockquote\u003e\u003cp data-pid=\"K-SeZfQi\"\u003e它是随着轮次t的二次方增长的：\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pica.zhimg.com/v2-bf10cff5d12e571afc66e3f3b0710216_1440w.jpg\" data-rawwidth=\"1197\" data-rawheight=\"741\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-bf10cff5d12e571afc66e3f3b0710216\" class=\"origin_image zh-lightbox-thumb\" width=\"1197\" data-original=\"https://pica.zhimg.com/v2-bf10cff5d12e571afc66e3f3b0710216_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"AXkFgT0v\"\u003e以作者本身的经验来说，Agent的会话轮次达到50轮时，一个Response的成本就已经到2.5美元以上。多轮次的会话会产生预料之外的预算爆炸。\u003c/p\u003e\u003cp data-pid=\"v0_fPy5u\"\u003e我们在用Coding Agent的时候，没有这样的切身体会，是因为我们用的是“自助餐模式”（$20美元月租），这种Token成本都是由Agent产品方面来承担。但是，最近这些产品也撑不住这种成本的爆炸性增长，开始\u003ca href=\"https://www.zhihu.com/pin/1924860123920179252\" class=\"internal\" target=\"_blank\"\u003e变换收费模式\u003c/a\u003e了。如果你使用Cline这样的Agent调用模型API来编程，相信你对这种成本爆炸已经有所体验了。\u003c/p\u003e\u003cp data-pid=\"FCZDUDOC\"\u003e上面Manus的经验中，用提高KV-Cache命中率的方式来减少Token成本。除此以外，还是要尽量减少Agent的轮次，去掉Context中冗余的信息，想办法让Agent快速高效地完成任务。\u003c/p\u003e\u003ch3\u003e第三，不能轻视工具的作用。\u003c/h3\u003e\u003cp data-pid=\"PyPg3BbZ\"\u003e作者认为，一个Agent完成任务的过程，工具应该承担70%的工作量，模型只承担30%。我们容易犯的一个错误是：既然现在的AI模型这么智能，我们可以把一切任务交给它去做。这是对AI算力的一种浪费，而且把所有事情都交给AI模型，就会导致前面两个问题（轮次增多、Token暴增）。我们应该记住，模型的主要价值是它的“智能”，所以我们只应该把\u003cb\u003e需要思考决策的工作\u003c/b\u003e委派给他，而确定性（deterministic）的工作要用工具去完成。就像我曾经写过的，\u003ca href=\"https://www.zhihu.com/pin/1905393794393805016\" class=\"internal\" target=\"_blank\"\u003eSoftware 1.0和2.0\u003c/a\u003e应该是一种共存、相互融合的状态，不能因为有了AI模型这个锤子，就把所有问题都当成钉子。规则确定，能用代码解决的问题，就不该动用模型的能力。\u003c/p\u003e\u003cp data-pid=\"DXw2GVng\"\u003e举个例子，如果你的Agent需要在任务过程中查询数据库，你可以让模型去生成SQL语句，访问数据库获得数据；但是更好的方法是事先把所有SQL语句写好，包装成工具给模型使用。这样，模型就不用为了生成SQL付出额外的运算，节省了很多token；而且，也避免了模型生成错误SQL带来的麻烦。\u003c/p\u003e\u003cp data-pid=\"-WJ_7uFW\"\u003e工具的设计要考虑很多方面：错误恢复、Context用量等等。简而言之，工具设计的原则是“AI友好”，而不是“人类友好”。\u003c/p\u003e\u003chr/\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003ch2\u003e结语\u003c/h2\u003e\u003cp data-pid=\"MxWVC_W8\"\u003e根据以上三个案例和三条定律可以发现，Agent的设计依赖于具体的应用场景和问题。很多时候，一个Agent应用的经验不能照搬到其他的应用中。每一个Agent的开发都要因地制宜，是一个不断摸索、试错的过程，而且，在时间的维度上，随着底层模型能力的提升，Context Window的变化，Agent的策略也要适时调整。所以，AI Agent是一个复杂的动态系统性工程，用简单的“套壳”二字来形容这种应用，就太不公平了。\u003c/p\u003e","is_labeled":false,"visited_count":487,"thumbnails":["https://pic1.zhimg.com/v2-188c30fbf44b6741f46b79aa2486937a.jpg?source=7e7ef6e2\u0026needBackground=1","https://picx.zhimg.com/50/v2-f4e00f097a8e7318b5740ee0b905ecfe_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-61b262eef62012ac60533c1f5ae0bd34_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-d39be5cce1fc80c05524f800ea893364_720w.jpg?source=b6762063","https://pic1.zhimg.com/50/v2-ac4df02f10ef856979dc76668dd1d6b0_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-d5400160e31ddaad28372e269449b2d9_720w.jpg?source=b6762063","https://pic1.zhimg.com/50/v2-ed22964284ff9ae7e47e80ae6f854eae_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-54f1b9d104d81ab44888c96548a9c829_720w.jpg?source=b6762063","https://pic1.zhimg.com/50/v2-e58bd244e97a04eea2033ceae0a26c0f_720w.jpg?source=b6762063","https://pic1.zhimg.com/50/v2-38cd30303efe6c500495e741932f2f7b_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-14709a927b7ec43910c9edafca295cb5_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-e1fba265ef1f4e526b4d5f57b44cab59_720w.jpg?source=b6762063","https://pica.zhimg.com/50/v2-fc37d9cbfebbacffd818f07ba54b6ae4_720w.jpg?source=b6762063","https://pica.zhimg.com/50/v2-ce0f875c4d95c3d3d24fd842422f9f23_720w.jpg?source=b6762063"],"favorite_count":26,"article_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"article\", \"id\": 1931690475296907858}","attached_info":"Cp4MCIz9i+7QhduxiQEQBxoJMjYwNzY2Mjk0IKbkh8QGKAQwAECKAUpCCi1UU19TT1VSQ0VfVFdPVE9XRVJfTVVMVElfU0NFTkVfVjFfUkVDQUxMX1RFWFQSATAYACAAOgp7InJhdyI6IiJ9SkIKLVRTX1NPVVJDRV9UV09UT1dFUl9NVUxUSV9TQ0VORV9WMV9SRUNBTExfVEVYVBIBMBgAIAA6CnsicmF3IjoiIn1aCDEzNjY3MjMyYiBhYTdkMjI0ZTA2ZDRiMzFiNzRmNjRkMDgwZDliN2Y1NnITMTkzMTY5MDQ3NTI5NjkwNzg1OIIBX2h0dHBzOi8vcGljMS56aGltZy5jb20vdjItMTg4YzMwZmJmNDRiNjc0MWY0NmI3OWFhMjQ4NjkzN2EuanBnP3NvdXJjZT03ZTdlZjZlMiZuZWVkQmFja2dyb3VuZD0xigEVY18xODk2MjY3MzgxOTIxMjgwMzQyqgEJcmVjb21tZW5kwgEgZDllNzhiNTUwZjAxOGI5ZGQ3NThmZGMzYTU5MGZjYzPyAQoIDBIGTm9ybWFs8gEoCAoSJDFhZmZiNDMwLTQwZDgtNDkxNi04MGUwLTViZjJkMmMzNTlkOPIBBggLEgIyNIICAIgCptLMzoUzkgIgZDllNzhiNTUwZjAxOGI5ZGQ3NThmZGMzYTU5MGZjYzOaAgDKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygIVVXNlckxjbkV4aXRXZWlnaHRSdWxl2gItVFNfU09VUkNFX1RXT1RPV0VSX01VTFRJX1NDRU5FX1YxX1JFQ0FMTF9URVhU6AID+gILTk9STUFMX0ZMT1eKAyBjMjk3OWQ2OTVkMWQ0ZDk3ODNkNmFkMjJhOWM5OGEwYpoDDQoCdjIQABoFb3RoZXKoA+cD2AMA6gMfdGV4dEZlZWRUd29Ub3dlcldhcm11cFN1Y2Nlc3NWMfoDsAUSDFVOS05PV05fTU9ERSAAKg1OT19JTUFHRV9NT0RFOi0IAxCADBiACCIjdjItMTZkMjJmNjk4OTdiNjUwMzliYzA3NTkwZDUzZmY2MDk6LQgCEIAeGPAQIiN2Mi0zOGFjMGZiZDdhZWE0NGEzMzAxY2FhNjBkOGYzMzgyYjotCAQQgB4Y8BAiI3YyLWNmMTViOGYxYmVjODBlYWM4NjNlOTZmMDU4Yjg1YTAzOi0IAhCAHhjwECIjdjItZTA3M2YyOTdiYzVlMGRhN2NkNWJjY2E3YTZiMzNmNjY6LQgCEIAeGPAQIiN2Mi01OTRmZTY0ZWMxMWY5NDUyMGEyMDMxYTllMmU2ZGJiMjotCAIQgB4Y8BAiI3YyLWFjNmZiMGYzODQ2MDgzMDdlODJkMzU5MDFlZjk5NTMzOi0IAhCAHhjwECIjdjItMDIzNzYyMzhjMzJhMDlkZGNhMzU4M2U3Yzg4YjNhYzY6LQgCEIALGNAJIiN2Mi02ODViZjViOGQ3NmEwMGI4MDNhNGU3MWRhNjU4ODEzZTotCAIQ/AoYzgkiI3YyLTQyMjcxNGEwN2Y0ZTcxZTA4N2I5NzNjMDViMDlhMDMxOi0IAhCAHhjwECIjdjItNGJjMzMwOTIzOTk0NzM1ZmYyYWIyNTlmMmQ5YjYyZWU6LAgCEJcGGHEiI3YyLWIzNTgzMThmNjg4NTc1NjVmMTcyYWZjYTAxNjE1MWNmOi0IAxDVCRj0BSIjdjItZDZiZmRmNTdmNjY3MGI0ODhjOTI5YmIxZTljYjM5ODU6LQgEEK0JGOUFIiN2Mi1iZjEwY2ZmNWQxMmU1NzFhZmM2NmUzZjNiMDcxMDIxNjotCAMQgAwYgAgiI3YyLTE4OGMzMGZiZjQ0YjY3NDFmNDZiNzlhYTI0ODY5MzdhgAQAiAQAkgQGTm9ybWFsmgQBM6AEAKgEALAEALoEAmFpwgQDNDAwyAQA0gQP5o6o6I2Q5bey5pu05paw2AQA8AQA+QQAAACA5/+IP4EFAAAAAAAAAACJBYkAVnA0dNM/kgUAmgUDZGZ0ogUDZGZ0sgUBMbkFAAAAAAAAAADQBQDgBQDoBQDwBRiQBgCgBooBqAYBkgIuCgkyNjA3NjYyOTQSEzE5MzE2OTA0NzUyOTY5MDc4NTgYByIKSU1BR0VfVEVYVA==","action_card":false},{"id":"139_1753853667.483","type":"feed","offset":139,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1753853667,"updated_time":1753853667,"target":{"id":"1931408623608762692","type":"answer","url":"https://api.zhihu.com/answers/1931408623608762692","author":{"id":"ab0682c660239ff0d890e200bf7fb832","url":"https://api.zhihu.com/people/ab0682c660239ff0d890e200bf7fb832","user_type":"people","url_token":"80-27-37-69","name":"天亮的云海","headline":"","avatar_url":"https://pic1.zhimg.com/50/v2-93790dcca79047dc9376be740378d83a_l.jpg?source=b6762063","is_org":false,"gender":0,"followers_count":40,"is_following":false,"is_followed":false},"created_time":1753263699,"updated_time":1753263985,"voteup_count":25,"thanks_count":3,"comment_count":0,"is_copyable":true,"question":{"id":"24921291","type":"question","url":"https://api.zhihu.com/questions/24921291","author":{"id":"0c0d5e886d856b68e8ed76c99f26b116","url":"https://api.zhihu.com/people/0c0d5e886d856b68e8ed76c99f26b116","user_type":"people","url_token":"zong-lu-shu-3","name":"棕榈树","headline":"爱藏书 法律生 穷鞋头","avatar_url":"https://picx.zhimg.com/50/4150d9a21ee53e6507717f9a9a0987eb_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":6,"is_following":false,"is_followed":false},"title":"你看过最奇怪的书是什么？","created":1408518211,"answer_count":0,"follower_count":0,"comment_count":7,"bound_topic_ids":[53,113,1164,1309],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"excerpt":"《奸商奸术揭秘》 看了部分内容，太敢写了。。。 这书搁现在根本出版不了！！！ 电子版链接：夸克网盘分享","excerpt_new":"《奸商奸术揭秘》 看了部分内容，太敢写了。。。 这书搁现在根本出版不了！！！ 电子版链接：夸克网盘分享","preview_type":"default","preview_text":"","reshipment_settings":"allowed","content":"\u003cp data-pid=\"zfQZZ67Q\"\u003e《奸商奸术揭秘》\u003c/p\u003e\u003cp data-pid=\"XPkzxuMh\"\u003e看了部分内容，太敢写了。。。\u003c/p\u003e\u003cp data-pid=\"PkCi86Hp\"\u003e这书搁现在根本出版不了！！！\u003c/p\u003e\u003cp data-pid=\"4EAFpGh1\"\u003e\u003cb\u003e电子版链接：\u003c/b\u003e\u003ca href=\"https://link.zhihu.com/?target=https%3A//pan.quark.cn/s/73a3fc010a9b\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003e夸克网盘分享\u003c/a\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic3.zhimg.com/v2-60a38790563122d1db476f4a3b2ad402_1440w.jpg\" data-rawwidth=\"636\" data-rawheight=\"742\" data-size=\"normal\" data-original-token=\"v2-e7e6a1cbabe87475a46043a639545dc7\" data-default-watermark-src=\"https://pic3.zhimg.com/v2-9d27f85a80e6d1a2a15b48a74234dab0_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"636\" data-original=\"https://pic3.zhimg.com/v2-60a38790563122d1db476f4a3b2ad402_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic3.zhimg.com/v2-e7cce810b2529e75f9f53e5b52577a56_1440w.jpg\" data-rawwidth=\"580\" data-rawheight=\"624\" data-size=\"normal\" data-original-token=\"v2-3038ef12bd36bb394ac51232c2a5d972\" data-default-watermark-src=\"https://pic4.zhimg.com/v2-2d2c42449577af479d28de1c03532661_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"580\" data-original=\"https://pic3.zhimg.com/v2-e7cce810b2529e75f9f53e5b52577a56_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic4.zhimg.com/v2-1f6b242e3a48ecc3dc25ccc817e75d77_1440w.jpg\" data-rawwidth=\"579\" data-rawheight=\"647\" data-size=\"normal\" data-original-token=\"v2-4f7aa21a2c36d47b9ce2e7336564d871\" data-default-watermark-src=\"https://pic2.zhimg.com/v2-ba1f2618fe33e3ae66f0d919c2065e4b_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"579\" data-original=\"https://pic4.zhimg.com/v2-1f6b242e3a48ecc3dc25ccc817e75d77_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic4.zhimg.com/v2-2a8138ef7e9bad09b5e87e62523deec7_1440w.jpg\" data-rawwidth=\"581\" data-rawheight=\"665\" data-size=\"normal\" data-original-token=\"v2-c32494cd795f9c2b02a774009ec9b448\" data-default-watermark-src=\"https://picx.zhimg.com/v2-515738a7c9b6a577d99080bcabc728a5_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"581\" data-original=\"https://pic4.zhimg.com/v2-2a8138ef7e9bad09b5e87e62523deec7_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-cc554f5845e3b914218aca2744eb93e8_1440w.jpg\" data-rawwidth=\"561\" data-rawheight=\"435\" data-size=\"normal\" data-original-token=\"v2-c2637c699e81b46d99e488d8e6d23481\" data-default-watermark-src=\"https://pic3.zhimg.com/v2-b075c2578b217a0bb595b921368eedfc_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"561\" data-original=\"https://pic1.zhimg.com/v2-cc554f5845e3b914218aca2744eb93e8_r.jpg\"/\u003e\u003c/figure\u003e\u003cp\u003e\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":2615,"favorite_count":164,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1931408623608762692}","attached_info":"CuQHCIz9i+7QhduxiQEQBBoJNzM4NDgwMTY1INPcgsQGKBkwAECLAUpCCi1UU19TT1VSQ0VfVFdPVE9XRVJfTVVMVElfU0NFTkVfVjFfUkVDQUxMX1RFWFQSATAYACAAOgp7InJhdyI6IiJ9SigKHVRTX1NPVVJDRV9ORUFSTElORV9DT05URU5UX1YyEgEwGAAgADoAWgcyMTUwNjA2YiBhYTdkMjI0ZTA2ZDRiMzFiNzRmNjRkMDgwZDliN2Y1NnITMTkzMTQwODYyMzYwODc2MjY5MooBCDI0OTIxMjkxqgEJcmVjb21tZW5kwgEgYWIwNjgyYzY2MDIzOWZmMGQ4OTBlMjAwYmY3ZmI4MzLyAQoIDBIGTm9ybWFs8gEoCAoSJGE3YzliZGJhLWM2ZGEtNDIyOC04NTIzLWY3ODU5MTJkYmFmN/IBBggLEgIyNIICAIgCp9LMzoUzkgIgYWIwNjgyYzY2MDIzOWZmMGQ4OTBlMjAwYmY3ZmI4MzKaAgDKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygIVVXNlckxjbkV4aXRXZWlnaHRSdWxl2gItVFNfU09VUkNFX1RXT1RPV0VSX01VTFRJX1NDRU5FX1YxX1JFQ0FMTF9URVhU6AIC+gILTk9STUFMX0ZMT1eKAyBjMjk3OWQ2OTVkMWQ0ZDk3ODNkNmFkMjJhOWM5OGEwYpoDDQoCdjIQABoFb3RoZXKoA7cU2AMA6gMVdGV4dEZlZWRUd29Ub3dlclYxQWxs+gOKAhIMVU5LTk9XTl9NT0RFIAAqDU5PX0lNQUdFX01PREU6LQgCEPwEGOYFIiN2Mi1lN2U2YTFjYmFiZTg3NDc1YTQ2MDQzYTYzOTU0NWRjNzotCAIQxAQY8AQiI3YyLTMwMzhlZjEyYmQzNmJiMzk0YWM1MTIzMmMyYTVkOTcyOi0IAhDDBBiHBSIjdjItNGY3YWEyMWEyYzM2ZDQ3YjljZTJlNzMzNjU2NGQ4NzE6LQgCEMUEGJkFIiN2Mi1jMzI0OTRjZDc5NWY5YzJiMDJhNzc0MDA5ZWM5YjQ0ODotCAIQsQQYswMiI3YyLWMyNjM3YzY5OWU4MWI0NmQ5OWU0ODhkOGU2ZDIzNDgxgAQAiAQAkgQGTm9ybWFsmgQBMqAEAKgEALAEALoEAmFpwgQDNDAwyAQA0gQP5o6o6I2Q5bey5pu05paw2AQA8AQA+QQAAABAdy+iP4EFAAAAAAAAAACJBYkAVnA0dNM/kgUAmgUDZGZ0ogUDZGZ0sgUBMbkFAAAAAAAAAADQBQDgBQDoBQDwBRiQBgCgBosBqAYDkgIuCgk3Mzg0ODAxNjUSEzE5MzE0MDg2MjM2MDg3NjI2OTIYBCIKSU1BR0VfVEVYVA==","action_card":false},{"id":"140_1753853667.693","type":"feed","offset":140,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1753853667,"updated_time":1753853667,"target":{"id":"1931824477940978655","type":"answer","url":"https://api.zhihu.com/answers/1931824477940978655","author":{"id":"100a66510c534a7ccf3fc0c6dddbada4","url":"https://api.zhihu.com/people/100a66510c534a7ccf3fc0c6dddbada4","user_type":"people","url_token":"liang-xi-jia-58","name":"惊喜家","headline":"微信公众号:明海先生","avatar_url":"https://pic1.zhimg.com/50/v2-0085a5bca5a8cdc383f156b29a90f348_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":17,"is_following":false,"is_followed":false},"created_time":1753362847,"updated_time":1753362847,"voteup_count":4,"thanks_count":1,"comment_count":0,"is_copyable":true,"question":{"id":"1926791031166316735","type":"question","url":"https://api.zhihu.com/questions/1926791031166316735","author":{"id":"dcf1f97c2eec929f7d9e7f0955cdfd00","url":"https://api.zhihu.com/people/dcf1f97c2eec929f7d9e7f0955cdfd00","user_type":"people","url_token":"zobon","name":"小兵同志","headline":"哈尔滨工业大学（深圳）研一","avatar_url":"https://picx.zhimg.com/50/v2-cd39f43ade127109015cabdfeb0f5f17_l.jpg?source=b6762063","is_org":false,"gender":1,"badge":[{"type":"identity_people","description":"哈尔滨工业大学(深圳) 资源与环境硕士在读"}],"followers_count":53,"is_following":false,"is_followed":false},"title":"说说你们读毛选的收获?","created":1752162779,"answer_count":0,"follower_count":0,"comment_count":0,"bound_topic_ids":[2737276,2928410,3473351],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"excerpt":"如何制定阳谋？ 阳谋如此厉害，那该如何制定一个阳谋呢？ 我从研究《毛选》中的阳谋发现，制定一个阳谋最核心的有三个步骤： 1.找出关键竞争对手 2.从对手中找出固有的矛盾制定战略 3.坚持战术协同战略去行动 1.找出关键竞争对手 找出关键对手的背后往往就是找出敌人、朋友与中间派。朋友是力量之所在，敌人是斗争之对象，中间派往往是谁赢站在谁的一边，只有极少一部分人会在道德舆论下跑去正义的一边。找出来后就要去团结朋友…","excerpt_new":"如何制定阳谋？ 阳谋如此厉害，那该如何制定一个阳谋呢？ 我从研究《毛选》中的阳谋发现，制定一个阳谋最核心的有三个步骤： 1.找出关键竞争对手 2.从对手中找出固有的矛盾制定战略 3.坚持战术协同战略去行动 1.找出关键竞争对手 找出关键对手的背后往往就是找出敌人、朋友与中间派。朋友是力量之所在，敌人是斗争之对象，中间派往往是谁赢站在谁的一边，只有极少一部分人会在道德舆论下跑去正义的一边。找出来后就要去团结朋友…","preview_type":"default","preview_text":"","reshipment_settings":"allowed","content":"\u003cp data-pid=\"-eUtRt1p\"\u003e如何制定阳谋？\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"1dTqRB0k\"\u003e阳谋如此厉害，那该如何制定一个阳谋呢？\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"NhOYF-Gt\"\u003e我从研究《毛选》中的阳谋发现，制定一个阳谋最核心的有三个步骤：\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"QJ5y3dry\"\u003e1.找出关键竞争对手\u003c/p\u003e\u003cp data-pid=\"zF1sIrhp\"\u003e2.从对手中找出固有的矛盾制定战略\u003c/p\u003e\u003cp data-pid=\"PjY0-zr9\"\u003e3.坚持战术协同战略去行动\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"vHxj6heJ\"\u003e1.找出关键竞争对手\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"iWS3Ostr\"\u003e找出关键对手的背后往往就是找出敌人、朋友与中间派。朋友是力量之所在，敌人是斗争之对象，中间派往往是谁赢站在谁的一边，只有极少一部分人会在道德舆论下跑去正义的一边。找出来后就要去团结朋友，拉拢中间派，分化敌人，与敌人做斗争，最终要战胜敌人。用伟人的话来说：政治就是把敌人搞得少少的，把朋友搞得多多的。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"9ZTtyhWe\"\u003e找出关键对手是制定阳谋的前提！\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"qI-9M9vL\"\u003e《毛选》就是一部阳谋，里面的战略是公开化的，其第一篇文章《中国社会各阶级的分析》非常重要，因为伟人找出了关键的敌人与朋友，他说这是革命的首要问题。文中所划分的六大阶级，是后面对蒋制定阳谋的基础。如土地革命、农村包围城市、人民战争等等，这些针对果党的战略与策略都是阳谋，都是公开化，敌人知道也模仿不了，这是无解。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"zknLL_b8\"\u003e但关键对手不是静止的，而是随着矛盾的变化而变化，所以要用动态的视角去看待。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"qtLRKF2Z\"\u003e比如与果党前面那十年之战，关键对手是蒋，而到了抗日时期，关键对手却变成了日，这个时期反而要和蒋一起合作。后面制定的“持久战”阳谋，需要等到三大统一战线形成才能战胜敌人，而国内统一战线就是需要与蒋合作。如果看不到这点，制定的阳谋所寻找的力量是不足的。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"f0UrgWbM\"\u003e伟人之前的人们所探索的路之所以失败，就是找不到真正的敌人与朋友。伟人在《毛选》第一篇文章就总结到：“中国过去一切革命斗争成效甚少，其基本原因就是因为不能团结真正的朋友，以攻击真正的敌人。”\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"kk_R2rsX\"\u003e所以确定关键对手极为重要，这也很好解释伟人为什么把确定关键对手作为《毛选》的第一篇文章内容。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"bF9YCuRe\"\u003e我之前看到一个很好的商业案例，讲的是在北京购物中心有一家电影院，旁边都是一些商业门店。电影院门口立有一个广告牌，写着一句大概是这样意思的文案：这是某某地方最好的电影院！\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"pJCPn8TC\"\u003e其实这句文案就是没有很好地确定关键竞争对手，为什么这么说呢？  \u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"gDlZslEm\"\u003e因为这家电影院在实体店与在网上打的广告，所面对的关键竞争对手是不一样的。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"f_nZw9JR\"\u003e电影院在实体店写的文案所面临的竞争环境是这样：人们去购物中心逛街买东西，当人们逛累了会犹豫去喝杯奶茶还是去吃顿好的美食？或者继续买衣服、休息聊会天、看场电影等。电影院在实体店打广告，他的竞争对手是奶茶店、美食店、衣服专卖店等，而不是其他电影院。如果在网上的购票网站，广告牌那句slogan才是对的，因为此时的竞争对手才是该地方的其他电影院。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"VpESfGOh\"\u003e关键对手不同，有时候阴谋也是阳谋！\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"J7_aCVY6\"\u003e我们对于诸葛亮的空城计都很熟悉，这是一个阴谋，因为一旦被对方识破那就意味着失败。这时候之所以是阴谋，是因为我们确定的关键对手是曹家，而不是来打的司马懿。如果把司马懿作为关键竞争对手，那么空城计有可能就是诸葛亮制定的一个阳谋。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"HWYFBkQP\"\u003e诸葛亮摸准了司马懿不敢进攻，如果司马懿敢进城灭了诸葛亮，占领了土地，那意味着战争就差不多结束了，司马懿家族就会被曹家削弱。但诸葛亮得给司马懿一个不敢进城的理由，至少让司马懿对曹睿有个交代，所以诸葛亮用空城计给了他一个理由。司马懿即使知道这是诸葛亮的计谋，但也不能进城去打诸葛亮。从这个角度去思考的话，那空城计就是个阳谋。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"vzJHCEHN\"\u003e关键对手会随着时间、空间、性质的变化而变化。制定一个阳谋时，需要考虑变化的局势，先找出真正的关键对手是谁。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"Sy_SOJE2\"\u003e伟人在《革命战争的战略问题》（简称）一文就分析到：“战争情况的不同，决定着不同的战争指导规律，有时间、地域（空间）和性质的差别。”可以说，时间、空间与性质的不同导致了矛盾的不同，矛盾的变化很有可能引起关键对手的变化。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"ZbRkI7F6\"\u003e2.从对手中找出固有的矛盾制定战略\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"y4gWcVUI\"\u003e确定了关键对手后，就要从对手中找出固有的矛盾来制定战略。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"9Kd7tcad\"\u003e像“持久战”这个阳谋，针对日这个关键对手，它的固有矛盾为：由于它的历史发展原因与帝国主义的性质，这决定了它必须通过冒险发动战争来缓解国内外的矛盾。而他所发动的战争又必然是带有退步性与野蛮性这两个特点，这两个特点就决定了它必然会引起它本国内的阶级对立，它与全世界的对立。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"gJRTjL8h\"\u003e再进一步去分析，敌我之间的固有矛盾是：敌方国土小我方国土大、敌人数少我人数多、敌落后野蛮我先进正义、敌失道寡助我得道多助、敌武器先进我武器落后等。从这些固有的矛盾就可以看出，胜利是属于我们的，但因为敌人暂时过于强大，短时间无法战胜敌人，所以需要持久战。于是伟人制定了“持久战”这个阳谋，从防御、相持、反攻三个阶段制定作战战略。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"3xwi_5pz\"\u003e固有的矛盾主要从人性、历史趋势与优势中的劣势这三方面去寻找。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"BNLMp01A\"\u003e对于人性这方面来说，有好的一面也有坏的一面，但几千年来基本不变。历史上非常著名的一个阳谋——“推恩令”，利用的就是人们对权利的欲望。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"LZFt7Cd9\"\u003e西汉时期，由于各诸侯势力过大，汉景帝削藩（和平硬干）不成，酿成七王之乱，幸好武力平叛（流血硬干）成功，削弱了诸侯王势力。但这样下去也不是办法，诸侯国还是会逐渐变强。等汉武帝上台后，他采取了“推恩令”这个阳谋，将诸侯王的嫡长子继承制改成诸侯王所有儿子一起平等享受诸侯国制度。推恩令把原诸侯王的嫡长子一个人得到的好处，拿来分给诸侯王的所有儿子。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"nZckLBKq\"\u003e关键对手没变，但利用人性对权力与利益的追求入手，把各诸侯王的儿子拉拢作为力量，各诸侯王知道汉武帝的用意也没办法，因为你不同意你各个儿子就会反你。各诸侯王儿子知道汉武帝的用意也没办法，眼前的利益与权力怎么舍得，这就是人性。但这个制度长期下去，诸侯国就会变多，分封到的土地与兵力就越少，力量逐渐变弱。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"0Ehs-QvD\"\u003e从某种角度来说，游戏的设计就是一个针对人性的阳谋，人家告诉你玩游戏会上瘾，但很多人依旧沉迷于游戏无法自拔。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"0Ykt4_jD\"\u003e刚才说了人性有好的一面，也有坏的一面，很多人是利用人性坏的一面谋取私利。而《毛选》中针对人性的阳谋，是发挥了人性中好的一面，是为了大多数人的利益。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"6yF2lKBA\"\u003e对于针对历史趋势制定阳谋这个方面，从《毛选》的战略我们可以看出，伟人对于把握历史的趋势能力很强。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"-JJ3MV6u\"\u003e伟人在《湖南农民运动考察报告》一文中，他大胆地预告了未来的趋势：将在很短时间内，会有几万万底层人民从中国中部、南部和北部各省起来，其势如暴风骤雨，迅速异常，无论什么大的力量都将压抑不住。 \u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"Yj_eCVo7\"\u003e伟人站在这个趋势引领他们，顺应这个趋势制定了阳谋，如土地革命与农村包围城市。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"mDmJXvlf\"\u003e从关键竞争对手中找出固有矛盾，这是很重要的一点。但在现实中，我们一般人很难分析出对方具有哪些矛盾，这时候，最简单的一种方式就是从对方的优势中去寻找劣势。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"3XdVCYhS\"\u003e因为矛盾是对立统一的，优势中必然存在着劣势，这是克制对手的必然一方面。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"AvdUup8N\"\u003e比如对手蒋，他代表精英层，他们有钱有势有武器，但在当时这些优势中的固有劣势就是他们代表是少部分人的利益，他们对外具有软弱性。所以伟人要打土豪分田地，站在大多数人的一边，从他们中寻找力量。把底层的力量联合起来，用人民战争打赢蒋。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"-Q1YtS7B\"\u003e之前我举过当当与京东之间的竞争案例，当当是一个聚焦线上卖书的公司，正因为聚焦，所以它在卖书网站中具有权威性。这是当当的优势，但优势之中就必然存在着劣势。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"xUGdhs-j\"\u003e当当因为聚焦使它具有权威性这个优势，但这个优势的固有劣势就是单一。京东网上售卖很多产品，卖书只是其中的一个品类，相对于当当来说京东就具有丰富性。在京东与当当进行图书价格战时，因为京东网站的丰富性，京东可以靠售卖3C等其他产品来赚钱，图书降价反而是一种作为引流的方式吸引顾客。可当当的盈利主要来源于图书，如果长期跟进很容易被拖垮。所以最后京东赢了那次价格战，抢走当当的很多客户。 （当然，京东的丰富性对于阿里来说就不是优势了，所以前提要确定好关键竞争对手。）\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"J2Yu3Fw1\"\u003e3.坚持战术协同战略去行动\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"HEKslssq\"\u003e制定好战略，在战术上就要服从战略行动。如果你把自己的品牌定位为奢侈品，那么你的装修这个战术就需要简洁与高端。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"48-isl_7\"\u003e像《毛选》中的“持久战”这个阳谋，制定好了战略，在战术上，内线作战中的外线作战、持久战中的速决战、防御战中的进攻战都是服从战略的。为了可以持久作战，那就要在保存自己的前提下消灭敌人，所以需要用空间换取时间，在战术上进行游击战，打得过就打，打不过就跑。我们土地辽阔，可以满足这种方式。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"oj33sMNj\"\u003e实行“持久战”这个战略，需要长时间吃苦，如果吃不了这种苦就难以成功；实行这个战略需要与蒋合作，如果像我方有的士兵不理解这个战略，觉得与原来的敌人合作那我就不干了，这样也无法完成这个战略；实行这个战略还需要有耐心，没有耐心就很容易陷入悲观论调去了。制定企业战略也是，没有耐心就会内心焦虑，一焦虑就会做些动作来缓解，很多动作就是费动作，扰乱了战略。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"5t0xjpPK\"\u003e战术不协同战略来开展行动，有时候战术赢了反而会促使战略的失败。如果战术协同战略行动，有时候战术输了也不会影响战略，比如在战术上打不过就跑，主动战略退却，这个跑不会导致战略失败，从战略角度去看，这反而是为了战略成功而做的正确行为。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"lwL3f_s3\"\u003e总结：很多人都会谈到《毛选》中的阳谋，分析很多道理，主题就是阳谋很厉害。但很少有人会去分析如何制定一个阳谋，而我这篇文章所分析的阳谋方法论，是我读了几遍《毛选》不断关联其他知识得到的一个结果，希望对大家有一个启发。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"8JVKZK9X\"\u003e再总结一下制定一个阳谋的三个步骤：确定关键竞争对手、从对手中找出固有的矛盾制定战略、战术协同战略行动。\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":133,"favorite_count":8,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1931824477940978655}","attached_info":"CqkGCIz9i+7QhduxiQEQBBoJNzM4NjgzMTQ0IJ/jiMQGKAQwAECMAUpCCi1UU19TT1VSQ0VfVFdPVE9XRVJfTVVMVElfU0NFTkVfVjFfUkVDQUxMX1RFWFQSATAYACAAOgp7InJhdyI6IiJ9SkIKLVRTX1NPVVJDRV9UV09UT1dFUl9NVUxUSV9TQ0VORV9WMV9SRUNBTExfVEVYVBIBMBgAIAA6CnsicmF3IjoiIn1aCTExNTc2MDM2MWIgYWE3ZDIyNGUwNmQ0YjMxYjc0ZjY0ZDA4MGQ5YjdmNTZyEzE5MzE4MjQ0Nzc5NDA5Nzg2NTWKARMxOTI2NzkxMDMxMTY2MzE2NzM1qgEJcmVjb21tZW5kwgEgMTAwYTY2NTEwYzUzNGE3Y2NmM2ZjMGM2ZGRkYmFkYTTyAQoIDBIGTm9ybWFs8gEoCAoSJGVlZTA3YmMyLTBmNTQtNDQwMS04NzFlLWExY2VmYzdiZWJjNvIBBggLEgIyNIICAIgCp9LMzoUzkgIgMTAwYTY2NTEwYzUzNGE3Y2NmM2ZjMGM2ZGRkYmFkYTSaAgDKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygIVVXNlckxjbkV4aXRXZWlnaHRSdWxl2gItVFNfU09VUkNFX1RXT1RPV0VSX01VTFRJX1NDRU5FX1YxX1JFQ0FMTF9URVhU6AIC+gILTk9STUFMX0ZMT1eKAyBjMjk3OWQ2OTVkMWQ0ZDk3ODNkNmFkMjJhOWM5OGEwYpoDDQoCdjIQABoFb3RoZXKoA4UB2AMA6gMfdGV4dEZlZWRUd29Ub3dlcldhcm11cFN1Y2Nlc3NWMfoDHxIMVU5LTk9XTl9NT0RFIAAqDU5PX0lNQUdFX01PREWABACIBACSBAZOb3JtYWyaBAEyoAQAqAQAsAQAugQCYWnCBAM0MDDIBADSBA/mjqjojZDlt7Lmm7TmlrDYBADwBAD5BAAAAMBrnZs/gQUAAAAAAAAAAIkFiQBWcDR00z+SBQCaBQNkZnSiBQNkZnSyBQExuQUAAAAAAAAAANAFAOAFAOgFAPAFGJAGAKAGjAGoBgCSAi4KCTczODY4MzE0NBITMTkzMTgyNDQ3Nzk0MDk3ODY1NRgEIgpJTUFHRV9URVhU","action_card":false},{"id":"141_1753853667.160","type":"feed","offset":141,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1753853667,"updated_time":1753853667,"target":{"id":"1924789901578204047","type":"answer","url":"https://api.zhihu.com/answers/1924789901578204047","author":{"id":"b8988856c3b3794545cb836b89f3e15a","url":"https://api.zhihu.com/people/b8988856c3b3794545cb836b89f3e15a","user_type":"people","url_token":"tao-yan-ban-ye-bu-zuo-ye-35","name":"不喝奶茶","headline":"愿世界和平","avatar_url":"https://pic1.zhimg.com/50/v2-31913bb03eb6f32806b15dcaa3ee2b85_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":195,"is_following":false,"is_followed":false},"created_time":1751685673,"updated_time":1751685673,"voteup_count":593,"thanks_count":19,"comment_count":142,"is_copyable":true,"question":{"id":"1924150090903300055","type":"question","url":"https://api.zhihu.com/questions/1924150090903300055","author":{"id":"d896ad8e1a157ddb2b7a29d0603d94e6","url":"https://api.zhihu.com/people/d896ad8e1a157ddb2b7a29d0603d94e6","user_type":"people","url_token":"onlyzhu-xiao-quan","name":"only丶小权","headline":"心有猛虎 细嗅蔷薇","avatar_url":"https://picx.zhimg.com/50/v2-8cd019d6fb1bdec04437c48acbe24ea8_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":726,"is_following":false,"is_followed":false},"title":"银行股为什么高位一直下不来?","created":1751533130,"answer_count":0,"follower_count":0,"comment_count":6,"bound_topic_ids":[40063],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"excerpt":"理解了国家如何化债，你就理解了为什么银行股一直在高位下不来。 绝对不是为了什么“只要散户不愿意接盘，就一直涨到散户不得不接盘”，实际上，汪汪队根本不在乎在银行股上，散户接不接盘。 回想这两年国家的动作吧： 降息降准压低利率，是为了降低发债成本，“借新还旧”，同时也是为了把大量的银行存款逼到股市，释放流动性； 控制ipo，发布退市新规，是为了保护上市公司壳的价值； 地方政府通过城投公司把资产（大量 长期 高…","excerpt_new":"理解了国家如何化债，你就理解了为什么银行股一直在高位下不来。 绝对不是为了什么“只要散户不愿意接盘，就一直涨到散户不得不接盘”，实际上，汪汪队根本不在乎在银行股上，散户接不接盘。 回想这两年国家的动作吧： 降息降准压低利率，是为了降低发债成本，“借新还旧”，同时也是为了把大量的银行存款逼到股市，释放流动性； 控制ipo，发布退市新规，是为了保护上市公司壳的价值； 地方政府通过城投公司把资产（大量 长期 高…","preview_type":"default","preview_text":"","reshipment_settings":"allowed","content":"\u003cp data-pid=\"KgpN2hFB\"\u003e理解了国家如何化债，你就理解了为什么银行股一直在高位下不来。\u003c/p\u003e\u003cp data-pid=\"GAoCwQkW\"\u003e绝对不是为了什么“只要散户不愿意接盘，就一直涨到散户不得不接盘”，实际上，汪汪队根本不在乎在银行股上，散户接不接盘。\u003c/p\u003e\u003cp data-pid=\"ogqI5Wqv\"\u003e回想这两年国家的动作吧：\u003c/p\u003e\u003cp data-pid=\"3E39RBT9\"\u003e降息降准压低利率，是为了降低发债成本，“借新还旧”，同时也是为了把大量的银行存款逼到股市，释放流动性；\u003c/p\u003e\u003cp data-pid=\"qBkVyu_W\"\u003e控制ipo，发布退市新规，是为了保护上市公司壳的价值；\u003c/p\u003e\u003cp data-pid=\"NBT_JUR1\"\u003e地方政府通过城投公司把资产（大量 长期 高投入 低回报 缺乏流动性 账面却“很值钱”) 注入上市公司（或发行基金或抵押给银行，也就是为什么汇金增持银行股，补充资本），将负债变为资产；\u003c/p\u003e\u003cp data-pid=\"33p9Y7LU\"\u003e股市上涨，本质就是为地方化债提供通道；\u003c/p\u003e\u003cp data-pid=\"UHTZygXP\"\u003eA股，从一开始就是个融资市场，现在更是成为了国家化债的工具；\u003c/p\u003e\u003cp data-pid=\"5ttBv_s6\"\u003e理解这个，也就不难理解，作为化债主力军，为什么银行股在净息差收窄，分红持续走低，未来成长有限的情况下，还能一路上涨了；\u003c/p\u003e\u003cp data-pid=\"bh5jIzE3\"\u003e股市不跌不是因为什么“信心牛”，而是因为债太重，跌不起。\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":109635,"favorite_count":582,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1924789901578204047}","attached_info":"CtIFCIz9i+7QhduxiQEQBBoJNzM1NTEyMDQxIKm0osMGKNEEMI4BQI0BSigKHVRTX1NPVVJDRV9ORUFSTElORV9DT05URU5UX1YyEgEwGAAgADoASjAKG1RTX1NPVVJDRV9GRUVEUkVfVElNRUxJTkVTUxIBMBgAIAA6CnsicmF3IjoiIn1aCTExNTY2NzYyM2IgYWE3ZDIyNGUwNmQ0YjMxYjc0ZjY0ZDA4MGQ5YjdmNTZyEzE5MjQ3ODk5MDE1NzgyMDQwNDeKARMxOTI0MTUwMDkwOTAzMzAwMDU1qgEJcmVjb21tZW5kwgEgYjg5ODg4NTZjM2IzNzk0NTQ1Y2I4MzZiODlmM2UxNWHyAQoIDBIGTm9ybWFs8gEoCAoSJGQ0NWI4OTViLWMzZDktNDU2NS1iNGE2LWZiNzViZjAxYzBiNPIBBggLEgIyNIICAIgCp9LMzoUzkgIgYjg5ODg4NTZjM2IzNzk0NTQ1Y2I4MzZiODlmM2UxNWGaAgDKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygIVVXNlckxjbkV4aXRXZWlnaHRSdWxl2gIdVFNfU09VUkNFX05FQVJMSU5FX0NPTlRFTlRfVjLoAgL6AgtOT1JNQUxfRkxPV4oDIGMyOTc5ZDY5NWQxZDRkOTc4M2Q2YWQyMmE5Yzk4YTBimgMNCgJ2MhAAGgVvdGhlcqgDw9gG2AMA+gMfEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERYAEAIgEAJIEBk5vcm1hbJoEATKgBACoBACwBAC6BAZtYW51YWzCBAMxNzDIBADSBA/mjqjojZDlt7Lmm7TmlrDYBADwBAD5BAAAAAC+hKI/gQUAAAAAAAAAAIkFiQBWcDR00z+SBQCaBQNkZnSiBQNkZnSyBQExuQUAAAAAAAAAANAFAOAFAOgFAPAFGJAGAKAGjQGoBgCSAi4KCTczNTUxMjA0MRITMTkyNDc4OTkwMTU3ODIwNDA0NxgEIgpJTUFHRV9URVhU","action_card":false},{"id":"142_1753853667.578","type":"feed","offset":142,"verb":"TOPIC_ACKNOWLEDGED_ARTICLE","created_time":1753853667,"updated_time":1753853667,"target":{"id":"1933522827945969330","type":"article","url":"https://api.zhihu.com/articles/1933522827945969330","author":{"id":"7c98e94d406e0d3afba1705a28f97a83","url":"https://api.zhihu.com/people/7c98e94d406e0d3afba1705a28f97a83","user_type":"people","url_token":"xiao-tao-tao-0176","name":"燕子成长社","headline":"生活是好玩的，读书是可爱的，更好的成为自己。","avatar_url":"https://picx.zhimg.com/50/v2-14c7197589e1b33f4035ea0c1bdfea05_l.jpg?source=b6762063","is_org":false,"gender":-1,"followers_count":0,"is_following":false,"is_followed":false},"title":"《我的外婆从不内耗》焦虑时代活得像她一样通透","comment_permission":"all","created":1753768084,"updated":1753768084,"voteup_count":0,"voting":0,"comment_count":0,"linkbox":{"category":"","pic":"","title":"","url":""},"excerpt":"在人人困于自我怀疑、过度反思、无意义牺牲的当下，这位外婆的智慧显得尤为珍贵且颠覆。这不是一本教你如何“正确”的教科书，而是一剂为现代人量身定制的“心灵解毒散”。 作者通过回忆成长过程中外婆对自己的影响和教育，向我们阐述了一个道理：活出自我，才是对生命最好的馈赠。懂得自我养育，才能靠近想要的人生。 每个女性的一生都是波澜壮阔的生命史诗。然而成长过程中的社会评价体系，常常压抑个性，强求共性。随着读书、…","excerpt_new":"在人人困于自我怀疑、过度反思、无意义牺牲的当下，这位外婆的智慧显得尤为珍贵且颠覆。这不是一本教你如何“正确”的教科书，而是一剂为现代人量身定制的“心灵解毒散”。 作者通过回忆成长过程中外婆对自己的影响和教育，向我们阐述了一个道理：活出自我，才是对生命最好的馈赠。懂得自我养育，才能靠近想要的人生。 每个女性的一生都是波澜壮阔的生命史诗。然而成长过程中的社会评价体系，常常压抑个性，强求共性。随着读书、…","preview_type":"default","preview_text":"","content":"\u003cp\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pica.zhimg.com/v2-e6471597a277ea5eb4d990bb276a7e3c_1440w.jpg\" data-rawwidth=\"3060\" data-rawheight=\"4080\" data-size=\"normal\" data-original-token=\"v2-e9ee2529ddc7402b13a2a9ceade5151f\" class=\"origin_image zh-lightbox-thumb\" width=\"3060\" data-original=\"https://pica.zhimg.com/v2-e6471597a277ea5eb4d990bb276a7e3c_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"QJ56QiqA\"\u003e在人人困于自我怀疑、过度反思、无意义牺牲的当下，这位外婆的智慧显得尤为珍贵且颠覆。这不是一本教你如何“正确”的教科书，而是一剂为现代人量身定制的“心灵解毒散”。\u003c/p\u003e\u003cp data-pid=\"3hNz9xHY\"\u003e作者通过回忆成长过程中外婆对自己的影响和教育，向我们阐述了一个道理：活出自我，才是对生命最好的馈赠。懂得自我养育，才能靠近想要的人生。\u003c/p\u003e\u003cp data-pid=\"rs-J9SAA\"\u003e每个女性的一生都是波澜壮阔的生命史诗。然而成长过程中的社会评价体系，常常压抑个性，强求共性。随着读书、学习与思考，我们逐渐敢于抛弃桎梏，允许自己重新发芽、长出个性。在个性疯狂破土的同时，还得抵挡周围的风雨。不断扎根成长后，用智慧找到让自己舒适的存在姿态。在安稳的状态中积蓄能量，最终用自己的微光点亮她和她们。\u003c/p\u003e\u003chr/\u003e\u003cp data-pid=\"VxuCJS7S\"\u003e\u003cb\u003e1、觉醒与自护\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"XhmULsi2\"\u003e长辈的言传身教，是童年时期认识世界的重要途径。他们将自身经历中的获益视为真理，例如“吃得苦中苦方为人上人”、“我那么辛苦都是因为你”、“小孩子能有什么想法”。带着童年或多或少的伤痛，我们跌跌撞撞成年。社会是最好的大学，课堂里没有教会我们：如何肯定自我？如何回击恶意？如何摆脱“理应”？如何争取利益？  \u003c/p\u003e\u003cp data-pid=\"drw2eIXE\"\u003e书中启示我们：没有自己的允许，别人很难真正伤害到我，有时是我们的默许给了对方机会。首先要做不欺负自己的强者。无论何时，能力与地位才是最好的底气。在缺乏生存资源时，应收起过度的谦让与奉献，让自己野蛮生长，成为明艳的花。世界唯一不变的就是变化，用成长型思维看待当下，勇于跳出固有认知是对自己最有效的保护。换位思考有时是伪命题，很难有人与你思考完全一致。因此，要有敢于掀桌子的魄力，也要有收拾残局的底气。\u003c/p\u003e\u003chr/\u003e\u003cp data-pid=\"gJe_NehC\"\u003e\u003cb\u003e2、识局与自保\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"C7nNjGdp\"\u003e书中剖析了社会现实：社会本质上是少数强者思维的人占据多数生存资源，而多数具弱者思维的人常处于被动防御状态。破局之道在于转换思维模式，而非仅停留于被动保护的状态。法律是道德的底线，事后维权往往代价高昂。欺软怕硬是生物本能。身处资源竞争的环境，难言绝对公平，时刻是利益的权衡。因此，必须保护好自己的利益，时刻为自己发声。  \u003c/p\u003e\u003cp data-pid=\"vZjWUldX\"\u003e即使是父母之爱也可能带有羁绊，更何况周围人。嫉妒你的朋友，使绊子的同事。在生存困境中求发展，需要节省心理能量轻装上阵。关键在于：识别小人，远离恶人。每一个“应当”背后，可能无形的能量压榨。若在“优待”与“平等”中选择，后者往往更可持续。\u003c/p\u003e\u003chr/\u003e\u003cp data-pid=\"a74_26Jw\"\u003e\u003cb\u003e3、松弛与自养\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"1j-RXElo\"\u003e10岁梦寐以求的裙子，70岁才得到，心境早已不同。不需要的东西再多，也比不上需要时得到的一小份。每个人生阶段，让努力和松弛交替前行，核心是保持成长。认真对待自己：规律饮食作息，积极处理问题，安抚好情绪，不糊弄身体——做好这些已是稳赚不赔。及时蓄满内心能量池，以饱满状态面对困境。  \u003c/p\u003e\u003cp data-pid=\"XSHjMHDe\"\u003e过去常说“穷人的孩子早当家”，如今在焦虑时代，更需要的是： 认知的丰盈、人性的洞察、规律的把握、能力的提升，以及心性的锤炼。用吃苦换来的道德崇高感只能感动自己，使人在“躺”和“卷”之间进退失据。\u003c/p\u003e\u003chr/\u003e\u003cp data-pid=\"20q4KCJm\"\u003e\u003cb\u003e4、蓄能\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"1ksVzDKz\"\u003e跳出思维陷阱，像珍惜金钱一样珍惜时间。时间的复利能带来意想不到的收获。通过学习提升时间的单位价值。着力培养别人拿不走的核心竞争力，例如：内心的豁达淡然、独特的思维认知、专业化的技能组合、相互成就的人脉网络等。正如古语所云：处卑处低养深蓄厚，居高临远宽以待人。\u003c/p\u003e\u003chr/\u003e\u003cp data-pid=\"oRPORdug\"\u003e\u003cb\u003e5、边界与微光\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"h6m9p20e\"\u003e不背负他人命运。让树成树，让花成花，让别人成为别人，先把自己还给自己。不介入他人因果，建立专属的生活规则，不较真，允许和而不同。电视剧《天道》的细节：主人公丁元英付了两次早餐钱，这体现了他不浪费时间的智慧、对人性弱点的包容，以及内心的强大。在实现自我价值的过程中，用生命的微光点亮他人，拓展生命的维度。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pica.zhimg.com/v2-e42ba3297e57afe2886d374e2febde08_1440w.jpg\" data-rawwidth=\"1104\" data-rawheight=\"1472\" data-size=\"normal\" data-original-token=\"v2-82a0e1383fa8705c97d33fe4a8670ed7\" class=\"origin_image zh-lightbox-thumb\" width=\"1104\" data-original=\"https://pica.zhimg.com/v2-e42ba3297e57afe2886d374e2febde08_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"uAVUm79C\"\u003e合上书本，外婆的低语犹在耳畔:“活得不累，才是本事。”这并非遥不可及的理想，而是一套可习得的生存智慧。从此刻起，像外婆一样，停止无谓的内耗，把能量收回自身一一扎根、破土、绽放，活出你本来的舒展模样。\u003c/p\u003e","is_labeled":false,"visited_count":8,"thumbnails":["https://picx.zhimg.com/50/v2-9639771c9167158f4eea557afe463107_720w.jpg?source=b6762063","https://pic1.zhimg.com/50/v2-c62474cfb52722afac6d35c71864e369_720w.jpg?source=b6762063"],"favorite_count":0,"article_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"article\", \"id\": 1933522827945969330}","attached_info":"CooGCIz9i+7QhduxiQEQBxoJMjYwOTY1OTc5IJTBocQGKAAwAECOAUokChlUU19TT1VSQ0VfV0FSTV9VUF9OT1JNQUwxEgEwGAAgADoAYiBhYTdkMjI0ZTA2ZDRiMzFiNzRmNjRkMDgwZDliN2Y1NnITMTkzMzUyMjgyNzk0NTk2OTMzMKoBCXJlY29tbWVuZMIBIDdjOThlOTRkNDA2ZTBkM2FmYmExNzA1YTI4Zjk3YTgz8gEKCAwSBk5vcm1hbPIBKAgKEiQ5ZjVlZjExZi01OTAyLTQzNTEtYmM4OS02ZjQ0NmYwYzY3YjnyAQYICxICMjSCAgCIAqfSzM6FM5ICIDdjOThlOTRkNDA2ZTBkM2FmYmExNzA1YTI4Zjk3YTgzmgIAygIWU2hvckludGVyZXN0V2VpZ2h0UnVsZcoCFVVzZXJMY25FeGl0V2VpZ2h0UnVsZcoCGENvbnRlbnRXYXJtVXBCcmVha0luUnVsZdoCGVRTX1NPVVJDRV9XQVJNX1VQX05PUk1BTDHoAgP6AgtOT1JNQUxfRkxPV4oDIGMyOTc5ZDY5NWQxZDRkOTc4M2Q2YWQyMmE5Yzk4YTBimgMNCgJ2MhAAGgVvdGhlcqgDCNgDAOoDH3RleHRfMTJob3VyX3VuaWZpbnNoZWRfcmVjYWxsZXL6A30SDFVOS05PV05fTU9ERSAAKg1OT19JTUFHRV9NT0RFOi0IBBD0FxjwHyIjdjItZTllZTI1MjlkZGM3NDAyYjEzYTJhOWNlYWRlNTE1MWY6LQgDENAIGMALIiN2Mi04MmEwZTEzODNmYTg3MDVjOTdkMzNmZTRhODY3MGVkN4AEAIgEAJIEBk5vcm1hbJoEATOgBACoBACwBAC6BAJhacIEAzQwMMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAYB3Ykj+BBQAAAAAAAAAAiQWJAFZwNHTTP5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AUYkAYAoAaOAagGAZICLgoJMjYwOTY1OTc5EhMxOTMzNTIyODI3OTQ1OTY5MzMwGAciCklNQUdFX1RFWFQ=","action_card":false},{"id":"143_1753853667.68","type":"feed","offset":143,"verb":"TOPIC_ACKNOWLEDGED_ARTICLE","created_time":1753853667,"updated_time":1753853667,"target":{"id":"49382254276","type":"article","url":"https://api.zhihu.com/articles/49382254276","author":{"id":"1727cca41b0101180cec7cacf308c8ce","url":"https://api.zhihu.com/people/1727cca41b0101180cec7cacf308c8ce","user_type":"people","url_token":"jolan-17","name":"被推荐的人生回路","headline":"ai","avatar_url":"https://pic1.zhimg.com/50/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=b6762063","is_org":false,"gender":-1,"followers_count":141,"is_following":false,"is_followed":false},"title":"推荐系统——从TIGER、Trinity看生成式推荐中的量化编码","comment_permission":"all","created":1749558716,"updated":1749642425,"voteup_count":69,"voting":0,"comment_count":2,"linkbox":{"category":"","pic":"","title":"","url":""},"excerpt":"量化编码的主要就是从tiger开始， 我们首先来看看tiger的逻辑。 Recommender Systems with Generative Retrieval http://arxiv.org/pdf/2305.05065   RQ-VAE， 这张图说的很清楚， 通过资源的先验知识来学习rq-vae编码， 最大的问题是量化编码内没有包含用户的行为数据、协同数据， 这个编码都只是语义的，效率会很低。 编码后的生成式模型其实很简单， 和LLM类似，但是一个encoder-decoder结构， 用户消费历史过encoder, 然后和decoder做targe…","excerpt_new":"量化编码的主要就是从tiger开始， 我们首先来看看tiger的逻辑。 Recommender Systems with Generative Retrieval http://arxiv.org/pdf/2305.05065   RQ-VAE， 这张图说的很清楚， 通过资源的先验知识来学习rq-vae编码， 最大的问题是量化编码内没有包含用户的行为数据、协同数据， 这个编码都只是语义的，效率会很低。 编码后的生成式模型其实很简单， 和LLM类似，但是一个encoder-decoder结构， 用户消费历史过encoder, 然后和decoder做targe…","preview_type":"default","preview_text":"","content":"\u003cp data-pid=\"8oRnkX25\"\u003e量化编码的主要就是从tiger开始， 我们首先来看看tiger的逻辑。 \u003c/p\u003e\u003ch2\u003eRecommender Systems with Generative Retrieval \u003c/h2\u003e\u003cp data-pid=\"rHLJonB9\"\u003e\u003ca href=\"https://link.zhihu.com/?target=http%3A//arxiv.org/pdf/2305.05065\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003e\u003cspan class=\"invisible\"\u003ehttp://\u003c/span\u003e\u003cspan class=\"visible\"\u003earxiv.org/pdf/2305.0506\u003c/span\u003e\u003cspan class=\"invisible\"\u003e5\u003c/span\u003e\u003cspan class=\"ellipsis\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-06ed737c25597c12f2a5a0603b2fd530_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2202\" data-rawheight=\"1252\" data-original-token=\"v2-1c0472e9d2f8434350e33ff0a0f3bc63\" class=\"origin_image zh-lightbox-thumb\" width=\"2202\" data-original=\"https://pic1.zhimg.com/v2-06ed737c25597c12f2a5a0603b2fd530_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"k9rVxF6D\"\u003eRQ-VAE， 这张图说的很清楚， 通过资源的先验知识来学习rq-vae编码， 最大的问题是量化编码内没有包含用户的行为数据、协同数据， 这个编码都只是语义的，效率会很低。 \u003c/p\u003e\u003cp data-pid=\"0h8ttPrj\"\u003e编码后的生成式模型其实很简单， 和LLM类似，但是一个encoder-decoder结构， 用户消费历史过encoder, 然后和decoder做target attention，类似t5结构。 后面这里重点说明量化编码部分， 因为本篇内容主要讲不同量化方案的比较。 \u003c/p\u003e\u003cp data-pid=\"n4aaLb4l\"\u003e先看下整个处理流程： \u003c/p\u003e\u003cp data-pid=\"H0gf0L8d\"\u003e1）资源文本信息，先验信息过embedding, encoder 得到向量。 \u003c/p\u003e\u003cp data-pid=\"uq3hzyTz\"\u003e2）向量在码表里找相似中心 \u003c/p\u003e\u003cp data-pid=\"HrRZvFfC\"\u003e3）向量和中心算残差， 得到残差向量 \u003c/p\u003e\u003cp data-pid=\"QL96dLwX\"\u003e4）重复上述操作。 \u003c/p\u003e\u003cp data-pid=\"ADr1xVgk\"\u003e5）把码表中心向量相加得到隐式向量 \u003c/p\u003e\u003cp data-pid=\"BavARQ6V\"\u003e6) 过decoder 解码得到原始向量。 \u003c/p\u003e\u003cp data-pid=\"rcnfdzpu\"\u003e整个的foward部分就这样。 现在看下loss部分： \u003c/p\u003e\u003cp data-pid=\"GNkYi5-j\"\u003e主要有两部分： \u003c/p\u003e\u003cp data-pid=\"G9gFLJ6j\"\u003e1）重建的MSE loss \u003c/p\u003e\u003cp data-pid=\"NLUWhwUZ\"\u003e2）rqvae loss, 这里分为两部分： 冻结残差学习码表 ， 冻结码表学习残差。 码表的学习可以单独通过EMA（ kmeans)来学习， 这样就可以不加第一项了， 但第二项还是需要的， 是为了学习z向码表靠近。 \u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-491656ca2dd54862fc346f28c795d150_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2128\" data-rawheight=\"382\" data-original-token=\"v2-0142755b33f535be3403e7af95880a90\" class=\"origin_image zh-lightbox-thumb\" width=\"2128\" data-original=\"https://pic1.zhimg.com/v2-491656ca2dd54862fc346f28c795d150_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"1pciGN4O\"\u003e注意下初始化， 为了防止塌陷， 模型跑一轮后，可以用kmeans进行初始化，然后再继续跑。 这应该就是经验之谈。 \u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-25f0c088e9d85f8a6897d6fb4813e861_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2052\" data-rawheight=\"264\" data-original-token=\"v2-25f0c088e9d85f8a6897d6fb4813e861\" class=\"origin_image zh-lightbox-thumb\" width=\"2052\" data-original=\"https://picx.zhimg.com/v2-25f0c088e9d85f8a6897d6fb4813e861_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pica.zhimg.com/v2-668c73d0871e0e47a6dbf7ba0234dd52_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2172\" data-rawheight=\"826\" data-original-token=\"v2-0c586820d5d31cc6849b4d8e2d64e728\" class=\"origin_image zh-lightbox-thumb\" width=\"2172\" data-original=\"https://pica.zhimg.com/v2-668c73d0871e0e47a6dbf7ba0234dd52_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003ch2\u003eTrinity: Syncretizing Multi-/Long-tail/Long-term Interests All in One \u003c/h2\u003e\u003cp data-pid=\"x0m3DQRI\"\u003e\u003ca href=\"https://link.zhihu.com/?target=https%3A//arxiv.org/pdf/2402.02842\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003e\u003cspan class=\"invisible\"\u003ehttps://\u003c/span\u003e\u003cspan class=\"visible\"\u003earxiv.org/pdf/2402.0284\u003c/span\u003e\u003cspan class=\"invisible\"\u003e2\u003c/span\u003e\u003cspan class=\"ellipsis\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003cp data-pid=\"XA8wN7mt\"\u003e另外一篇是字节的， 长期兴趣、多兴趣的论文， 这里面也有量化编码的部分， 我们看看这里是怎么做的。 \u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic3.zhimg.com/v2-cfb4a97431209e943b45223b731f7c28_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"738\" data-rawheight=\"724\" data-original-token=\"v2-54cc970b094a3a17d2aff382ee8693b3\" class=\"origin_image zh-lightbox-thumb\" width=\"738\" data-original=\"https://pic3.zhimg.com/v2-cfb4a97431209e943b45223b731f7c28_r.jpg\"/\u003e\u003c/figure\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic2.zhimg.com/v2-9adb0f4b602829530bcca4428db3dcab_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1142\" data-rawheight=\"734\" data-original-token=\"v2-fb4b1cc9f2991fc2dd944d027514b1e7\" class=\"origin_image zh-lightbox-thumb\" width=\"1142\" data-original=\"https://pic2.zhimg.com/v2-9adb0f4b602829530bcca4428db3dcab_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"Vi5wvYTq\"\u003e对这篇文章， 主要关注的就是cluster怎么学的， 简单的说就是EMA， kmeans, 不是通过梯度更新来的。 具体细节，继续往下看下面的文章， VQVAE.\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003ch2\u003eVQVAE \u003c/h2\u003e\u003cp data-pid=\"N_EfbtCF\"\u003e\u003ca href=\"https://link.zhihu.com/?target=https%3A//arxiv.org/pdf/1711.00937\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003e\u003cspan class=\"invisible\"\u003ehttps://\u003c/span\u003e\u003cspan class=\"visible\"\u003earxiv.org/pdf/1711.0093\u003c/span\u003e\u003cspan class=\"invisible\"\u003e7\u003c/span\u003e\u003cspan class=\"ellipsis\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003cp data-pid=\"3QplAPLL\"\u003eNeural Discrete Representation Learning \u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"CCclV6_l\"\u003e直接说forward： \u003c/p\u003e\u003cp data-pid=\"j1vNnZRo\"\u003ex 过encoder, 得到z, z 和code-book做做最近邻，选择最近的e ,  e 过decoder 得到还原的X \u003c/p\u003e\u003cp data-pid=\"Ee107-OP\"\u003e但是要注意的是这里的不可导问题， 可以直接把zq的梯度复制给ze作为近似， 并且这里说了这种最简单的方式已经表现很好，没必要再用更复杂的方式了。 \u003c/p\u003e\u003cp data-pid=\"uQEDJMmR\"\u003epytorch 最简单的实现， 正向走就是z_q, 反向走就是z_e \u003c/p\u003e\u003cp data-pid=\"Qb2HV84f\"\u003e        z_q_st = z_e + (z_q - z_e).detach() \u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic4.zhimg.com/v2-21e1e7c350839b379fc46cfe3fc18333_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1910\" data-rawheight=\"564\" data-original-token=\"v2-ac3bc08a8489b661f26330660d439492\" class=\"origin_image zh-lightbox-thumb\" width=\"1910\" data-original=\"https://pic4.zhimg.com/v2-21e1e7c350839b379fc46cfe3fc18333_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"g41Al_Fl\"\u003e最终的损失，因为复制了梯度， 所以码表的学习被绕过去了，那怎么学习码表呢，需要增加两个单独的loss . \u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic2.zhimg.com/v2-067d963bdbbdd537bad851e6586b0f29_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1688\" data-rawheight=\"112\" data-original-token=\"v2-067d963bdbbdd537bad851e6586b0f29\" class=\"origin_image zh-lightbox-thumb\" width=\"1688\" data-original=\"https://pic2.zhimg.com/v2-067d963bdbbdd537bad851e6586b0f29_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"uM-RvNvv\"\u003e第三项损失是因为码表学习的慢， 希望向量能靠近码表，一个承诺损失。 \u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-a1dd29fbdcd88a5c815964dd8900ee3e_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2272\" data-rawheight=\"866\" data-original-token=\"v2-6f4781b9a10923e3aa9a5c402d3ae9c5\" class=\"origin_image zh-lightbox-thumb\" width=\"2272\" data-original=\"https://pic1.zhimg.com/v2-a1dd29fbdcd88a5c815964dd8900ee3e_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"jKxo6xHN\"\u003e注意看这篇文章的附录部分， 可以用kmeans来代替code-book的学习， 但因为没发在batch里应用kmeans, 这里就引入了EMA， 就是衰减的z 除以衰减的个数。公式仔细看下就了解，是个很直观的变化。 \u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic2.zhimg.com/v2-953dec15f5517dbb997d1ddcc2993751_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2006\" data-rawheight=\"1422\" data-original-token=\"v2-8cd92dc399a435d711747b47ef085c3e\" class=\"origin_image zh-lightbox-thumb\" width=\"2006\" data-original=\"https://pic2.zhimg.com/v2-953dec15f5517dbb997d1ddcc2993751_r.jpg\"/\u003e\u003c/figure\u003e\u003cp\u003e\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\u003cp\u003e\u003c/p\u003e","is_labeled":false,"visited_count":2224,"thumbnails":["https://pic1.zhimg.com/50/v2-c85d13914059ab9c345e17949262a691_720w.jpg?source=b6762063","https://pic1.zhimg.com/50/v2-f58ad28883e1ff21cc5f50167ae8e016_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-bd8d7f7cd2ad87ff9d38c0fa0d7e193b_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-51ee9fec7b1051871ee371c6b50294ff_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-f14dc1e4dbd7ba785fb55bfbd2d9e31a_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-be62b883dba9375b9f23970a87cc7d9c_720w.jpg?source=b6762063"],"favorite_count":155,"article_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"article\", \"id\": 49382254276}","attached_info":"CoUJCIz9i+7QhduxiQEQBxoJMjU4ODkxNTg4ILzLoMIGKEUwAkCPAUowCgZJdGVtQ0YSIGRvY190eXBlOiBBcnRpY2xlCmlkOiAyNTMwMDk1ODEKGAAgADoAYiBhYTdkMjI0ZTA2ZDRiMzFiNzRmNjRkMDgwZDliN2Y1NnILNDkzODIyNTQyNzaqAQlyZWNvbW1lbmTCASAxNzI3Y2NhNDFiMDEwMTE4MGNlYzdjYWNmMzA4YzhjZfIBCggMEgZOb3JtYWzyASgIChIkNzJlMjc1NjktZDQ2My00NmE4LTk4MTQtY2IyNWJlYmRmNTI58gEGCAsSAjI0ggIAiAKn0szOhTOSAiAxNzI3Y2NhNDFiMDEwMTE4MGNlYzdjYWNmMzA4YzhjZZoCAMoCFlNob3JJbnRlcmVzdFdlaWdodFJ1bGXKAhVVc2VyTGNuRXhpdFdlaWdodFJ1bGXKAhRDb250ZW50QWdlV2VpZ2h0UnVsZcoCHEJheWVzRmlyc3RMZXZlbElzb2xhdGlvblJ1bGXaAgZJdGVtQ0boAgP6AgtOT1JNQUxfRkxPV4oDIGMyOTc5ZDY5NWQxZDRkOTc4M2Q2YWQyMmE5Yzk4YTBimgMNCgJ2MhAAGgVvdGhlcqgDsBHYAwDqAxV0ZXh0QWxsU2l0ZU12SXRlbUNGVjL6A/QDEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERTotCAIQmhEY5AkiI3YyLTFjMDQ3MmU5ZDJmODQzNDM1MGUzM2ZmMGEwZjNiYzYzOi0IAhDQEBj+AiIjdjItMDE0Mjc1NWIzM2Y1MzViZTM0MDNlN2FmOTU4ODBhOTA6LQgCEIQQGIgCIiN2Mi0yNWYwYzA4OGU5ZDg1ZjhhNjg5N2Q2ZmI0ODEzZTg2MTotCAIQ/BAYugYiI3YyLTBjNTg2ODIwZDVkMzFjYzY4NDliNGQ4ZTJkNjRlNzI4Oi0IBBDiBRjUBSIjdjItNTRjYzk3MGIwOTRhM2ExN2QyYWZmMzgyZWU4NjkzYjM6LQgCEPYIGN4FIiN2Mi1mYjRiMWNjOWYyOTkxZmMyZGQ5NDRkMDI3NTE0YjFlNzotCAIQ9g4YtAQiI3YyLWFjM2JjMDhhODQ4OWI2NjFmMjYzMzA2NjBkNDM5NDkyOiwIAhCYDRhwIiN2Mi0wNjdkOTYzYmRiYmRkNTM3YmFkODUxZTY1ODZiMGYyOTotCAIQ4BEY4gYiI3YyLTZmNDc4MWI5YTEwOTIzZTNhYTlhNWM0MDJkM2FlOWM1Oi0IAhDWDxiOCyIjdjItOGNkOTJkYzM5OWE0MzVkNzExNzQ3YjQ3ZWYwODVjM2WABACIBACSBAZOb3JtYWyaBAEzoAQAqAQAsAQAugQCYWnCBAM0MDDIBADSBA/mjqjojZDlt7Lmm7TmlrDYBADwBAD5BAAAAMD4fIQ/gQUAAAAAAAAAAIkFiQBWcDR00z+SBQCaBQNkZnSiBQNkZnSyBQExuQUAAAAAAAAAANAFAOAFAOgFAPAFGJAGAKAGjwGoBgCSAiYKCTI1ODg5MTU4OBILNDkzODIyNTQyNzYYByIKSU1BR0VfVEVYVA==","action_card":false}],"paging":{"is_end":false,"is_start":false,"next":"https://www.zhihu.com/api/v3/feed/topstory/recommend?action=down\u0026ad_interval=-10\u0026after_id=143\u0026desktop=true\u0026end_offset=143\u0026page_number=25\u0026session_token=aa7d224e06d4b31b74f64d080d9b7f56","previous":"https://www.zhihu.com/api/v3/feed/topstory/recommend?action=pull\u0026ad_interval=-10\u0026before_id=143\u0026desktop=true\u0026end_offset=143\u0026page_number=25\u0026session_token=aa7d224e06d4b31b74f64d080d9b7f56","totals":0},"fresh_text":"推荐已更新"}
