{"data":[{"id":"156_1753853688.532","type":"feed","offset":156,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1753853688,"updated_time":1753853688,"target":{"id":"1931455291939087572","type":"answer","url":"https://api.zhihu.com/answers/1931455291939087572","author":{"id":"2ecb88e97fbc92d10aa48e2eba2d3222","url":"https://api.zhihu.com/people/2ecb88e97fbc92d10aa48e2eba2d3222","user_type":"people","url_token":"fan-zhi-yuan-44-56","name":"实事求是","headline":"职场、教育和个人情感疏导分析。","avatar_url":"https://picx.zhimg.com/50/v2-77b3d767f5fb0afc31e54d2d38b002c7_l.jpg?source=b6762063","is_org":false,"gender":1,"badge":[{"type":"identity_people","description":"教师资格证持证人"}],"followers_count":18225,"is_following":false,"is_followed":false},"created_time":1753274826,"updated_time":1753492907,"voteup_count":469,"thanks_count":19,"comment_count":52,"is_copyable":false,"question":{"id":"667900015","type":"question","url":"https://api.zhihu.com/questions/667900015","author":{"id":"84a5472c0b4062e1c9253411818518d7","url":"https://api.zhihu.com/people/84a5472c0b4062e1c9253411818518d7","user_type":"people","url_token":"fair-21-15","name":"fair","headline":"软件开发","avatar_url":"https://picx.zhimg.com/50/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=b6762063","is_org":false,"gender":-1,"followers_count":0,"is_following":false,"is_followed":false},"title":"已经是亿万身家的冯唐为何直播，这种大佬级别的玩家，不应该深居幕后操控一切吗？","created":1727023798,"answer_count":0,"follower_count":0,"comment_count":4,"bound_topic_ids":[9278],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"excerpt":"我瞎扯淡的，不说具体人，只说一类人。 总觉着在这个指名道姓的问题下面这样回答，有点不合适。过几天这个回答就考虑删除了，把内容变成了下面这篇文章，谢谢朋友们。 聪明、智慧与德行 聪明是真的，学霸是真的，挣到过钱是真的，经历丰富是真的，可是欲望也是真的，这本来没什么，硬装智慧，就逃不过大家眼睛了。 财富是流动的，拿的住大钱，需要德行，靠聪明不行。 1、聪明是利刃，德行是刀鞘。 光有刃没有鞘，不光容易伤着别人…","excerpt_new":"我瞎扯淡的，不说具体人，只说一类人。 总觉着在这个指名道姓的问题下面这样回答，有点不合适。过几天这个回答就考虑删除了，把内容变成了下面这篇文章，谢谢朋友们。 聪明、智慧与德行 聪明是真的，学霸是真的，挣到过钱是真的，经历丰富是真的，可是欲望也是真的，这本来没什么，硬装智慧，就逃不过大家眼睛了。 财富是流动的，拿的住大钱，需要德行，靠聪明不行。 1、聪明是利刃，德行是刀鞘。 光有刃没有鞘，不光容易伤着别人…","preview_type":"default","preview_text":"","reshipment_settings":"disallowed","content":"\u003cp data-pid=\"gPiQ0ZSB\"\u003e我瞎扯淡的，不说具体人，只说一类人。\u003c/p\u003e\u003cp data-pid=\"ZGxIcnm_\"\u003e总觉着在这个指名道姓的问题下面这样回答，有点不合适。过几天这个回答就考虑删除了，把内容变成了下面这篇文章，谢谢朋友们。\u003c/p\u003e\u003cp data-pid=\"EqjhGe3F\"\u003e\u003ca href=\"https://zhuanlan.zhihu.com/p/1931869002679969094?share_code=WqlycbWfIlQT\u0026amp;utm_psn=1932366831978550055\" class=\"internal\" target=\"_blank\"\u003e聪明、智慧与德行\u003c/a\u003e\u003c/p\u003e\u003cp data-pid=\"t-EPJomE\"\u003e聪明是真的，学霸是真的，挣到过钱是真的，经历丰富是真的，可是欲望也是真的，这本来没什么，硬装智慧，就逃不过大家眼睛了。\u003c/p\u003e\u003cp data-pid=\"VXrn2u-x\"\u003e财富是流动的，拿的住大钱，需要德行，靠聪明不行。\u003c/p\u003e\u003cp data-pid=\"vnJ_Pr7I\"\u003e1、聪明是利刃，德行是刀鞘。\u003c/p\u003e\u003cp data-pid=\"_s6dVn4N\"\u003e光有刃没有鞘，不光容易伤着别人，早晚也得割着自己。这类人要是能少装几分，多认几分真实的欲望，把聪明用在修德行上，或许路能走得更稳些。财富这东西，像条活鱼，攥得越紧越容易滑走，捧着它、护着它，才有可能留得久。但是，一旦运衰，不认头就会越折腾越糟糕。聪明人的缺点就突出了，太相信自己的能力了。\u003c/p\u003e\u003cp data-pid=\"uAJ-24Ie\"\u003e2、他们太信能力这回事了，信到忘了时运也是盘里的菜。\u003c/p\u003e\u003cp data-pid=\"kUOkTw5J\"\u003e顺境时，能力和时运是互相帮衬的，你往前冲，运气推着你；可运衰时，就像逆水行船，你越使劲划，船越容易偏，甚至翻在浪里。这时候最需要的不是我能行的狠劲，而是先停下来看看的静气。可聪明人哪耐得住这个？他们的字典里，停就等于输。\u003c/p\u003e\u003cp data-pid=\"BRgj2xUu\"\u003e3、我见过不少早年风光的人，生意垮了、投资赔了，第一反应不是这波行情不对，先收收，而是我得再投一笔，把本捞回来。\u003c/p\u003e\u003cp data-pid=\"3_u6YGGf\"\u003e凭着过去的成功经验硬闯，结果越陷越深。其实，运衰时的认头，不是怂，是懂分寸。知道哪些是自己能改的，哪些是改不了的；哪些该扛，哪些该放。这分寸里藏的，就是我说的德行，不光是待人的厚道，还有对自己的坦诚，对时运的敬畏。\u003c/p\u003e\u003cp data-pid=\"vHOWAOwV\"\u003e4、花无百日红。\u003c/p\u003e\u003cp data-pid=\"Pz1fcA7L\"\u003e聪明人顺境时，把红当成自己的能耐；可不红的时候，得明白这不是自己不够好，只是时节到了。能在红时不飘，在谢时不躁，才算真的把聪明和德行捏合到一块儿了。\u003c/p\u003e\u003cp data-pid=\"6vV-E3ED\"\u003e那些硬撑的，说到底还是没看透，人生哪能一直靠赢活着？能在输的时候稳住脚，留着一口气等下一波风来，比硬拼到油尽灯枯，实在多了。这世上，能赢是本事，会输是智慧。可惜太多聪明人，只练了前者。\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":45795,"favorite_count":466,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1931455291939087572}","attached_info":"CvQGCOPSpL6lxr3qkwEQBBoJNzM4NTAzMjk2IMqzg8QGKNUDMDRAnAFKQgotVFNfU09VUkNFX1RXT1RPV0VSX01VTFRJX1NDRU5FX1YxX1JFQ0FMTF9URVhUEgEwGAAgADoKeyJyYXciOiIifUpCCi1UU19TT1VSQ0VfVFdPVE9XRVJfTVVMVElfU0NFTkVfVjFfUkVDQUxMX1RFWFQSATAYACAAOgp7InJhdyI6IiJ9WgkxMTA3MDAxMzJiIGFhN2QyMjRlMDZkNGIzMWI3NGY2NGQwODBkOWI3ZjU2chMxOTMxNDU1MjkxOTM5MDg3NTcyigEJNjY3OTAwMDE1qgEJcmVjb21tZW5kwgEgMmVjYjg4ZTk3ZmJjOTJkMTBhYTQ4ZTJlYmEyZDMyMjLyAQoIDBIGTm9ybWFs8gEoCAoSJGZlNGMwNTAxLTAyZGMtNGJhZi04NDUyLTllYWYzNmYzN2ZjNvIBBggLEgIyN4ICAIgCyfHNzoUzkgIgMmVjYjg4ZTk3ZmJjOTJkMTBhYTQ4ZTJlYmEyZDMyMjKaAgDKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygIWQWN0aW9uU2hvckludGVyZXN0UnVsZcoCG0ludGVyYWN0aW9uU2hvckludGVyZXN0UnVsZcoCFVVzZXJMY25FeGl0V2VpZ2h0UnVsZcoCFVF1ZXN0aW9uSXNvbGF0aW9uUnVsZdoCLVRTX1NPVVJDRV9UV09UT1dFUl9NVUxUSV9TQ0VORV9WMV9SRUNBTExfVEVYVOgCAvoCC05PUk1BTF9GTE9XigMgZjM4ZTU4OGU4OGNjNDBmMzhhYmM4NWU1YWY0YzQyZWOaAw0KAnYyEAAaBW90aGVyqAPj5QLYAwDqAx90ZXh0RmVlZFR3b1Rvd2VyV2FybXVwU3VjY2Vzc1Yx+gMfEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERYAEAIgEAJIEBk5vcm1hbJoEATKgBACoBACwBAC6BAZtYW51YWzCBAMxNzDIBADSBA/mjqjojZDlt7Lmm7TmlrDYBADwBAD5BAAAAMBjv7s/gQUAAAAAAAAAAIkFv6+HVTp00z+SBQCaBQNkZnSiBQNkZnSyBQExuQUAAAAAAAAAANAFAOAFAOgFAPAFG5AGAKAGngGoBgGSAi4KCTczODUwMzI5NhITMTkzMTQ1NTI5MTkzOTA4NzU3MhgEIgpJTUFHRV9URVhU","action_card":false},{"id":"157_1753853688.681","type":"feed","offset":157,"verb":"TOPIC_ACKNOWLEDGED_ARTICLE","created_time":1753853688,"updated_time":1753853688,"target":{"id":"1924420373912462774","type":"article","url":"https://api.zhihu.com/articles/1924420373912462774","author":{"id":"4c9692e51fdf986477f334bef2ff9bcf","url":"https://api.zhihu.com/people/4c9692e51fdf986477f334bef2ff9bcf","user_type":"people","url_token":"mkuruike","name":"实战思维导图","headline":"点亮自己，照亮他人！","avatar_url":"https://pic1.zhimg.com/50/v2-2d9af15bf20d5e3ed0ba558066110d53_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":60,"is_following":false,"is_followed":false},"title":"读 100 本不如吃透 1 本！曾国藩私藏的 4 个读书方法，难怪古人能成大师","comment_permission":"all","created":1751625149,"updated":1751625149,"voteup_count":27,"voting":0,"comment_count":1,"linkbox":{"category":"","pic":"","title":"","url":""},"excerpt":"很多人读书像撒芝麻，贪多求快却浅尝辄止。曾国藩早就点破真相：\u0026#34;挖 200 口浅井，不如深挖 2 口百米深井。\u0026#34; 这 4 种被古人验证过的读书法，能让你的学习效率暴涨 10 倍 ——   一、精读 1 本＞泛读 100 本的核心法则：挖井读书法狠招精髓：锁定 1 本书死磕到底，拒绝「书架收藏癖」 反常识案例：有人每年列 50 本读书计划，最后本本只翻前 30 页；而钱钟书读《管锥编》时，同一本书批注修改 12 次，终成学术泰斗 实操步骤： ① 每…","excerpt_new":"很多人读书像撒芝麻，贪多求快却浅尝辄止。曾国藩早就点破真相：\u0026#34;挖 200 口浅井，不如深挖 2 口百米深井。\u0026#34; 这 4 种被古人验证过的读书法，能让你的学习效率暴涨 10 倍 ——   一、精读 1 本＞泛读 100 本的核心法则：挖井读书法狠招精髓：锁定 1 本书死磕到底，拒绝「书架收藏癖」 反常识案例：有人每年列 50 本读书计划，最后本本只翻前 30 页；而钱钟书读《管锥编》时，同一本书批注修改 12 次，终成学术泰斗 实操步骤： ① 每…","preview_type":"default","preview_text":"","content":"\u003cp data-pid=\"An6hkJfc\"\u003e很多人读书像撒芝麻，贪多求快却浅尝辄止。曾国藩早就点破真相：\u0026#34;挖 200 口浅井，不如深挖 2 口百米深井。\u0026#34; \u003c/p\u003e\u003cp data-pid=\"apdZCsRX\"\u003e这 4 种被古人验证过的读书法，能让你的学习效率暴涨 10 倍 ——\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic2.zhimg.com/v2-911228ff2e7b35f241ffc6aeca334b07_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1024\" data-rawheight=\"974\" data-original-token=\"v2-d55869d651a0a4483d4466a1951ae6d0\" class=\"origin_image zh-lightbox-thumb\" width=\"1024\" data-original=\"https://pic2.zhimg.com/v2-911228ff2e7b35f241ffc6aeca334b07_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"QNNN3Ncd\"\u003e\u003cb\u003e一、精读 1 本＞泛读 100 本的核心法则：挖井读书法\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"yeVxO8-Y\"\u003e狠招精髓：锁定 1 本书死磕到底，拒绝「书架收藏癖」\u003c/p\u003e\u003cp data-pid=\"qrFWI2pe\"\u003e反常识案例：有人每年列 50 本读书计划，最后本本只翻前 30 页；而钱钟书读《管锥编》时，同一本书批注修改 12 次，终成学术泰斗\u003c/p\u003e\u003cp data-pid=\"hqv8uT9k\"\u003e实操步骤：\u003c/p\u003e\u003cp data-pid=\"5rDDGPj3\"\u003e① 每年挑 2-3 本「人生奠基书」（如行业经典 / 思维框架书）\u003c/p\u003e\u003cp data-pid=\"MuME_id7\"\u003e② 用「康奈尔笔记法」，每读 1 章必写 3 个应用场景\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"hzYVTtw7\"\u003e\u003cb\u003e二、从入门到精通的黄金公式：炖肉读书法\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"qiazsUZH\"\u003e分两步吃透全书：先猛火快攻搭框架，再文火慢炖嚼细节\u003c/p\u003e\u003cp data-pid=\"vW7gqlhH\"\u003e真实案例：读《孙子兵法》时，先 3 天速览 13 篇标记核心概念；随后两个月，每天用「战场案例 + 职场场景」双维度拆解，比如用「知己知彼」做竞品分析\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"PcA_mkwT\"\u003e\u003cb\u003e三、啃陌生书的杀手锏：登山读书法\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"B3-ylG7Q\"\u003e专治「买书如山倒，读书如抽丝」\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"WfC2QG-f\"\u003e三大铁律：\u003c/p\u003e\u003cp data-pid=\"SVfJB8jY\"\u003e1、新书入手 48 小时内必须开读\u003c/p\u003e\u003cp data-pid=\"L7yDvg7d\"\u003e2、设「登山时刻表」：如 5 天读完心理学书，每天强制啃 1 章\u003c/p\u003e\u003cp data-pid=\"HYNI0JX3\"\u003e3、中断补救：超过 1 天没读，需重读前 1 章找回状态\u003c/p\u003e\u003cp data-pid=\"8YktTRqQ\"\u003e亲测效果：用这招读《博弈论》，5 天读完比断断续续 1 个月理解度高 3 倍\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"RTJ6Y-ts\"\u003e\u003cb\u003e四、让经典越读越新的魔法：摘果读书法\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"LYwfw8sL\"\u003e适用于《论语》《道德经》等读过 3 遍以上的书\u003c/p\u003e\u003cp data-pid=\"GbHM7lX7\"\u003e高阶技巧：\u003c/p\u003e\u003cp data-pid=\"iiKP51oi\"\u003e1、「主题式挖掘」：重读《孟子》时，专门整理「大丈夫人格」的 10 条职场应用法则\u003c/p\u003e\u003cp data-pid=\"CzTcUoeZ\"\u003e2、 「跨学科联想」：用《庄子》\u0026#34;庖丁解牛\u0026#34; 理解编程中的模块化思维\u003c/p\u003e\u003cp data-pid=\"-LopJiHm\"\u003e名人示范：南怀瑾读《金刚经》超百遍，每次用不同颜色笔标注，终成经典解读大家\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"_J-ajcIr\"\u003e每日行动清单：\u003c/p\u003e\u003cp data-pid=\"e98gQ6vq\"\u003e用「挖井法」挑 1 本本月精读书，在扉页写清「读这本书要解决什么问题」\u003c/p\u003e\u003cp data-pid=\"3LICWSXG\"\u003e用「炖肉法」拆分计划：3 天通读 + 21 天精读（设手机提醒防拖延）\u003c/p\u003e\u003cp data-pid=\"qmReDc3g\"\u003e终极心法：读书不是堆数量，而是把 1% 的知识转化为 100% 的行动力。就像曾国藩说的「结硬寨，打呆仗」，读书的笨功夫，才是真聪明！\u003c/p\u003e","is_labeled":false,"visited_count":1037,"thumbnails":["https://picx.zhimg.com/50/v2-bcc8beb2076d44d01cc8820d279379f9_720w.jpg?source=b6762063"],"favorite_count":104,"article_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"article\", \"id\": 1924420373912462774}","attached_info":"CvMFCOPSpL6lxr3qkwEQBxoJMjU5OTAxMzQ4IL3bnsMGKBswAUCdAUooCh1UU19TT1VSQ0VfTkVBUkxJTkVfQ09OVEVOVF9WMhIBMBgAIAA6AEowCgZJdGVtQ0YSIGRvY190eXBlOiBBcnRpY2xlCmlkOiAyNTk5ODg3NTIKGAAgADoAYiBhYTdkMjI0ZTA2ZDRiMzFiNzRmNjRkMDgwZDliN2Y1NnITMTkyNDQyMDM3MzkxMjQ2Mjc3NKoBCXJlY29tbWVuZMIBIDRjOTY5MmU1MWZkZjk4NjQ3N2YzMzRiZWYyZmY5YmNm8gEKCAwSBk5vcm1hbPIBKAgKEiRjNjBjZjEzMS1mNTg5LTQxZjAtODVjYy03YTIyNThhMjI4ZjHyAQYICxICMjeCAgCIAsrxzc6FM5ICIDRjOTY5MmU1MWZkZjk4NjQ3N2YzMzRiZWYyZmY5YmNmmgIAygIWU2hvckludGVyZXN0V2VpZ2h0UnVsZcoCFVVzZXJMY25FeGl0V2VpZ2h0UnVsZcoCF1NhbWVBdXRob3JJc29sYXRpb25SdWxl2gIdVFNfU09VUkNFX05FQVJMSU5FX0NPTlRFTlRfVjLoAgP6AgtOT1JNQUxfRkxPV4oDIGYzOGU1ODhlODhjYzQwZjM4YWJjODVlNWFmNGM0MmVjmgMNCgJ2MhAAGgVvdGhlcqgDjQjYAwD6A04SDFVOS05PV05fTU9ERSAAKg1OT19JTUFHRV9NT0RFOi0IBRCACBjOByIjdjItZDU1ODY5ZDY1MWEwYTQ0ODNkNDQ2NmExOTUxYWU2ZDCABACIBACSBAZOb3JtYWyaBAEzoAQAqAQAsAQAugQCYWnCBAM0MDDIBADSBA/mjqjojZDlt7Lmm7TmlrDYBADwBAD5BAAAAGA1ZK8/gQUAAAAAAAAAAIkFv6+HVTp00z+SBQCaBQNkZnSiBQNkZnSyBQExuQUAAAAAAAAAANAFAOAFAOgFAPAFG5AGAKAGnwGoBgOSAi4KCTI1OTkwMTM0OBITMTkyNDQyMDM3MzkxMjQ2Mjc3NBgHIgpJTUFHRV9URVhU","action_card":false},{"id":"158_1753853688.926","type":"feed","offset":158,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1753853688,"updated_time":1753853688,"target":{"id":"35565847625","type":"answer","url":"https://api.zhihu.com/answers/35565847625","author":{"id":"ea08f38fc96fedd4354bd213e5494d00","url":"https://api.zhihu.com/people/ea08f38fc96fedd4354bd213e5494d00","user_type":"people","url_token":"cai-xiong-jiang","name":"JarsonCai","headline":"NLP算法工程师","avatar_url":"https://pic1.zhimg.com/50/v2-47e83f384ffa9706577261b323dd66cb_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":193,"is_following":false,"is_followed":false},"created_time":1732014441,"updated_time":1732014441,"voteup_count":837,"thanks_count":57,"comment_count":28,"is_copyable":true,"question":{"id":"638730143","type":"question","url":"https://api.zhihu.com/questions/638730143","author":{"id":"09742a7b1dde13d42fa8b525739edd25","url":"https://api.zhihu.com/people/09742a7b1dde13d42fa8b525739edd25","user_type":"people","url_token":"imsabrinaer","name":"imsabrinaer","headline":"","avatar_url":"https://pic1.zhimg.com/50/v2-25ac7c0d6225fc37e7f4419d75895b22_l.jpg?source=b6762063","is_org":false,"gender":0,"followers_count":3,"is_following":false,"is_followed":false},"title":"如何在不微调的情况下提高 RAG 的准确性？","created":1704782071,"answer_count":0,"follower_count":0,"comment_count":0,"bound_topic_ids":[4172,89794,3067942],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"thumbnail":"https://pic1.zhimg.com/50/v2-68118f1beac68036a896213d1d9817c0_720w.jpg?source=b6762063","excerpt":"做过RAG应用的都知道一句话叫“RAG demo5分钟，上线上一年。” 使用简单的RAG流程必然不可能有很好的检索效果，大模型的回答也一定是一塌糊涂。 放一张国外的博客的图：   绿色的部分下面我们将会深入展开，蓝色部分则是处理好的文本元素。 下面将会记录的所有RAG相关的技术都或多或少与上面这个图相关。我们将会介绍所有与RAG相关的步骤中相关的进阶技术，以及RAG效果测试数据集的建立、评估、测试。 文本分块 分块的目的主要是…","excerpt_new":"做过RAG应用的都知道一句话叫“RAG demo5分钟，上线上一年。” 使用简单的RAG流程必然不可能有很好的检索效果，大模型的回答也一定是一塌糊涂。 放一张国外的博客的图：   绿色的部分下面我们将会深入展开，蓝色部分则是处理好的文本元素。 下面将会记录的所有RAG相关的技术都或多或少与上面这个图相关。我们将会介绍所有与RAG相关的步骤中相关的进阶技术，以及RAG效果测试数据集的建立、评估、测试。 文本分块 分块的目的主要是…","preview_type":"default","preview_text":"","reshipment_settings":"allowed","content":"\u003cp data-pid=\"i18z5Vud\"\u003e做过RAG应用的都知道一句话叫“RAG demo5分钟，上线上一年。”\u003c/p\u003e\u003cp data-pid=\"chsgAhzK\"\u003e使用简单的RAG流程必然不可能有很好的检索效果，大模型的回答也一定是一塌糊涂。\u003c/p\u003e\u003cp data-pid=\"1jk4ijME\"\u003e放一张国外的博客的图： \u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic2.zhimg.com/v2-2462070ae246c3de8669e70fc2ebeaa1_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2000\" data-rawheight=\"1078\" data-original-token=\"v2-7301badbd4472dca1154de821af86ed9\" class=\"origin_image zh-lightbox-thumb\" width=\"2000\" data-original=\"https://pic2.zhimg.com/v2-2462070ae246c3de8669e70fc2ebeaa1_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"GCDZapjY\"\u003e 绿色的部分下面我们将会深入展开，蓝色部分则是处理好的文本元素。\u003c/p\u003e\u003cp data-pid=\"Xmbkjsnj\"\u003e下面将会记录的所有RAG相关的技术都或多或少与上面这个图相关。我们将会介绍所有与RAG相关的步骤中相关的进阶技术，以及RAG效果测试数据集的建立、评估、测试。\u003c/p\u003e\u003ch2\u003e文本分块\u003c/h2\u003e\u003cp data-pid=\"PuhrbPoL\"\u003e\u003cb\u003e分块的目的主要是为了确保在内容向量化时尽可能减少噪声，同时保持语义相关性。\u003c/b\u003e例如，在\u003cb\u003e语义搜索\u003c/b\u003e(semantic search)中为一个包含特定主题信息的文档语料库建立索引。可以通过应用有效的分块策略，确保搜索结果准确捕捉用户查询的真实意图。如果分块太小或太大，可能导致搜索结果不精确或错过表面相关内容。作为经验之谈，如果文本块在没有周围上下文的情况下对人类来说可读可理解，它对语言模型也同样有意义。因此，找到语料库中文档的最佳块大小对于确保搜索结果的准确性和相关性至关重要。\u003c/p\u003e\u003ch3\u003e长短不一的文本切分\u003c/h3\u003e\u003cp data-pid=\"p4yNt1M4\"\u003e\u003cb\u003e短内容向量化\u003c/b\u003e：当一个句子被向量化时，生成的向量专注于该句子的具体含义，在与其他句子向量进行比较时也会更多关注句子层面的上。这也意味着\u003cb\u003e短内容向量化可能会丢失句子在段落或全文中所包含的上下文信息。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"x_7s7pbc\"\u003e\u003cb\u003e长内容向量化\u003c/b\u003e：当整个段落或文档被向量化时，向量化过程考虑了整体上下文以及文本内部句子和短语之间的关系，这样向量化时包含的内容可能更全面，捕捉到的文本含义和主题更准确。但是，\u003cb\u003e较大的文本块大小可能更容易引入噪声，或稀释某些句子或短语的重要性，使得在查询索引时的精确匹配变得更加困难。\u003c/b\u003e\u003c/p\u003e\u003cblockquote data-pid=\"yaG6G2ml\"\u003e 较短的查询，如单个句子或短语，将集中于具体细节，并可能更适合与句子级别的向量匹配。较长的查询，跨越多个句子或段落，可能与段落或文档级别的向量更为协调。\u003c/blockquote\u003e\u003cp data-pid=\"BCqiJ8rV\"\u003e索引可能也是非均质的，包含不同大小的块向量。这可能在查询结果相关性方面带来挑战，但也可能带来一些积好处。一方面，由于\u003cb\u003e长短内容之间语义表示的差异可能会导致查询与结果相关性的波动\u003c/b\u003e。另一方面，\u003cb\u003e非均质索引可能捕捉到更全面的上下文信息，因为不同大小的块代表了文本中不同层次的细节\u003c/b\u003e。这样可能会有利于更灵活地适应不同类型的查询。\u003c/p\u003e\u003ch3\u003e分块（chunking）考虑因素\u003c/h3\u003e\u003cul\u003e\u003cli data-pid=\"1IhfZAGQ\"\u003e\u003cb\u003e内容的性质\u003c/b\u003e：处理的是长文档（如文章或书籍）还是较短的内容（如推文或即时消息）？这将决定哪种模型更适合您的目标，从而影响应用的分块策略。\u003c/li\u003e\u003cli data-pid=\"rbtbOgsu\"\u003e\u003cb\u003e使用的向量模型\u003c/b\u003e：接下来要考虑的是应该使用的向量模型，以及它在哪些块大小上表现最佳。这部分主要是探究模型在多少个数量的令牌（token）上表现更好，以此来辅助决定分块的大小。\u003c/li\u003e\u003cli data-pid=\"aUZG1mXK\"\u003e\u003cb\u003e用户查询的预期长度和复杂度\u003c/b\u003e：RAG是与用户相关的应用问题，一般来说都会预先定义一些查询结果样例，这些\u003cb\u003e样例的形式和长度\u003c/b\u003e在文本分块中起到重要的作用。\u003c/li\u003e\u003cli data-pid=\"ly7CTz3x\"\u003e\u003cb\u003e检索结果在特定应用中的使用方式\u003c/b\u003e：如果检索结果要被放入大模型里使用，则需要检索结果的内容长度作一定的限制，因为大模型支持的令牌（token）数是有限的。（按照经验来说，带多轮对话的RAG一般上下文长度限定在8K个token左右）\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e分块方法\u003c/h3\u003e\u003cp data-pid=\"vBHJAGeX\"\u003e在文本分块方面，有几种不同的方法可供选择，每种方法适用于不同的情况。以下是一些主要的分块方法，以及它们的优势和劣势。\u003c/p\u003e\u003cblockquote data-pid=\"Ki_nK3T5\"\u003e固定大小分块（Fixed-size Chunking）\u003c/blockquote\u003e\u003cp data-pid=\"8Ugqq-op\"\u003e这是最常见且直接的分块方法，简单地决定每个块中的token数量，并可选择性地决定它们之间是否应该有重叠。通常用户会希望在块之间保持一些重叠，以确保上下文语义不会在块之间丢失。\u003cb\u003e在多数情况下，固定大小分块将是最优方法。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"srXfcKga\"\u003eLangchain中执行的例子：\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"n\"\u003etext\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;...\u0026#34;\u003c/span\u003e \u003cspan class=\"c1\"\u003e# your text\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain.text_splitter\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eCharacterTextSplitter\u003c/span\u003e\n\u003cspan class=\"n\"\u003etext_splitter\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCharacterTextSplitter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eseparator\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003echunk_size\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e256\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003echunk_overlap\u003c/span\u003e  \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e20\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003edocs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etext_splitter\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecreate_documents\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cblockquote data-pid=\"PhjvBUPx\"\u003e“内容感知”分块（“Content-aware” Chunking）\u003c/blockquote\u003e\u003cp data-pid=\"rmz99FiQ\"\u003e1、\u003cb\u003e原始分割法\u003c/b\u003e：一种按照简单的标点符号或者换行符来分割文本。这种方法快速且易于实现，但可能不会考虑到所有可能的边界情况，如缩写、省略号或带有句号的引用等。所以虽然朴素分割在某些情况下足够有效，但它可能无法准确地处理\u003cb\u003e相对复杂的文本结构\u003c/b\u003e。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"n\"\u003etext\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;...\u0026#34;\u003c/span\u003e \u003cspan class=\"c1\"\u003e# your text\u003c/span\u003e\n\u003cspan class=\"n\"\u003edocs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;.\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"b5rrWm0q\"\u003e2、 \u003cb\u003e自然语言工具包\u003c/b\u003e（Nature Language Toolkit, NLTK）：NLTK是一个比较流行的Python库，用于处理人类语言数据。其中有一个文本分割器，可以将文本分割成单独的句子，NLTK句子分词器考虑了更多的语言规则和边界情况，更加精确。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"n\"\u003etext\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;...\u0026#34;\u003c/span\u003e \u003cspan class=\"c1\"\u003e# your text\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain.text_splitter\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eNLTKTextSplitter\u003c/span\u003e\n\u003cspan class=\"n\"\u003etext_splitter\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eNLTKTextSplitter\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"n\"\u003edocs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etext_splitter\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esplit_text\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"09WwSuqU\"\u003e3、\u003cb\u003espaCy\u003c/b\u003e是另一个强大的Python库，用于各种NLP任务。它提供了一个高级的句子分割功能，\u003cb\u003e能够有效地将文本划分为单独的句子，从而在生成的块中更好地保留上下文\u003c/b\u003e。spaCy的句子分割功能使用复杂的算法和模型来理解文本结构，因此它能够更准确地处理各种文本格式和风格。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"n\"\u003etext\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;...\u0026#34;\u003c/span\u003e \u003cspan class=\"c1\"\u003e# your text\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain.text_splitter\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eSpacyTextSplitter\u003c/span\u003e\n\u003cspan class=\"n\"\u003etext_splitter\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSpaCyTextSplitter\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"n\"\u003edocs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etext_splitter\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esplit_text\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cblockquote data-pid=\"hv8yycVe\"\u003e递归分块\u003c/blockquote\u003e\u003cp data-pid=\"DWWTARPv\"\u003e递归分块使用一组分隔符以分层和迭代的方式将输入文本分割成更小的块。\u003cb\u003e如果最初的分割尝试没有产生所需大小或结构的块，该方法会递归地在结果块上使用不同的分隔符或标准进行调用\u003c/b\u003e，直到达到所需的块大小或结构。这意味着虽然块的大小不会完全相同，但它们仍然会“努力”达到类似的大小。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"n\"\u003etext\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;...\u0026#34;\u003c/span\u003e \u003cspan class=\"c1\"\u003e# your text\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain.text_splitter\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eRecursiveCharacterTextSplitter\u003c/span\u003e\n\u003cspan class=\"n\"\u003etext_splitter\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eRecursiveCharacterTextSplitter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e# Set a really small chunk size, just to show.\u003c/span\u003e\n    \u003cspan class=\"n\"\u003echunk_size\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e256\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003echunk_overlap\u003c/span\u003e  \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e20\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003edocs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etext_splitter\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecreate_documents\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cblockquote data-pid=\"9pQup2A0\"\u003e专用分块\u003c/blockquote\u003e\u003cp data-pid=\"95KbUrI1\"\u003e这部分的内容主要是针对文本的类型来决定的，比如特殊的文本类型，\u003ccode\u003emarkdown\u003c/code\u003e和\u003ccode\u003elatex\u003c/code\u003e等。 这两种文本类型都具有高度的结构化属性，它们可以通过语法来生成高质量的结构化文本。前者往往用于工程代码的说明书和文档，后者则一般用于论文的编写。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain.text_splitter\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eMarkdownTextSplitter\u003c/span\u003e\n\u003cspan class=\"n\"\u003emarkdown_text\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;...\u0026#34;\u003c/span\u003e\n\u003cspan class=\"n\"\u003emarkdown_splitter\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMarkdownTextSplitter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003echunk_size\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003echunk_overlap\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003edocs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emarkdown_splitter\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecreate_documents\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"n\"\u003emarkdown_text\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain.text_splitter\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eLatexTextSplitter\u003c/span\u003e\n\u003cspan class=\"n\"\u003elatex_text\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;...\u0026#34;\u003c/span\u003e\n\u003cspan class=\"n\"\u003elatex_splitter\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eLatexTextSplitter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003echunk_size\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003echunk_overlap\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003edocs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elatex_splitter\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecreate_documents\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"n\"\u003elatex_text\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cblockquote data-pid=\"Ayu0r8Z6\"\u003e语义分块\u003c/blockquote\u003e\u003cp data-pid=\"txChX8Ls\"\u003eGreg Kamradt首次引入了一种新的接近块状的实验技术。在他的笔记本中，Kamradt正确地指出，一个事实是，即全局块大小可能太微不足道，无法考虑文档中段的含义。如果我们使用这种类型的机制，我们无法知道我们是否在组合彼此有任何关系的片段。\u003c/p\u003e\u003cp data-pid=\"xqWU8Y4Q\"\u003e幸运的是，如果您正在使用LLM构建应用程序，您很可能已经有能力创建嵌入——嵌入可用于提取数据中存在的语义。这种语义分析可用于创建由谈论相同主题或话题的句子组成的块。\u003c/p\u003e\u003cp data-pid=\"KYuiyBfY\"\u003e以下是使语义分块的步骤： 1、将文档分解成句子。\u003c/p\u003e\u003cp data-pid=\"znWnUBSd\"\u003e2、创建句子组：对于每个句子，创建一个包含给定句子前后一些句子的组。该组本质上被用于创建它的句子“安置”。您可以决定每个组之前或之后的具体数字，但组中的所有句子都将与一个“anchor”句子相关联。\u003c/p\u003e\u003cp data-pid=\"AK13fRj2\"\u003e3、为每个句子组生成嵌入，并将其与他们的“anchor”句子相关联。\u003c/p\u003e\u003cp data-pid=\"6vfpnIGP\"\u003e4、按顺序比较每个组之间的距离：当您按顺序查看文档中的句子时，只要主题或主题相同-为给定句子嵌入的句子组和它前面的句子组之间的距离将很低。另一方面，更高的语义距离表明主题或话题已经改变。这可以有效地从下一个块中划定一个块。\u003c/p\u003e\u003cp data-pid=\"eg-DtmbV\"\u003eLangchain中已经将这种方法集成进去了，但它是一个实验性的方法：\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_experimental.text_splitter\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eSemanticChunker\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_openai.embeddings\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eOpenAIEmbeddings\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003ewith\u003c/span\u003e \u003cspan class=\"nb\"\u003eopen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;../../state_of_the_union.txt\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"n\"\u003estate_of_the_union\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eread\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003etext_splitter\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSemanticChunker\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eOpenAIEmbeddings\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e\n\u003cspan class=\"n\"\u003edocs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etext_splitter\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecreate_documents\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"n\"\u003estate_of_the_union\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edocs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epage_content\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003e确定适用于应用的最佳块大小\u003c/h3\u003e\u003cp data-pid=\"uciQwq3f\"\u003e说了这么多，我们还没有研究如何确定最佳的分块大小（比如是固定大小分块），只是一些通用的建议。\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"4KTXof4X\"\u003e数据预处理：首先拿到语料需要对数据进行一定的数据预处理确保数据的质量，然后才能确定块的大小。（去掉一些不合理的标签，文档数据的不合理读取）。\u003c/li\u003e\u003cli data-pid=\"YodInb6_\"\u003e\u003cb\u003e选择一系列块大小\u003c/b\u003e：一旦数据预处理完成，下一步是选择一系列潜在的块大小进行测试。如文章前面提到的，选择时应考虑\u003cb\u003e内容的性质（例如，短消息或长文档）\u003c/b\u003e、将要使用的\u003cb\u003e向量模型及其能力（例如，token数量限制）\u003c/b\u003e。目标是在保留上下文语境和维持准确性之间找到平衡点。开始时可以探索各种块大小，包括较小的块（例如，128或256个token）以捕获更细粒度的语义信息，然后再探索较大的块（例如，512或1024个token）以保留更多上下文语境。\u003c/li\u003e\u003cli data-pid=\"IcNW-jVg\"\u003e\u003cb\u003e评估每种块大小的性能\u003c/b\u003e：可以使用多个索引或一个带有多个命名空间的单一索引测试不同的块大小的性能。使用代表性数据集为想要测试的块大小创建向量，并将它们保存在一个或多个索引中。然后运行一系列查询以评估质量，并比较各种块大小的性能。这很可能是一个迭代过程，需要测试不同的块大小针对不同的查询，直到能够确定最适合内容和预期查询的块大小。\u003c/li\u003e\u003c/ul\u003e\u003ch2\u003e向量化\u003c/h2\u003e\u003cp data-pid=\"lOhBX6RD\"\u003e在简单的RAG流程中，不管是知识库的建立还是问题的查询，首先都要经过向量化。向量化的模型排行榜可以在\u003ca href=\"https://link.zhihu.com/?target=https%3A//huggingface.co/spaces/mteb/leaderboard\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003eleaderboard\u003c/a\u003e中找到，向量化模型的选择需要根据业务类型和文本分块的长度来联合确定，并不是使用排行越高的的模型效果就一定更好。\u003c/p\u003e\u003cp data-pid=\"pe_Y_8dt\"\u003eLangchain中使用向量化，使用Chroma、faiss举例：\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_community.vectorstores\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eChroma\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eFAISS\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_huggingface\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eHuggingFaceEmbeddings\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eembedding_instance\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eHuggingFaceEmbeddings\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emodel_name\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003emodel_path\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                                           \u003cspan class=\"n\"\u003emodel_kwargs\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;device\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003edevice\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n                                           \u003cspan class=\"n\"\u003eencode_kwargs\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;normalize_embeddings\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"bp\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003cspan class=\"n\"\u003evector_path\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;./vector_store\u0026#34;\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eChroma\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_documents\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"n\"\u003edocuments\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003etexts\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eembedding\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eembedding_instance\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003epersist_directory\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003evector_path\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003evs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFAISS\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_documents\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"n\"\u003edocuments\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003etexts\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eembedding\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eembedding_instance\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003evs\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esave_local\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003evector_path\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003e搜索索引\u003c/h3\u003e\u003cblockquote data-pid=\"W4uaMXJR\"\u003e向量存储索引\u003c/blockquote\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-b444c10115f82f4b10fdfc18babe0723_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"1400\" data-rawheight=\"753\" data-original-token=\"v2-04245f4dd997ac68c4e90f383473cc4d\" class=\"origin_image zh-lightbox-thumb\" width=\"1400\" data-original=\"https://picx.zhimg.com/v2-b444c10115f82f4b10fdfc18babe0723_r.jpg\"/\u003e\u003cfigcaption\u003e基础检索管道\u003c/figcaption\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"E0Iw_5JB\"\u003eRAG 管道的关键部分是搜索索引，存储我们在上一步获得的矢量化内容。最简单的实现使用平面索引——查询向量和所有块向量之间的暴力距离计算。\u003c/p\u003e\u003cp data-pid=\"_dfMXK7j\"\u003e一个适合在10000+元素规模上进行高效检索的搜索索引是向量索引(vector index)，如\u003ca href=\"https://link.zhihu.com/?target=https%3A//faiss.ai/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003efaiss\u003c/a\u003e、\u003ca href=\"https://link.zhihu.com/?target=https%3A//github.com/nmslib/nmslib\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003enmslib\u003c/a\u003e或\u003ca href=\"https://link.zhihu.com/?target=https%3A//github.com/spotify/annoy\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003eannoy\u003c/a\u003e，使用一些近似最近邻(Approximate Nearest Neighbours, ANN)实现，如聚类、树或HNSW(Hierarchical Navigable Small World)算法。\u003c/p\u003e\u003cp data-pid=\"oi6lb39S\"\u003e还有一些托管解决方案，如\u003ccode\u003eopenSearch\u003c/code\u003e或\u003ccode\u003eElasticSearch\u003c/code\u003e，以及向量数据库，它们在后台处理了前面描述的数据摄取管道，如Pinecone、Weaviate或Chroma。\u003c/p\u003e\u003cp data-pid=\"p1CqMelZ\"\u003e\u003cb\u003e根据索引选择、数据和搜索需求，用户还可以在存储向量的同时存储元数据(metadata)\u003c/b\u003e，然后使用元数据filter来搜索某些日期或来源内的信息。主要的元数据包括页码，上级标题，自定义文档索引等等，这些都有助于检索，也有助于后续建立测试数据集。\u003c/p\u003e\u003cblockquote data-pid=\"Nene5Vm-\"\u003e多层索引\u003c/blockquote\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pica.zhimg.com/v2-106b5ef779914380d57224d7a03261b2_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"2000\" data-rawheight=\"1086\" data-original-token=\"v2-74b1898840ab1b25619df88dea6e37fe\" class=\"origin_image zh-lightbox-thumb\" width=\"2000\" data-original=\"https://pica.zhimg.com/v2-106b5ef779914380d57224d7a03261b2_r.jpg\"/\u003e\u003cfigcaption\u003e多层索引管道\u003c/figcaption\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"6eGwTtFV\"\u003e如果知识库中的文档很多，那么我们必须更加高效地搜索其中的信息，更快更好地找到相关的文档。\u003cb\u003e这部分在检索时必须存储引用来源的单一答案\u003c/b\u003e。在处理大型数据库时，高效做到这个点的方法是\u003cb\u003e创建两个索引——一个由摘要组成，另一个由文档块组成\u003c/b\u003e。如图所示，进行两步搜索，首先通过摘要筛选出相关的满足要求的文档，然后再在这些文档中继续检索。\u003c/p\u003e\u003cp data-pid=\"3LE1DIeC\"\u003e\u003cb\u003e具体实现方式\u003c/b\u003e： 1、对整体文本内容分块，向量化，入库 2、相关文档进行摘要总结，添加对应关系，向量化，入库 3、输入问题在摘要库中进行检索，通过对应的摘要-文本映射表找到文本库中相关的部分。 4、在相关文本库的部分重新进行二次检索，找到相关的内容\u003c/p\u003e\u003cp data-pid=\"Df-gyGy1\"\u003e上述方法在由多个文件组成的内容知识库中尤其适用，每个文件代表的内容是主题比较明确。这会在对检索到的文本进行过滤也会更加轻松搞笑。假设知识库为一整本书的内容，可能需要人工总结摘要，或者使用LLM来总结摘要，形成结构化信息，提供更加精准的检索。\u003c/p\u003e\u003cblockquote data-pid=\"laf_rngi\"\u003e假设问题和假设向量文档（Hypothetical Questions and HyDE）\u003c/blockquote\u003e\u003cp data-pid=\"AJDWI_0Y\"\u003e另一种方法是\u003cb\u003e让LLM为每个块生成问题，并将这些问题以向量形式嵌入，在运行时对这些问题向量索引执行查询搜索（在我们的索引中用问题向量替换块向量），然后在检索后路由到原始文本块\u003c/b\u003e，并将它们作为上下文发送给LLM以获取答案。这相比多层索引的方案粒度更细，对于能命中的问题，精度较高，命中不了的问题则完全错误，需要根据场景来谨慎选择。\u003c/p\u003e\u003cp data-pid=\"q70TG0hr\"\u003e实现步骤： 1、为每个相关的向量生成对应的问题，向量化， 2、在问题库里面进行检索，命中后根据映射表拿到对应上下文，送给大模型回答。（由于这里按照问题进行检索本身在生成问题时已经比较精确，不需要二次检索了）\u003c/p\u003e\u003cp data-pid=\"F4aZRpgK\"\u003e这种方法通过在查询和假设问题之间的更高语义相似性来提高搜索质量，与我们对实际块所拥有的相比。\u003c/p\u003e\u003cp data-pid=\"RXMDvDBq\"\u003e还有一种逆向逻辑方法称为\u003cb\u003e假设向量文档(Hypothetical Document Embeddings, HyDE)——用户可以让LLM为给定的查询生成一个假设性响应，然后使用它的向量以及查询向量来增强搜索质量。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"R4l4pLpt\"\u003e实现步骤： 1、使用提示词工程让大模型回答问题，尽量简短，向量化 2、向量化的回答做为内容进行检索，将检索到的内容拼装到RAG的提示词中回答\u003c/p\u003e\u003cblockquote data-pid=\"FKvNTwja\"\u003e上下文增强\u003c/blockquote\u003e\u003cp data-pid=\"NyWJxyll\"\u003e这里的上下文增强是检索较小的块以提高搜索质量，但增强上下文内容语境以供LLM推理。\u003c/p\u003e\u003cp data-pid=\"hCkkvXjj\"\u003e上下文增强有两套方案，一是利用在较小检索块附件的句子来扩展上下文，二是递归地将文档分割成包含更小子块的更大父块。\u003c/p\u003e\u003cblockquote data-pid=\"3Ai9GaEW\"\u003e 句子窗口检索\u003c/blockquote\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-e393882d190bbb1240131228011289eb_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"2000\" data-rawheight=\"830\" data-original-token=\"v2-e0835c770b707a52eac327a481d0aeb2\" class=\"origin_image zh-lightbox-thumb\" width=\"2000\" data-original=\"https://picx.zhimg.com/v2-e393882d190bbb1240131228011289eb_r.jpg\"/\u003e\u003cfigcaption\u003e句子窗口检索\u003c/figcaption\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"iARCmAG2\"\u003e在这个方案中，\u003cb\u003e文档中的每个句子都被单独嵌入，这为查询与上下文的余弦距离(cosine distance)搜索提供了极高的准确性。\u003c/b\u003e为了在获取最相关的单个句子后更好地推理所找到的上下文，我们通过在检索到的句子前后各扩展k个句子来扩展上下文窗口，然后将这个扩展的上下文发送给LLM。\u003c/p\u003e\u003cblockquote data-pid=\"llqqOCtn\"\u003e 自动合并检索（父文档检索器）\u003c/blockquote\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic4.zhimg.com/v2-8fd30cd5f241de41a6b0ebc472fcf61b_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"2000\" data-rawheight=\"1023\" data-original-token=\"v2-84c9ab8e2e76c91b68b67a2c972c5f90\" class=\"origin_image zh-lightbox-thumb\" width=\"2000\" data-original=\"https://pic4.zhimg.com/v2-8fd30cd5f241de41a6b0ebc472fcf61b_r.jpg\"/\u003e\u003cfigcaption\u003e父文档检索器\u003c/figcaption\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"HjDnDBc7\"\u003e这里的想法与句子窗口检索器非常相似——搜索更颗粒度更细的信息，然后在将检索到的上下文送给LLM推理前扩展上下文窗口。文档被递归地分割成更大父块中更小的子块。\u003c/p\u003e\u003cp data-pid=\"NayOjKNH\"\u003e这种方法需要在文本分块的时候做出记录结构化的父子块信息，通常通过记录metadata来实现。\u003c/p\u003e\u003ch3\u003e关键词检索\u003c/h3\u003e\u003cp data-pid=\"-iFJRZVQ\"\u003eBM25是一种比较常用的关键词检索组件\u003c/p\u003e\u003cp data-pid=\"wOxmWVpg\"\u003eBM25 是一种基于概率的排名函数，用于信息检索系统。\u003cb\u003eBM25原理是根据查询词在文档中的出现频率以及查询词在整个文本集中的出现频率，来计算查询词和文档的相似度\u003c/b\u003e。BM25模型的主要思想是：如果一个词在一份文档（这里的文档一般是指分块之后的document）中出现的频率高，且在其他文档中出现的频率低，那么这个词对于这份文档的重要性就越高，相似度就越高。BM25模型对于长文档和短文档有一个平衡处理，防止因文档长度不同，而导致的词频偏差。\u003c/p\u003e\u003cp data-pid=\"sX3Rt0Po\"\u003e基本原理\u003c/p\u003e\u003cp data-pid=\"skT-AT-p\"\u003eBM25基于这样一个假设：对于一个特定的查询项，它在相关文档中出现的频率高于在非相关文档中的频率。算法通过结合词项频率（TF）和文档频率（DF）来计算文档的得分。\u003c/p\u003e\u003cp data-pid=\"n13pYBIw\"\u003e\u003cb\u003eTF（词项频率）\u003c/b\u003e 词项频率是指一个词项在文档中出现的次数。BM25对传统TF的计算方法进行了调整，引入了饱和度和长度归一化，以防止长文档由于包含更多词项而获得不公平的高评分。\u003c/p\u003e\u003cp data-pid=\"EmgdD2In\"\u003e\u003cb\u003eIDF（逆文档频率）\u003c/b\u003e 逆文档频率是衡量词项稀有程度的指标。它的计算基于整个文档集合，用来降低常见词项的权重，并提升罕见词项的权重。\u003c/p\u003e\u003cp data-pid=\"vPtIWOWI\"\u003e\u003cb\u003e计算公式\u003c/b\u003e：\u003c/p\u003e\u003cp data-pid=\"xWOWaieB\"\u003e\u003cimg src=\"https://www.zhihu.com/equation?tex=+%5Ctext%7BBM25%7D%28D%2C+Q%29+%3D+%5Csum_%7Bi%3D1%7D%5En%5Ctext%7BIDF%7D%28q_i%29%5Ccdot%5Cfrac%7Bf%28q_i%2C+D%29%5Ccdot%28k_1+%2B+1%29%7D%7Bf%28q_i%2C+D%29+%2B+k_1%5Ccdot%281-b%2Bb%5Ccdot+%5Cfrac%7B%5Ctext%7Blen%7D%28D%29%7D%7B%5Ctext%7Bavg%5C_len%7D%7D%29%7D+%5C%5C\" alt=\" \\text{BM25}(D, Q) = \\sum_{i=1}^n\\text{IDF}(q_i)\\cdot\\frac{f(q_i, D)\\cdot(k_1 + 1)}{f(q_i, D) + k_1\\cdot(1-b+b\\cdot \\frac{\\text{len}(D)}{\\text{avg\\_len}})} \\\\\" eeimg=\"1\"/\u003e \u003c/p\u003e\u003cp data-pid=\"26WyyolL\"\u003e其中：\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"H-z3LoQp\"\u003e\u003cimg src=\"https://www.zhihu.com/equation?tex=n\" alt=\"n\" eeimg=\"1\"/\u003e 是查询中的词项数。\u003c/li\u003e\u003cli data-pid=\"C-YegqYj\"\u003e\u003cimg src=\"https://www.zhihu.com/equation?tex=q_i\" alt=\"q_i\" eeimg=\"1\"/\u003e 是查询中的第$i$个词项。\u003c/li\u003e\u003cli data-pid=\"72hmqbdT\"\u003e\u003cimg src=\"https://www.zhihu.com/equation?tex=%5Ctext%7BIDF%7D%28q_i%29\" alt=\"\\text{IDF}(q_i)\" eeimg=\"1\"/\u003e 是逆文档频率，计算方式通常是 \u003cimg src=\"https://www.zhihu.com/equation?tex=%5Ctext%7Blog%7D%5Cfrac%7BN-n%28q_i%29%2B0.5%7D%7Bn%28q_i%29%2B0.5%7D\" alt=\"\\text{log}\\frac{N-n(q_i)+0.5}{n(q_i)+0.5}\" eeimg=\"1\"/\u003e ，其中 \u003cimg src=\"https://www.zhihu.com/equation?tex=N\" alt=\"N\" eeimg=\"1\"/\u003e 是文档总数， \u003cimg src=\"https://www.zhihu.com/equation?tex=n%28q_i%29\" alt=\"n(q_i)\" eeimg=\"1\"/\u003e  是包含词项 \u003cimg src=\"https://www.zhihu.com/equation?tex=n%28q_i%29\" alt=\"n(q_i)\" eeimg=\"1\"/\u003e 的文档数。\u003c/li\u003e\u003cli data-pid=\"bu799poa\"\u003e\u003cimg src=\"https://www.zhihu.com/equation?tex=%5Ctext%7Blen%7D%28D%29\" alt=\"\\text{len}(D)\" eeimg=\"1\"/\u003e 是文档$D$的长度。\u003c/li\u003e\u003cli data-pid=\"WN-_FhTL\"\u003e\u003cimg src=\"https://www.zhihu.com/equation?tex=%5Ctext%7Bavg_len%7D\" alt=\"\\text{avg_len}\" eeimg=\"1\"/\u003e 是所有文档的平均长度。\u003c/li\u003e\u003cli data-pid=\"gqTfBjdA\"\u003e\u003cimg src=\"https://www.zhihu.com/equation?tex=k_1\" alt=\"k_1\" eeimg=\"1\"/\u003e 和 \u003cimg src=\"https://www.zhihu.com/equation?tex=b\" alt=\"b\" eeimg=\"1\"/\u003e 是调整参数，通常设置为 \u003cimg src=\"https://www.zhihu.com/equation?tex=k_1%3D1.5\" alt=\"k_1=1.5\" eeimg=\"1\"/\u003e 和 \u003cimg src=\"https://www.zhihu.com/equation?tex=b%3D0.75\" alt=\"b=0.75\" eeimg=\"1\"/\u003e \u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"pnQbQNKa\"\u003e代码使用\u003c/p\u003e\u003cp data-pid=\"zGmvw4ee\"\u003e在LangChain中已经集成了该方法，模块名叫\u003ccode\u003eBM25Retriever\u003c/code\u003e。\u003c/p\u003e\u003cp data-pid=\"iwcq6lJA\"\u003e示例使用代码：\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003etyping\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eList\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain.schema\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eDocument\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003ejieba\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003ejieba.posseg\u003c/span\u003e \u003cspan class=\"kn\"\u003eas\u003c/span\u003e \u003cspan class=\"nn\"\u003epseg\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# jieba_dictionnary为分词内部自带的分词文件地址\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# jieba_user_dict为自己定义的特殊分词表\u003c/span\u003e\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003efunc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ejieba\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eset_dictionary\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ejieba_dictionary\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ejieba\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eload_userdict\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ejieba_user_dict\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003ejieba_list\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ejieba\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elcut\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecut_all\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ewords\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epseg\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecut\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003eword\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eflag\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003ewords\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003eflag\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;nr\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ejieba_list\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eword\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ejieba_list\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 该部分为通过文本切分之后的chunk块\u003c/span\u003e\n\u003cspan class=\"n\"\u003etexts\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eDocument\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"o\"\u003e...\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# BM25检索器，获取前5个最相关的结果\u003c/span\u003e\n\u003cspan class=\"n\"\u003ebm25_retriever\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBM25Retriever\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edocs\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003etexts\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ek\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \n\u003cspan class=\"c1\"\u003e# BM25检索器有默认的前处理分词策略，你也可以实现自己的分词策略，这里我使用jieba分词\u003c/span\u003e\n\u003cspan class=\"n\"\u003emy_bm25_retriever\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBM25Retriever\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edocs\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003etexts\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ek\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003epreprocess_func\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003efunc\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"VHb2Tknj\"\u003e其中词汇的内容通常用以下格式：\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-text\"\u003e# 名称 词频 词性（词频越高，优先级越高）\n苹果 3 n\niPhone 5 nz\nPython 10 n\n深度学习 8 n\njieba 5 nr\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"H6ztyuh_\"\u003e除了上述的格式，词频和词性都是可以省略的，当然，标注完整效果会更佳。\u003c/p\u003e\u003cp data-pid=\"GrtyxbWg\"\u003e\u003cb\u003eElasticSearch检索器\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"0SKghUXa\"\u003eElasticsearch 是位于 Elastic Stack 中心的分布式搜索和分析引擎。Logstach 和 Beats 促进采集、合计以及充实你的数据并在 Elasticsearch 中存储它们。Kibana 允许你去交互式的探索、可视化和共享对数据的见解，以及监视这个栈（Elastic Stack）。Elasticsearch 为各种数据类型提供接近实时的搜索和分析。不论你有结构化或非结构化的文本、数字数据，还是地理空间数据，Elasticsearch 能以支持快速搜索的方式高效地存储和索引它。\u003c/p\u003e\u003cp data-pid=\"LaNOXLQa\"\u003eElasticsearch默认使用BM25算法作为默认检索算法，Elasticsearch允许分布式部署，可以随着数据规模的增长而无缝增长，提供了灵活性。\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"xVg3_7Vp\"\u003eElasticsearch部署（以Linux系统为例）：\u003c/li\u003e\u003c/ul\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecurl -L -O https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.11.1-linux-x86_64.tar.gz\ntar -xvf elasticsearch-7.11.1-linux-x86_64.tar.gz\n\u003cspan class=\"nb\"\u003ecd\u003c/span\u003e elasticsearch-7.11.1/bin\n./elasticsearch\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"KxkhgoCB\"\u003e\u003ci\u003e其余系统的部署教程详细见\u003ca href=\"https://link.zhihu.com/?target=https%3A//elasticsearch.bookhub.tech/getting_started/install\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003e链接 \u003c/a\u003e\u003c/i\u003e\u003c/p\u003e\u003cp data-pid=\"5KD4wAaQ\"\u003e这样单个节点的Elasticsearch 集群就启动好了！\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"hgmfvUXi\"\u003eLangchain集成ElasticSearch检索器：\u003c/li\u003e\u003c/ul\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003essl\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003eopenai\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eelasticsearch\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eElasticsearch\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_community.vectorstores\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eElasticsearchStore\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_openai\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eOpenAIEmbeddings\u003c/span\u003e\n\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain.text_splitter\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eCharacterTextSplitter\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_community.document_loaders\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eTextLoader\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 设置代理访问 API\u003c/span\u003e\n\u003cspan class=\"n\"\u003eos\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eenviron\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;HTTP_PROXY\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;http://127.0.0.1:33210\u0026#34;\u003c/span\u003e\n\u003cspan class=\"n\"\u003eos\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eenviron\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;HTTPS_PROXY\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;http://127.0.0.1:33210\u0026#34;\u003c/span\u003e\n\u003cspan class=\"n\"\u003eos\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eenviron\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;ALL_PROXY\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;socks5://127.0.0.1:33211\u0026#34;\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 加载文档\u003c/span\u003e\n\u003cspan class=\"n\"\u003efile_path\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;conf/state_of_the_union.txt\u0026#39;\u003c/span\u003e\n\u003cspan class=\"n\"\u003eencoding\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;utf-8\u0026#39;\u003c/span\u003e\n\u003cspan class=\"n\"\u003eloader\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eTextLoader\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efile_path\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eencoding\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eencoding\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003edocuments\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eloader\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eload\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 文档分割\u003c/span\u003e\n\u003cspan class=\"n\"\u003etext_splitter\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCharacterTextSplitter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003echunk_size\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e1000\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003echunk_overlap\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003edocs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etext_splitter\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esplit_documents\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edocuments\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 连接 Elasticsearch\u003c/span\u003e\n\u003cspan class=\"n\"\u003econn\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eElasticsearch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;https://127.0.0.1:9200\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eca_certs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;certs/http_ca.crt\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ebasic_auth\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;elastic\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;changeme\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"n\"\u003everify_certs\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003eFalse\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 创建索引并进行检索\u003c/span\u003e\n\u003cspan class=\"n\"\u003eembeddings\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eOpenAIEmbeddings\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"n\"\u003edb\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eElasticsearchStore\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_documents\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edocs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eembeddings\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eindex_name\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;test_index\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ees_connection\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003econn\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eclient\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eindices\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erefresh\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eindex\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;test_index\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003equery\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;What did the president say about Ketanji Brown Jackson\u0026#34;\u003c/span\u003e\n\u003cspan class=\"n\"\u003eresults\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esimilarity_search\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003equery\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresults\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003e混合检索\u003c/h3\u003e\u003cp data-pid=\"nplmwNMd\"\u003e一个简单的想法，就是将传统搜索行业的\u003ccode\u003e关键词检索\u003c/code\u003e（稀疏检索算法）和最新的\u003ccode\u003e语义搜索\u003c/code\u003e，\u003ccode\u003e向量检索\u003c/code\u003e结合起来，生成一个最优的检索结果。但是一般不通过简单的融合来实现，这里关键的技巧是正确地结合具有不同相似度得分的检索结果——这个问题通常通过互惠排名融合(Reciprocal Rank Fusion, RRF)算法解决。最终的实现方式如图所示：\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic3.zhimg.com/v2-5da0086af833f43e42dafe9e13e6f16a_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"2000\" data-rawheight=\"1000\" data-original-token=\"v2-334c85931a54211f35d6d7f7c328e1d3\" class=\"origin_image zh-lightbox-thumb\" width=\"2000\" data-original=\"https://pic3.zhimg.com/v2-5da0086af833f43e42dafe9e13e6f16a_r.jpg\"/\u003e\u003cfigcaption\u003e混合检索管道\u003c/figcaption\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"k4LFVvxO\"\u003e在Langchain中，这是在\u003ccode\u003eEnsemble Retriever\u003c/code\u003e类中实现的，它结合了用户定义的一系列检索器，例如基于faiss的向量索引和基于BM25的检索器，并使用RRF进行重新排序。\u003c/p\u003e\u003cp data-pid=\"rUs4sJpR\"\u003e示例demo:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain.retrievers\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eEnsembleRetriever\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_community.retrievers\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eBM25Retriever\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_community.vectorstores\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eFAISS\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_openai\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eOpenAIEmbeddings\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003edoc_list_1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;I like apples\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;I like oranges\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;Apples and oranges are fruits\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# initialize the bm25 retriever and faiss retriever\u003c/span\u003e\n\u003cspan class=\"n\"\u003ebm25_retriever\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBM25Retriever\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_texts\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"n\"\u003edoc_list_1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emetadatas\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;source\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e}]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edoc_list_1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003ebm25_retriever\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ek\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003edoc_list_2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;You like apples\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;You like oranges\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eembedding\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eOpenAIEmbeddings\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"n\"\u003efaiss_vectorstore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFAISS\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_texts\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"n\"\u003edoc_list_2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eembedding\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emetadatas\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;source\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e}]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edoc_list_2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003efaiss_retriever\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003efaiss_vectorstore\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eas_retriever\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esearch_kwargs\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;k\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# initialize the ensemble retriever\u003c/span\u003e\n\u003cspan class=\"n\"\u003eensemble_retriever\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eEnsembleRetriever\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eretrievers\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ebm25_retriever\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003efaiss_retriever\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003eweights\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.5\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"rAhBO9np\"\u003e但在实际的检索过程中，这种合并的过程并不总是理想。举一个自己在做RAG的一个例子，下图是自己做的产品库的信息检索方案：\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic3.zhimg.com/v2-c3ac5bb80e5eab63440e6cfae50284b4_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"4593\" data-rawheight=\"1785\" data-original-token=\"v2-f59ceb3181bfe2aa2928b75d1336ba2e\" class=\"origin_image zh-lightbox-thumb\" width=\"4593\" data-original=\"https://pic3.zhimg.com/v2-c3ac5bb80e5eab63440e6cfae50284b4_r.jpg\"/\u003e\u003cfigcaption\u003e实际项目中的RAG管道\u003c/figcaption\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"vzRthtg5\"\u003e因为并不能简单通过权重来评判不同的检索器的好坏。我个人的做法是通过reranker Model（下面会讲到）先对不同的检索结果进行排序，然后进行合并去重，最后取\u003ccode\u003etop_n\u003c/code\u003e的检索结果。\u003cb\u003e将reranker模型前置的好处是，在各自的检索器检索到的内容，其相似度得分并不一定准确，可以减少多检索器在RRF排序过程的关键检索信息损失。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"gmWuYtsH\"\u003e合并和去重检索结果的位置排布变得很重要，一般会有两种排布方式：\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"qPnPj-Jr\"\u003e按照各自的排序结果交替排序并进行去重：\u003c/li\u003e\u003c/ul\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic2.zhimg.com/v2-4ea70a9b4c81324b82413c53a538ff53_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"5168\" data-rawheight=\"2599\" data-original-token=\"v2-09a1718b15654f73b0a1b27ae11dfc55\" class=\"origin_image zh-lightbox-thumb\" width=\"5168\" data-original=\"https://pic2.zhimg.com/v2-4ea70a9b4c81324b82413c53a538ff53_r.jpg\"/\u003e\u003cfigcaption\u003e交替排序\u003c/figcaption\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"_5YrFZrF\"\u003e这种方式将不同检索器得到的结果交替进行排序，每次将结果压入是需要先判断是否存在。\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"5r9Q-VbV\"\u003e按照各自的排序结果头尾排序并进行去重：\u003c/li\u003e\u003c/ul\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic3.zhimg.com/v2-ea2bf0ff49766c6f29b122b80eb4f3f4_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"5168\" data-rawheight=\"2599\" data-original-token=\"v2-285e2df6608afb1c0e4129006e39a718\" class=\"origin_image zh-lightbox-thumb\" width=\"5168\" data-original=\"https://pic3.zhimg.com/v2-ea2bf0ff49766c6f29b122b80eb4f3f4_r.jpg\"/\u003e\u003cfigcaption\u003e头尾排序\u003c/figcaption\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"MVpJm9tr\"\u003e这种方式是将不同的结果分别放在头和尾，需要注意的是尾部的顺序需要倒过来。这种做法是根据大模型对较长的文本中头和尾的信息更加敏感的特点，所以这种方法一般针对检索结果较多以及最终的文本较长的情况。\u003c/p\u003e\u003ch2\u003e重排序和过滤\u003c/h2\u003e\u003cp data-pid=\"pspcBcjc\"\u003e重排序是指通过一个\u003ccode\u003ereranker\u003c/code\u003e模型对最终检索到的结果重新进行排序，过滤则是通过一些明显的业务属性来过滤明显错误的结果，或者通过\u003ccode\u003emetadata\u003c/code\u003e中的一些信息进行排序，过滤，增加，删减等一系列操作，这个主要看业务的属性来决定。\u003c/p\u003e\u003ch2\u003e查询转换\u003c/h2\u003e\u003cp data-pid=\"aIOD0E7X\"\u003e查询转换是一系列技术的总称，使用\u003cb\u003eLLM作为推理引擎\u003c/b\u003e来修改用户输入，以提高检索质量。有几种不同的方法可以做到这一点。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic3.zhimg.com/v2-3c3108061709f541d94f2569915f6242_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"1400\" data-rawheight=\"1106\" data-original-token=\"v2-9071cc640dd50717d73f8c60f18f551b\" class=\"origin_image zh-lightbox-thumb\" width=\"1400\" data-original=\"https://pic3.zhimg.com/v2-3c3108061709f541d94f2569915f6242_r.jpg\"/\u003e\u003cfigcaption\u003e查询转换（问题改写）管道\u003c/figcaption\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"YCT_shoK\"\u003e查询转换有几种方式：\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"CXxH4Qar\"\u003e一种是通过根据提问的问题转化为更加通用的主题的方式来降低检索的难度。例如，我在问办理某个产品的需要多少钱？通常的做法是让LLM将其转化为带关键词的更加高效的检索。\u003c/li\u003e\u003c/ul\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"c1\"\u003e# 这里的资费通常知识库常用的关键词\u003c/span\u003e\n\u003cspan class=\"err\"\u003e办理\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"err\"\u003e某产品\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"err\"\u003e的需要多少钱？\u003c/span\u003e \u003cspan class=\"o\"\u003e--\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"err\"\u003e某产品\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"err\"\u003e的资费\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cul\u003e\u003cli data-pid=\"q9EMKhBb\"\u003e另一种查询转换则是将复杂的查询分解为子查询。例如，如果用户问：“在Github上，Langchain和LlamaIndex哪个更优秀？”，而我们不太可能在语料库中的某些文本中找到直接的比较，所以将这个问题分解为两个子查询是有意义的，假设更简单、更具体的信息检索：“Langchain在Github上有多少星星？”“Llamaindex在Github上有多少星星？”它们将并行执行，然后将检索到的上下文合并到一个提示中，供LLM合成对初始查询的最终答案。这两个库都实现了这个功能——在Langchain中作为多查询检索器(Multi Query Retriever)，在Llamaindex中作为子问题查询引擎(Sub Question Query Engine)。\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"36EJxF8O\"\u003eLangchain demo:\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain.retrievers.multi_query\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eMultiQueryRetriever\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_openai\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eChatOpenAI\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003equestion\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;What are the approaches to Task Decomposition?\u0026#34;\u003c/span\u003e\n\u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatOpenAI\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etemperature\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003eretriever_from_llm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eMultiQueryRetriever\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_llm\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eretriever\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003evectordb\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eas_retriever\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"n\"\u003ellm\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003ellm\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cul\u003e\u003cli data-pid=\"J9BXY2qS\"\u003e回退提示(Step-back prompting)使用LLM生成一个更普适的查询，检索它我们获得一个更普适或更高层次的上下文语境，有助于支撑初始查询的答案。初始查询的检索同时被执行，两个上下文都被提交到LLM以便在最后一步生成答案。\u003c/li\u003e\u003c/ul\u003e\u003ch2\u003e生成反馈循环（Generative Feedback Loop in RAG）\u003c/h2\u003e\u003cp data-pid=\"Ox5YWLWa\"\u003eRAG中的生成反馈循环是基于RAG系统的大模型回答\u003cb\u003e生成一系列的记忆以及一些QA回答信息\u003c/b\u003e，将这些信息不断地存储进向量数据库中，来增强RAG系统回答的质量。\u003c/p\u003e\u003cp data-pid=\"eQsdH7dm\"\u003e常规的RAG链路如下： \u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic4.zhimg.com/v2-57ed7c9f4e811af04876410e6d107707_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"2402\" data-rawheight=\"1270\" data-original-token=\"v2-2e4c672b20f0d59950db025a8f873810\" class=\"origin_image zh-lightbox-thumb\" width=\"2402\" data-original=\"https://pic4.zhimg.com/v2-57ed7c9f4e811af04876410e6d107707_r.jpg\"/\u003e\u003cfigcaption\u003e常规RAG管道\u003c/figcaption\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"1--7jyKe\"\u003e常规的RAG在LLM和向量数据库之间并没有交互，而生成反馈循环实际上是增强了两者的联系。基本的流程是LLM产生的输出，会被反馈到RAG系统中，也就是将问题和生成的答案的内容加入到新的向量数据库中，稍候进行使用。\u003c/p\u003e\u003cp data-pid=\"BBMZguJA\"\u003e增加了生成反馈循环的RAG链路如下： \u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-0f2e00e6ebc30c26af1224d908e0779a_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"2164\" data-rawheight=\"1164\" data-original-token=\"v2-174faa355c665494c4ce4fc988e95a20\" class=\"origin_image zh-lightbox-thumb\" width=\"2164\" data-original=\"https://pic1.zhimg.com/v2-0f2e00e6ebc30c26af1224d908e0779a_r.jpg\"/\u003e\u003cfigcaption\u003e生成反馈循环管道\u003c/figcaption\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"Y07ON4kd\"\u003e生成反馈循环的优势：\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"744tZ1Ii\"\u003e1、该循环将新的数据输入和交互纳入训练数据中。\u003c/p\u003e\u003cp data-pid=\"aLXmR2VW\"\u003e2、这允许模型适应不断变化的模式和趋势，提高未来产出的相关性和准确性。\u003c/p\u003e\u003cp data-pid=\"-ALflXw5\"\u003e3、会产生部分的用户个性化定制回答。\u003c/p\u003e\u003cp data-pid=\"3kd4uWfK\"\u003e这部分新产生的QA数据可以与常规知识库分开保存，它类似于一个cache，用户在输入问题后，可以在这部分额外QA库先进行搜索。这将会降低一部分开销，因为额外的QA库规模远小于常规的知识库。\u003c/p\u003e\u003cp data-pid=\"-RweztgR\"\u003e4、如果在返回的模块中，加入人类的反馈，或者LLM的评估反馈，基于评估，有选择性地增加额外QA库，这样可以\u003cb\u003e减少初始数据的偏见和错误\u003c/b\u003e。\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"E99z5zu0\"\u003e生成反馈循环的例子：\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"CaeA5KY4\"\u003e\u003cb\u003e步骤一\u003c/b\u003e：用户提问，搜索先前生成的额外的QA问答库，然后同步搜索知识库，如果没有搜索到相关内容，则去知识库去搜索得到结果。\u003c/p\u003e\u003cp data-pid=\"B0ljB7U9\"\u003e\u003cb\u003e步骤二\u003c/b\u003e：较为强大的LLM会生成相应的QA回答内容，RAG系统会将它存储下来，并进入向量数据库。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-c53929ff5cc90e67f0b91ba42822b83c_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2344\" data-rawheight=\"1214\" data-original-token=\"v2-78bf40757a086de00ad74b79334b85c5\" class=\"origin_image zh-lightbox-thumb\" width=\"2344\" data-original=\"https://pic1.zhimg.com/v2-c53929ff5cc90e67f0b91ba42822b83c_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"uHrhIWA8\"\u003e\u003cb\u003e步骤三\u003c/b\u003e：如果当前提问的问题和之前的QA库中问题相同或者相似，这时候可以使用一个小的LLM根据给定的历史QA回答进行调整做出响应。对应的相应时间会减少，相应的内容质量也与强大的LLM相当，因为它使用了强大的LLM遗留下的知识。（这与缓存非常相似，甚至如果问题完全相同，可以忽略搜索这个步骤，直接取回答案。）\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic4.zhimg.com/v2-e0d63eb44202ad60c81609421d90c7a7_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1182\" data-rawheight=\"1200\" data-original-token=\"v2-b66a6ef282e7843ac44c665c8c61de4e\" class=\"origin_image zh-lightbox-thumb\" width=\"1182\" data-original=\"https://pic4.zhimg.com/v2-e0d63eb44202ad60c81609421d90c7a7_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003ch2\u003e参考引用\u003c/h2\u003e\u003cp data-pid=\"jwgOHfQE\"\u003e如果用户使用多个检索来源生成答案，无论是因为初始查询的复杂性（用户不得不执行多个子查询，然后将检索到的上下文合并为一个答案），还是因为在不同文档中找到了某个查询的相关上下文，那么就会出现一个问题，即Generator是否能准确地显示所使用的引用来源。\u003c/p\u003e\u003cp data-pid=\"bfO8VITZ\"\u003e有几种方法可以做到这一点：\u003c/p\u003e\u003cp data-pid=\"qE0kbWGS\"\u003e1、将这个\u003cb\u003e显示引用源的任务插入到prompt中\u003c/b\u003e，要求LLM说明所使用的引用源编号。\u003c/p\u003e\u003cp data-pid=\"R30AIWYA\"\u003e例子： \u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"n\"\u003eprompt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34;\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e...\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e[\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e    retrieve_results_1, source: A\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e    retrieve_results_2, source: B\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e...\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e请你说明你的回答使用了哪些检索结果，标注出相应的引用源。\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"HQ8pEI-p\"\u003e2、将生成的答案部分与索引中的原始文本块匹配——LlamaIndex为这种情况提供了一种高效的模糊匹配解决方案(fuzzy matching based solution)(模糊匹配(fuzzy matching)是一种非常强大的字符串匹配技术)。\u003c/p\u003e\u003cp data-pid=\"oQoU5BjG\"\u003e\u003cb\u003e这种方法是通过算法来解决文本块使用的问题。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"UNjBdGHz\"\u003e上述两种方法各有优劣，需要根据实际情况进行灵活选择。\u003c/p\u003e\u003ch2\u003e聊天引擎（多轮对话）\u003c/h2\u003e\u003cp data-pid=\"xlp8S1lO\"\u003e单体的RAG流程仅仅是针对单次问答的情况，并不会考虑上下文。如果要构建多次问答的RAG系统，则需要支持历史对话，但是多轮历史对话往往会很长，而大模型支持的token数比较有限。\u003c/p\u003e\u003cp data-pid=\"d5fsHeIN\"\u003e要构建一个能够对单个查询多次执行操作的高效RAG系统，下一个重要步骤是实现聊天逻辑，这与经典聊天机器人在LLM时代之前处理对话上下文的方式类似。采用这种方式是为了\u003cb\u003e支持后续问题、指代解析或与之前对话上下文相关的任何用户指令\u003c/b\u003e。解决这一问题的方法是通过\u003cb\u003e查询压缩(query compression)技术\u003c/b\u003e，同时考虑聊天上下文和用户查询。\u003c/p\u003e\u003cp data-pid=\"TB4nzO1w\"\u003e在上下文压缩方面，有几种方法可供选择：\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"QwqgdkU4\"\u003e一种比较流行且相对简单的方法是使用\u003ccode\u003eContextChatEngine\u003c/code\u003e，它\u003cb\u003e首先检索与用户查询相关的上下文，然后将其连同聊天历史记录从内存缓冲区取出发送给LLM\u003c/b\u003e，以便LLM在生成下一个答案时能够了解之前的上下文。\u003c/li\u003e\u003cli data-pid=\"DlgXTIwm\"\u003e另一种相对复杂的情况是\u003ccode\u003eCondensePlusContextMode\u003c/code\u003e，在这种模式下，\u003cb\u003e每次交互中的聊天记录和最后一条消息被压缩成一个新的查询，然后这个查询被发送到索引里\u003c/b\u003e，并把检索到的上下文连同原始用户消息一起传递给LLM以生成答案。这种技术需要LLM将最近几条的聊天记录和最新的一条消息进行压缩，保证整体的语义与用户的真实意图相同。\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"6ZaDdhMn\"\u003e在实际的生产环境中，\u003ccode\u003eContextChatEngine\u003c/code\u003e往往是不work的，因为你无法保证用户在输入问题时使用书面化的问法，\u003cb\u003e大部分口语化的问答方式，关键信息会保留在上一次问题中，而在本次提问中仅仅进行追问。在本次的查询中缺少关键信息，检索效果往往不佳。\u003c/b\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic4.zhimg.com/v2-e347682525921bf91f7179776b0e59b9_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"1400\" data-rawheight=\"1020\" data-original-token=\"v2-0318de9ba53b71fbc195e3dcfbe4bd07\" class=\"origin_image zh-lightbox-thumb\" width=\"1400\" data-original=\"https://pic4.zhimg.com/v2-e347682525921bf91f7179776b0e59b9_r.jpg\"/\u003e\u003cfigcaption\u003e上下文问题查询\u003c/figcaption\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"YsaOSjD1\"\u003e聊天引擎是RAG系统中的一个关键组件，它不仅处理用户的直接查询，还能够理解和响应与之前对话上下文相关的内容。通过这种方式，RAG系统能够提供更连贯、更自然的对话体验。\u003c/p\u003e\u003ch2\u003e查询路由\u003c/h2\u003e\u003cp data-pid=\"yY11q6Dp\"\u003e查询路由是指针对用户的查询，由LLM来决定下一步操作的决策步骤。通常的选择包括总结信息、对某些数据索引进行搜索，或尝试多种不同的路径并将它们的输出合成为唯一的答案。实现方式便是\u003ccode\u003eAgent智能体\u003c/code\u003e。\u003c/p\u003e\u003cp data-pid=\"7gpl25tS\"\u003e\u003cb\u003e查询路由器\u003c/b\u003e(Query Routers)还用于选择索引，或者更通俗地说是选择执行用户查询命令的数据源。无论是拥有多个数据源（比如经典的向量存储、图形数据库或关系数据库），还是拥有多层索引结构（比如处理在多文档存储的时候，一个典型的索引创建方案很可能是一个由摘要组成的索引和另一个由文档块向量组成的索引），都需要进行查询路径选择。\u003c/p\u003e\u003cp data-pid=\"qFrOMaQE\"\u003e其中所有的查询选择，结果判断，都需要大模型自己判断，而不是人工定制好一个路径。\u003c/p\u003e\u003ch3\u003e多文档智能体方案\u003c/h3\u003e\u003cblockquote data-pid=\"c-mTrv4e\"\u003e Agents的概念：一个能够进行推理、提供一系列工具和一个完成特定任务的LLM\u003c/blockquote\u003e\u003cp data-pid=\"FTttu_B8\"\u003e智能体提供的工具可能包括如各种语言代码功能，各种外部API，甚至各种其他智能体——这种LLM链式的想法是LangChain名字的由来。目前市面上的大模型都适配了工具调用能力，也就是将语言文本转化为使用API调用外部工具或数据库查询的能力。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic3.zhimg.com/v2-89d9880e15019076e58fd904568a4f78_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"1400\" data-rawheight=\"991\" data-original-token=\"v2-49a5d38e58286e79f17d206da0133e42\" class=\"origin_image zh-lightbox-thumb\" width=\"1400\" data-original=\"https://pic3.zhimg.com/v2-89d9880e15019076e58fd904568a4f78_r.jpg\"/\u003e\u003cfigcaption\u003e多文档智能体管道\u003c/figcaption\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"PoPLCauw\"\u003e上述图片中的\u003ccode\u003e多文档智能体\u003c/code\u003e的方案，将多个文档检索的方式都制作为智能体，每个智能体都能自行判断需要进行哪些子查询，自行决定查询完了之后需要使用哪个查询出来的结果。顶层的智能体则单纯使用路由的能力，来选择使用哪些查询智能体。\u003c/p\u003e\u003cp data-pid=\"aerJQ9Ij\"\u003e这种复杂方案的缺点基本可以从上图中推测出来——由于涉及智能体内部的多次LLM迭代，所以执行效率比较低下。\u003cb\u003e需要注意的是，LLM调用总是RAG管道中最费时的操作\u003c/b\u003e。因此，对于大型多文档存储，建议考虑对这个方案进行一些简化，以便提高其可扩展性。最简单的方法就是将所有的文档智能体使用一套通用的固定查询路径。\u003c/p\u003e\u003ch2\u003e响应合成器\u003c/h2\u003e\u003cp data-pid=\"1_rtUlLi\"\u003e这是每个RAG管道的最后一步——基于用户精心检索到的所有上下文和初始用户查询生成答案。最简单的方法是将所有检索到的上下文（高于某个相关性阈值）与查询一起连续地提交给LLM。但总有其他更复杂的方案，比如多次执行LLM调用来细化检索到的上下文，以生成更完美的答案。\u003c/p\u003e\u003cp data-pid=\"1aBQrNB9\"\u003e响应合成的主要方法包括：\u003c/p\u003e\u003cp data-pid=\"AH48-tMW\"\u003e1、通过将检索到的上下文逐块提交给LLM来迭代优化答案。 2、摘要检索到的上下文以匹配prompt。 3、基于不同上下文块生成多个答案，然后将它们融合或摘要。\u003c/p\u003e\u003ch2\u003eRAG相关的微调\u003c/h2\u003e\u003cul\u003e\u003cli data-pid=\"b-r4mRJ_\"\u003eembedding模型微调：\u003ca href=\"https://link.zhihu.com/?target=https%3A//docs.llamaindex.ai/en/stable/examples/finetuning/embeddings/finetune_embedding/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003eLLamaIndex\u003c/a\u003e提供了embedding模型微调的方式，根据国外博主的实测，bge-large-en-v1.5的embedding模型微调能够对RAG系统带来2%的性能提升。\u003c/li\u003e\u003cli data-pid=\"LBPkDNZw\"\u003ereranker模型微调：另一个好的旧选择是，如果您不完全信任基础编码器，则有一个交叉编码器来重新排名检索到的结果。它的工作方式如下——您将查询和每个检索到的前k个文本块传递给交叉编码器，由SEP令牌隔开，并微调为相关块输出1，不相关块输出0。这种调整过程的一个很好的例子可以在\u003ca href=\"https://link.zhihu.com/?target=https%3A//docs.llamaindex.ai/en/latest/examples/finetuning/cross_encoder_finetuning/cross_encoder_finetuning.html%23\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003e这里\u003c/a\u003e找到，结果显示，通过交叉编码器微调，配对得分提高了4%。\u003c/li\u003e\u003c/ul\u003e\u003ch2\u003e指标评估\u003c/h2\u003e\u003ch3\u003e基于人工的数据集评测\u003c/h3\u003e\u003cp data-pid=\"_Zwf0Rxv\"\u003e基于人工的RAG评测需要人工构建问题和对应目标文本的数据集。这是一个示例的数据集格式：\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"err\"\u003e#\u003c/span\u003e \u003cspan class=\"err\"\u003erelevant_docs_source是在整个知识库中的document-ID（存储在metadata信息中）\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026#34;query_id\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026#34;query_text\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;\u0026lt;某产品\u0026gt;的优势是什么？\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026#34;relevant_docs_source\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"6-zl8gIy\"\u003e关于不同的类别，可以在其上层继续构建分类，用于不同的类别。 关于定量指标，通常选择一些常用的：\u003ccode\u003erecall\u003c/code\u003e, \u003ccode\u003eprecison\u003c/code\u003e, \u003ccode\u003ef1_score\u003c/code\u003e, \u003ccode\u003ehit_rate\u003c/code\u003e。\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"XoT_yokD\"\u003e召回率（Recall）：召回率是指系统正确检索到的相关文档数与所有相关文档数的比例。\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"8AN0Tz8w\"\u003e\u003cimg src=\"https://www.zhihu.com/equation?tex=+Recall+%3D+%5Cfrac%7B%E6%A3%80%E7%B4%A2%E5%88%B0%E7%9A%84%E7%9B%B8%E5%85%B3%E6%96%87%E6%A1%A3%E6%95%B0%7D%7B%E6%89%80%E6%9C%89%E7%9B%B8%E5%85%B3%E6%96%87%E6%A1%A3%E6%95%B0%7D+%5C%5C\" alt=\" Recall = \\frac{检索到的相关文档数}{所有相关文档数} \\\\\" eeimg=\"1\"/\u003e \u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"MARbUGJt\"\u003e精确率（Precision）：精确率是指系统检索到的相关文档数与检索到的所有文档数的比例。\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"kU8cubN8\"\u003e\u003cimg src=\"https://www.zhihu.com/equation?tex=+Precision+%3D+%5Cfrac%7B%E6%A3%80%E7%B4%A2%E5%88%B0%E7%9A%84%E7%9B%B8%E5%85%B3%E6%96%87%E6%A1%A3%E6%95%B0%7D%7B%E6%A3%80%E7%B4%A2%E5%88%B0%E7%9A%84%E6%89%80%E6%9C%89%E6%96%87%E6%A1%A3%E6%95%B0%7D+%5C%5C\" alt=\" Precision = \\frac{检索到的相关文档数}{检索到的所有文档数} \\\\\" eeimg=\"1\"/\u003e \u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"gBcqJqn1\"\u003eF1分数（F1 Score）：F1分数是精确率和召回率的调和平均值，用于综合衡量系统的性能。\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"0kRfmoGr\"\u003e\u003cimg src=\"https://www.zhihu.com/equation?tex=+F1-Score+%3D+2+%5Ctimes+%5Cfrac%7BPrecision+%2A+Recall%7D%7BPrecision+%2B+Recall%7D+%5C%5C\" alt=\" F1-Score = 2 \\times \\frac{Precision * Recall}{Precision + Recall} \\\\\" eeimg=\"1\"/\u003e \u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"x_z5YHwD\"\u003e命中率（Hit Rate）：命中率是指系统在检索到的文档中至少有一个相关文档的比例。\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"3srXrKgY\"\u003e\u003cimg src=\"https://www.zhihu.com/equation?tex=+Hit+Rate+%3D+%5Cfrac%7B%E8%87%B3%E5%B0%91%E6%9C%89%E4%B8%80%E4%B8%AA%E7%9B%B8%E5%85%B3%E6%96%87%E6%A1%A3%E7%9A%84%E6%9F%A5%E8%AF%A2%E6%95%B0%7D%7B%E6%80%BB%E6%9F%A5%E8%AF%A2%E6%95%B0%7D+%5C%5C\" alt=\" Hit Rate = \\frac{至少有一个相关文档的查询数}{总查询数} \\\\\" eeimg=\"1\"/\u003e \u003c/p\u003e\u003cp data-pid=\"zPYYYPAq\"\u003e\u003cb\u003e上述所有指标都需要结合最终检索的格式\u003ccode\u003etop_n\u003c/code\u003e结合起来看，在上面几个指标中，最重要的是\u003ccode\u003e召回率\u003c/code\u003e和\u003ccode\u003e命中率\u003c/code\u003e。这是因为你即便召回了部分噪声，大模型本身具有判断的能力，但如果没有正确的没有召回，大模型则没有信息来源，是不可能回答正确的。\u003c/b\u003e\u003c/p\u003e\u003ch3\u003e基于大模型的数据集评测\u003c/h3\u003e\u003cp data-pid=\"WFPgllkT\"\u003e《Evaluating RAG Applications with RAGAs》文章介绍了一个用于评估RAG应用的框架，称为RAGAs，这篇文章详细介绍了RAGAS框架，它的核心目标是提供一套综合性的评估指标和方法，以量化地评估\u003cb\u003eRAG管道(RAG Pipeline)\u003c/b\u003e在不同组件层面上的性能。RAGAs特别适用于那些结合了\u003cb\u003e检索（Retrieval）和生成（Generation）\u003c/b\u003e两个主要组件的RAG系统。\u003c/p\u003e\u003cp data-pid=\"f1t5pB40\"\u003e\u003cb\u003e无参考评估\u003c/b\u003e：RAGAs最初设计为一种“无参考”评估框架，意味着它不依赖于人工注释的真实标签，而是利用大型语言模型（LLM）进行评估。\u003c/p\u003e\u003cp data-pid=\"PgoWnRJ9\"\u003e\u003cb\u003e组件级评估\u003c/b\u003e：RAGAs允许对RAG管道的两个主要组件——检索器和生成器——分别进行评估。这种分离评估方法有助于精确地识别管道中的性能瓶颈。\u003c/p\u003e\u003cp data-pid=\"31dsmdzS\"\u003e\u003cb\u003e综合性评估指标\u003c/b\u003e：RAGAs提供了一系列评估指标，包括\u003cb\u003e上下文精度(Context Precision)、上下文召回(Context Recall)、忠实度(Faithfulness)和答案相关性(Answer Relevancy)\u003c/b\u003e。这些指标共同构成了RAGAs评分，用于全面评估RAG管道的性能。\u003c/p\u003e\u003cp data-pid=\"YZh-TxoA\"\u003e具体的评估流程和代码示例：\u003ca href=\"https://link.zhihu.com/?target=https%3A//towardsdatascience.com/evaluating-rag-applications-with-ragas-81d67b0ee31a\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003e\u003cspan class=\"invisible\"\u003ehttps://\u003c/span\u003e\u003cspan class=\"visible\"\u003etowardsdatascience.com/\u003c/span\u003e\u003cspan class=\"invisible\"\u003eevaluating-rag-applications-with-ragas-81d67b0ee31a\u003c/span\u003e\u003cspan class=\"ellipsis\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003cp data-pid=\"jm5wbDYw\"\u003e\u003cb\u003eReference\u003c/b\u003e:\u003ca href=\"https://link.zhihu.com/?target=https%3A//pub.towardsai.net/advanced-rag-techniques-an-illustrated-overview-04d193d8fec6\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003e\u003cspan class=\"invisible\"\u003ehttps://\u003c/span\u003e\u003cspan class=\"visible\"\u003epub.towardsai.net/advan\u003c/span\u003e\u003cspan class=\"invisible\"\u003eced-rag-techniques-an-illustrated-overview-04d193d8fec6\u003c/span\u003e\u003cspan class=\"ellipsis\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":45857,"thumbnails":["https://picx.zhimg.com/50/v2-68118f1beac68036a896213d1d9817c0_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-2c2ae035d0fbbdcbe472c297a821a035_720w.jpg?source=b6762063","https://pic1.zhimg.com/50/v2-f6561e9c5f4299d744819746279bd52e_720w.jpg?source=b6762063","https://pica.zhimg.com/50/v2-b46bfdc30a72365419f4cba0146132a4_720w.jpg?source=b6762063","https://pic1.zhimg.com/50/v2-522c1ca7107973cb49bf3170004461da_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-9f17f9f666dd5ca5bc76bdcfd015ca18_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-1749f7832663c2f09eb53054eaa2e142_720w.jpg?source=b6762063","https://pic1.zhimg.com/50/v2-0d16a928fa90e3eb5007fea44ee1a70d_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-31b48de2acd4859cd9ca3a5ff551a90e_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-9ce56bd974c316f5baedbcda15210c45_720w.jpg?source=b6762063","https://pic1.zhimg.com/50/v2-c63ae8475fa489dea1cd784ae36bbd48_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-c58cdb4840225031848e2055d8e8b8fc_720w.jpg?source=b6762063","https://pica.zhimg.com/50/v2-289c0815efd930e87db181fe20be9cad_720w.jpg?source=b6762063","https://pic1.zhimg.com/50/v2-d2c41e50beda70b3380d51101e5cc5fd_720w.jpg?source=b6762063","https://pic1.zhimg.com/50/v2-7016e9b0ed18339d2b740f94e0349cee_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-d19e43aefb2921f2945f8e8d30913355_720w.jpg?source=b6762063"],"favorite_count":2459,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 35565847625}","attached_info":"CvELCOPSpL6lxr3qkwEQBBoJNzAwMjI4NjgyIOni8bkGKMUGMBxAngFKKAodVFNfU09VUkNFX05FQVJMSU5FX0NPTlRFTlRfVjISATAYACAAOgBKQgotVFNfU09VUkNFX1RXT1RPV0VSX01VTFRJX1NDRU5FX1YxX1JFQ0FMTF9URVhUEgEwGAAgADoKeyJyYXciOiIifVoJMTA0MjE4Mjk5YiBhYTdkMjI0ZTA2ZDRiMzFiNzRmNjRkMDgwZDliN2Y1NnILMzU1NjU4NDc2MjWKAQk2Mzg3MzAxNDOqAQlyZWNvbW1lbmTCASBlYTA4ZjM4ZmM5NmZlZGQ0MzU0YmQyMTNlNTQ5NGQwMPIBCggMEgZOb3JtYWzyASgIChIkMjg2ZmQyNDAtNTYyOC00ZGZiLWJiOTktYjRhMmUwZGEwZjIy8gEGCAsSAjI3ggIAiALK8c3OhTOSAiBlYTA4ZjM4ZmM5NmZlZGQ0MzU0YmQyMTNlNTQ5NGQwMJoCAMoCFlNob3JJbnRlcmVzdFdlaWdodFJ1bGXKAhVVc2VyTGNuRXhpdFdlaWdodFJ1bGXKAhRDb250ZW50QWdlV2VpZ2h0UnVsZcoCFVF1ZXN0aW9uSXNvbGF0aW9uUnVsZdoCHVRTX1NPVVJDRV9ORUFSTElORV9DT05URU5UX1Yy6AID+gILTk9STUFMX0ZMT1eKAyBmMzhlNTg4ZTg4Y2M0MGYzOGFiYzg1ZTVhZjRjNDJlY5oDDQoCdjIQABoFb3RoZXKoA6HmAtgDAPoDjwYSDFVOS05PV05fTU9ERSAAKg1OT19JTUFHRV9NT0RFOi0IAhDQDxi2CCIjdjItNzMwMWJhZGJkNDQ3MmRjYTExNTRkZTgyMWFmODZlZDk6LQgCEPgKGPEFIiN2Mi0wNDI0NWY0ZGQ5OTdhYzY4YzRlOTBmMzgzNDczY2M0ZDotCAIQ0A8YvggiI3YyLTc0YjE4OTg4NDBhYjFiMjU2MTlkZjg4ZGVhNmUzN2ZlOi0IAhDQDxi+BiIjdjItZTA4MzVjNzcwYjcwN2E1MmVhYzMyN2E0ODFkMGFlYjI6LQgCENAPGP8HIiN2Mi04NGM5YWI4ZTJlNzZjOTFiNjhiNjdhMmM5NzJjNWY5MDotCAIQ0A8Y6AciI3YyLTMzNGM4NTkzMWE1NDIxMWYzNWQ2ZDdmN2MzMjhlMWQzOi0IAhDxIxj5DSIjdjItZjU5Y2ViMzE4MWJmZTJhYTI5MjhiNzVkMTMzNmJhMmU6LQgCELAoGKcUIiN2Mi0wOWExNzE4YjE1NjU0ZjczYjBhMWIyN2FlMTFkZmM1NTotCAIQsCgYpxQiI3YyLTI4NWUyZGY2NjA4YWZiMWMwZTQxMjkwMDZlMzlhNzE4Oi0IBBD4ChjSCCIjdjItOTA3MWNjNjQwZGQ1MDcxN2Q3M2Y4YzYwZjE4ZjU1MWI6LQgCEOISGPYJIiN2Mi0yZTRjNjcyYjIwZjBkNTk5NTBkYjAyNWE4Zjg3MzgxMDotCAIQ9BAYjAkiI3YyLTE3NGZhYTM1NWM2NjU0OTRjNGNlNGZjOTg4ZTk1YTIwOi0IBBCoEhi+CSIjdjItNzhiZjQwNzU3YTA4NmRlMDBhZDc0Yjc5MzM0Yjg1YzU6LQgCEJ4JGLAJIiN2Mi1iNjZhNmVmMjgyZTc4NDNhYzQ0YzY2NWM4YzYxZGU0ZTotCAIQ+AoY/AciI3YyLTAzMThkZTliYTUzYjcxZmJjMTk1ZTNkY2ZiZTRiZDA3Oi0IAhD4ChjfByIjdjItNDlhNWQzOGU1ODI4NmU3OWYxN2QyMDZkYTAxMzNlNDKABACIBACSBAZOb3JtYWyaBAEzoAQAqAQAsAQAugQGbWFudWFswgQDMTYwyAQA0gQP5o6o6I2Q5bey5pu05paw2AQA8AQA+QQAAADgk1uaP4EFAAAAAAAAAACJBb+vh1U6dNM/kgUAmgUDZGZ0ogUDZGZ0sgUBMbkFAAAAAAAAAADQBQDgBQDoBQDwBRuQBgCgBqABqAYAkgImCgk3MDAyMjg2ODISCzM1NTY1ODQ3NjI1GAQiCklNQUdFX1RFWFQ=","action_card":false},{"id":"159_1753853688.105","type":"feed","offset":159,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1753853688,"updated_time":1753853688,"target":{"id":"1932743877254686139","type":"answer","url":"https://api.zhihu.com/answers/1932743877254686139","author":{"id":"53b2f3566b8b5dc9e40a4daf0de7edaf","url":"https://api.zhihu.com/people/53b2f3566b8b5dc9e40a4daf0de7edaf","user_type":"people","url_token":"cmmi","name":"人月聊IT","headline":"何明璐，数字化转型和云原生，思维，微信号：人月聊IT","avatar_url":"https://picx.zhimg.com/50/v2-2e385b69b6ad57d85a713cb2e8728405_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":76041,"is_following":false,"is_followed":false},"created_time":1753582048,"updated_time":1753582048,"voteup_count":8,"thanks_count":0,"comment_count":0,"is_copyable":true,"question":{"id":"1931042990790509049","type":"question","url":"https://api.zhihu.com/questions/1931042990790509049","author":{"id":"c48ea7ace57da14fd4ee8599da587ed9","url":"https://api.zhihu.com/people/c48ea7ace57da14fd4ee8599da587ed9","user_type":"people","url_token":"mo-nan-gu-50","name":"尛喃苽","headline":"珍惜当下，期待未来","avatar_url":"https://picx.zhimg.com/50/v2-bb9db853edf3413dd6851ce7f99f93f1_l.jpg?source=b6762063","is_org":false,"gender":0,"followers_count":8,"is_following":false,"is_followed":false},"title":"如何把碎片化的知识点建立系统联系呢？","created":1753176526,"answer_count":0,"follower_count":0,"comment_count":0,"bound_topic_ids":[10272,1352851,2466237],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"thumbnail":"https://picx.zhimg.com/50/v2-e5dbd8c2189a9dee7aa5d8c7d1dc498a_720w.jpg?source=b6762063","excerpt":"简单会下这个问题，希望对你有所启发。   对于大部分来说，大量的信息或知识都是通过碎片化的时间吸收的，这个本身没有问题，核心的关键还是如何讲碎片化的知识构建为一个完整的知识体系，并通过知识体系指导后面的学习实践，同时通过完整的知识体系为自己创造更大的价值。 而知识体系构建中确实最核心的一个点就是知识见的联系。这个我在后面将会谈到，在谈知识联系前还是先谈下对碎片化知识的理解。 一、 碎片化不可怕，可怕的是…","excerpt_new":"简单会下这个问题，希望对你有所启发。   对于大部分来说，大量的信息或知识都是通过碎片化的时间吸收的，这个本身没有问题，核心的关键还是如何讲碎片化的知识构建为一个完整的知识体系，并通过知识体系指导后面的学习实践，同时通过完整的知识体系为自己创造更大的价值。 而知识体系构建中确实最核心的一个点就是知识见的联系。这个我在后面将会谈到，在谈知识联系前还是先谈下对碎片化知识的理解。 一、 碎片化不可怕，可怕的是…","preview_type":"default","preview_text":"","reshipment_settings":"allowed","content":"\u003cp data-pid=\"R9_lsd6B\"\u003e简单会下这个问题，希望对你有所启发。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-7ec322d7f6031aa34b63496def546e7e_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"460\" data-original-token=\"v2-7ec322d7f6031aa34b63496def546e7e\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://pic1.zhimg.com/v2-7ec322d7f6031aa34b63496def546e7e_r.jpg\"/\u003e\u003cfigcaption\u003ecover_image\u003c/figcaption\u003e\u003c/figure\u003e\u003cp data-pid=\"Sw1932eM\"\u003e对于大部分来说，大量的信息或知识都是通过碎片化的时间吸收的，这个本身没有问题，核心的关键还是如何讲碎片化的知识构建为一个完整的知识体系，并通过知识体系指导后面的学习实践，同时通过完整的知识体系为自己创造更大的价值。\u003c/p\u003e\u003cp data-pid=\"H66IsI3g\"\u003e而知识体系构建中确实最核心的一个点就是知识见的联系。这个我在后面将会谈到，在谈知识联系前还是先谈下对碎片化知识的理解。\u003c/p\u003e\u003ch3\u003e一、 碎片化不可怕，可怕的是整块时间被浪费\u003c/h3\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pica.zhimg.com/v2-3eef784b4180d971a5ef95434287a0aa_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"1023\" data-rawheight=\"682\" data-original-token=\"v2-3eef784b4180d971a5ef95434287a0aa\" class=\"origin_image zh-lightbox-thumb\" width=\"1023\" data-original=\"https://pica.zhimg.com/v2-3eef784b4180d971a5ef95434287a0aa_r.jpg\"/\u003e\u003cfigcaption\u003eimage1\u003c/figcaption\u003e\u003c/figure\u003e\u003cp data-pid=\"0UhvOvLu\"\u003e我在前面谈信息爆炸下的知识管理就谈到过，对于个人来说，\u003cb\u003e碎片化的时间再怎么充分利用，也改变不了时间是碎片化这个事实。”\u003c/b\u003e 你指望在挤地铁那点功夫就把一本大部头啃下来，或者搞懂一个特复杂的理论，那基本不现实。碎片时间更适合干点啥？刷刷行业资讯，看几篇公众号文章，搞点泛读，获取点零散信息，这个往往才是切实可行的思路。\u003c/p\u003e\u003cp data-pid=\"OphR4A3t\"\u003e但是我们真正担心的是，你个人将一整块的时间浪费掉或碎片化掉了。类似你下班回家本身晚上有2到4个小时一整块的时间，但是你可能将其消耗在了刷手机，看短剧上面了。既然碎片化时间容易带来碎片化的知识，那么我们更加应该考虑特意预留好整块的时间进行整块知识的学习和实践。并应该主动规划来减少碎片时间和碎片化知识的摄入。\u003c/p\u003e\u003cp data-pid=\"KYFHvtcj\"\u003e具体可以参考的点包括：\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"WnGtq4sG\"\u003e\u003cb\u003e减少不确定性\u003c/b\u003e：你的计划越明确，不确定性越少，碎片时间自然就少。\u003c/li\u003e\u003cli data-pid=\"b-hgQimn\"\u003e\u003cb\u003e减少被动干扰\u003c/b\u003e：工作的时候，尽量减少不必要的打扰。\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e二、 通过主题阅读串联知识和构建知识树\u003c/h3\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic3.zhimg.com/v2-d333bda52a9f510dc4be45de6fd4f418_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"700\" data-rawheight=\"393\" data-original-token=\"v2-d333bda52a9f510dc4be45de6fd4f418\" class=\"origin_image zh-lightbox-thumb\" width=\"700\" data-original=\"https://pic3.zhimg.com/v2-d333bda52a9f510dc4be45de6fd4f418_r.jpg\"/\u003e\u003cfigcaption\u003eimage2\u003c/figcaption\u003e\u003c/figure\u003e\u003cp data-pid=\"nSRXvblN\"\u003e解决了时间的问题，接下来就是怎么把那些零散的知识点给串起来，形成体系。在这里有一个核心的方法就是《如何阅读一本书》里面谈的主题阅读。也就是说要\u003cb\u003e围绕自己的专业主题或目标，进行“主题阅读”和学习\u003c/b\u003e。类似原来我们读书时期老师说的带着问题去读书一个道理。\u003c/p\u003e\u003cp data-pid=\"pfyhEdUT\"\u003e大家可以思考下，为啥工作久了会感觉知识碎片化？\u003c/p\u003e\u003cp data-pid=\"BQJ9jkmx\"\u003e里面一个重要的原因就是\u003cb\u003e“动嘴讲的时候多，动手写的时候少，讲的内容已经很难真正系统化地用文字总结出来”\u003c/b\u003e，或者\u003cb\u003e“每个点都知道，但是已经浮于表面，很难像原来一样洞悉事物内在本质”\u003c/b\u003e。这就是典型的能力碎片化，吃老本，没有把新的零散经验和知识融入到已有的体系里去。\u003c/p\u003e\u003cp data-pid=\"Qga28x9W\"\u003e而解决这个问题的核心方法就是构建\u003cb\u003e体系化的知识库\u003c/b\u003e，形成自己专业领域的核心知识体系和知识树，并在知识树构建的过程中完成知识和知识之间的关联。\u003c/p\u003e\u003cblockquote data-pid=\"QnW714dO\"\u003e“如果你不知道去哪里，给你一张地图也没有用。知识结构的作用就是让你清楚的知道你现在的位置和目标的距离，同时将你已有的技能经验进行抽象整理，形成完整的知识结构。”\u003c/blockquote\u003e\u003cp data-pid=\"T2XqUBwT\"\u003e在我刚参加工作时候，我一般用思维导图来构建知识体系结构。比如我刚做软件开发时就整理过一个IT知识结构体系的思维导图，把自己要学的、已经会的都列出来，一目了然。后来做项目管理，又整理了项目管理的知识体系，还有职业经理人的核心技能图等等。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-0b95f57586f25666c742f87dc1ae448c_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"767\" data-rawheight=\"569\" data-original-token=\"v2-0b95f57586f25666c742f87dc1ae448c\" class=\"origin_image zh-lightbox-thumb\" width=\"767\" data-original=\"https://pic1.zhimg.com/v2-0b95f57586f25666c742f87dc1ae448c_r.jpg\"/\u003e\u003cfigcaption\u003eimage3\u003c/figcaption\u003e\u003c/figure\u003e\u003cp data-pid=\"gJ9GBPzj\"\u003e再到后面发现单纯的思维导图实际很难体现各个知识点之间的横向依赖关系。所以到后面我个人的知识结构搭建更多采用的是矩阵式多维度知识构图方式。类似我们常见的CMMI知识体系，PMBOK知识体系都是一种矩阵方式构图。一个维度体现核心的静态知识结构展开，一个维度来体现知识的动态生命周期演讲过程。\u003c/p\u003e\u003cp data-pid=\"8Rc8eN6E\"\u003e类似我最近在整理数字化知识体系结构的时候就是采用矩阵方式构图，如下：\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-2d8379b00b963614e0e9c3ee65a4bb57_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"849\" data-rawheight=\"478\" data-original-token=\"v2-ba1b03883f42b93b52330408595994ab\" data-default-watermark-src=\"https://pic2.zhimg.com/v2-405ef12b698d4d6f69513f2746d272e3_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"849\" data-original=\"https://picx.zhimg.com/v2-2d8379b00b963614e0e9c3ee65a4bb57_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"614xMMWF\"\u003e在该图中可以围绕数字化规划建设的动态生命周期，围绕数字化涉及到的业务，技术，管理，集成静态结构进行展开，列出所有的知识点。并在知识图上标注相应的一些箭头来进一步体现知识之间的关系和依赖，该方面大家也可以参考。\u003c/p\u003e\u003cp data-pid=\"hKNQn4e2\"\u003e简单来说，知识结构的构建过程就是\u003cb\u003e“将碎片化的知识进行体系化归纳整理的过程”\u003c/b\u003e。你得主动去思考，你学的这个新东西究竟应该放在知识体系中的哪个问题？它和哪些已有的知识点有相互关联和相互影响制约关系？通过这种方式，零散的知识点才能慢慢连点成线，连线成面，最终形成你自己的知识网结构网络。\u003c/p\u003e\u003ch3\u003e三、 周期性复盘，完成知识库转化升级\u003c/h3\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-0acb6c6e81eb2fad4e3d97e92d93d10a_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"700\" data-rawheight=\"277\" data-original-token=\"v2-0acb6c6e81eb2fad4e3d97e92d93d10a\" class=\"origin_image zh-lightbox-thumb\" width=\"700\" data-original=\"https://pic1.zhimg.com/v2-0acb6c6e81eb2fad4e3d97e92d93d10a_r.jpg\"/\u003e\u003cfigcaption\u003eimage5\u003c/figcaption\u003e\u003c/figure\u003e\u003cp data-pid=\"AuLoVRZX\"\u003e我在很多文章里都强调过复盘的重要性。比如在《碎片化工作和时间如何构建体系化知识库提升系统思维》里，我画过一个知识转化的图：\u003c/p\u003e\u003cblockquote data-pid=\"VU6SpH1w\"\u003e\u003cb\u003e资料库 -\u0026gt; 知识库 -\u0026gt; 经验库 -\u0026gt; 模式库\u003c/b\u003e\u003c/blockquote\u003e\u003cp data-pid=\"hHGP15IO\"\u003e这个转化过程，每一步都离不开\u003cb\u003e“学习、实践、总结复盘”\u003c/b\u003e。简单说就是：\u003c/p\u003e\u003col\u003e\u003cli data-pid=\"GjnqiPy5\"\u003e\u003cb\u003e资料库\u003c/b\u003e：就是你平时收集的各种原始信息，还很零散。\u003c/li\u003e\u003cli data-pid=\"NMCWagmX\"\u003e\u003cb\u003e知识库\u003c/b\u003e：通过主题阅读和学习，对资料进行归类整理，形成了初步的知识结构。\u003c/li\u003e\u003cli data-pid=\"7fSx2Nvr\"\u003e\u003cb\u003e经验库\u003c/b\u003e：把学到的知识用到实际工作中去（实践），然后总结经验教训（复盘），这时候知识才开始变成你自己的经验。\u003c/li\u003e\u003cli data-pid=\"JipBkJh7\"\u003e\u003cb\u003e模式库\u003c/b\u003e：在某个领域长期大量实践，不断复盘，最终形成自己分析和解决问题的方法论和套路，这就是最高境界了。\u003c/li\u003e\u003c/ol\u003e\u003cp data-pid=\"27Hkxnvq\"\u003e在这里大家一定要注意复盘的重要性，复盘包括了单一项目或单一事件的复盘，更加重要的式一段时间自己定期发起的周期性复盘。这种复盘往往才能够完成知识的进一步抽象和体系化关联工作。\u003cb\u003e理论不能转理论，自我证悟最重要。\u003c/b\u003e知识如果不实践和复盘，那就是单纯的资料库，这个资料库对你并没有太大的价值，这个资料库更加不会自己完成知识的关联。\u003c/p\u003e\u003cp data-pid=\"V7FgwoyF\"\u003e通过这样周期性复盘，我们就能把那些通过学习和实践获得的零散的知识点、经验点，进行提炼、升华，逐步内化成自己思维模式和能力体系的一部分。这个过程，就是把碎片化的知识真正融入自己身体的过程，让它们从“别人的东西”变成“自己的东西”。\u003c/p\u003e\u003ch3\u003e四、 通过AI构建智能知识库\u003c/h3\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic2.zhimg.com/v2-dabf4b1c7662e5435f42d0358ba7f88b_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"1024\" data-rawheight=\"435\" data-original-token=\"v2-dabf4b1c7662e5435f42d0358ba7f88b\" class=\"origin_image zh-lightbox-thumb\" width=\"1024\" data-original=\"https://pic2.zhimg.com/v2-dabf4b1c7662e5435f42d0358ba7f88b_r.jpg\"/\u003e\u003cfigcaption\u003eimage4\u003c/figcaption\u003e\u003c/figure\u003e\u003cp data-pid=\"93WBiPqX\"\u003e在AI和大模型时代，一定要善于使用各种AI工具，智能知识库工具来方面我进行碎片化知识的管理，加工和利用。\u003cb\u003e类似Ima知识库\u003c/b\u003e这样的工具，在收集、整理、检索信息方面，效率比我们自己处理高出很多。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-e1e8ba8d14d02a9ec44a6d86f4cc5160_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"691\" data-original-token=\"v2-e1e8ba8d14d02a9ec44a6d86f4cc5160\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://pic1.zhimg.com/v2-e1e8ba8d14d02a9ec44a6d86f4cc5160_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"R00jiVWj\"\u003e当前Ima知识库本身已经接入了DeepSeek深度思考大模型，通过知识库问答的结果来看，整个思考逻辑和输出都相当完整。\u003c/p\u003e\u003cp data-pid=\"W75lzM9S\"\u003e知识库本身又是和AI智能笔记联动的，可以很方便的将知识库问答的结果转存到我们的笔记中。也可以将我们写好的笔记内容一键发布到知识库里面去。包括我在上篇文章也提到了，你看到的微信群好资料，你觉得不错的公众号文章，都提供了很方便的方式导入到你的知识库中。\u003c/p\u003e\u003cp data-pid=\"kk3opvge\"\u003e那么如何构建？实际的方式仍然分两个关键步骤。\u003c/p\u003e\u003cp data-pid=\"2fLUQ9HB\"\u003e\u003cb\u003e第一步首先你要将你的文章或笔记转换为pdf文件\u003c/b\u003e。类似我今日头条的文章，我就通过cursor写的爬虫程序自动采集并转换为独立的pdf文档。类似公众号，我使用了网上一款免费的工具来帮我导出公众号文章来形成独立的pdf文件。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pica.zhimg.com/v2-7e7d98b28bef89d2acd7cebf6f88dbec_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"851\" data-rawheight=\"850\" data-original-token=\"v2-5e3f21ea17532de1b7cfbd156a8f68ec\" data-default-watermark-src=\"https://picx.zhimg.com/v2-fc480475813b9a856844fb56f2915fe9_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"851\" data-original=\"https://pica.zhimg.com/v2-7e7d98b28bef89d2acd7cebf6f88dbec_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"xLwewpu0\"\u003e\u003cb\u003e第二步就是通过桌面端的Ima知识库工具，批量上传你的本地文档。\u003c/b\u003e上传完成后ima知识库会自动化进行解析和向量化处理。（注意这些文档资料是会上传到云端的，如果有严格隐私要求不要使用。）\u003c/p\u003e\u003cp data-pid=\"6kz6OFkF\"\u003e在我处理完成后，我构建了一个名称为【人月聊IT知识库】的共享知识库，里面包括了我最近7到8年的近800篇文章。后期我还准备将我个人06年开始在新浪博客写作的近4000篇文章整理后导入。在处理完成后就形成了一个对自己相当有用的AI智能知识库。\u003c/p\u003e\u003cp data-pid=\"7zq2-AzE\"\u003e个人整体使用下来感觉整个知识库，特别是结合了DeepSeek深度思考和推理模型后，输出结果相当强大。知识库会详细的分析和你提出问题相关的文章，并按特定的逻辑结果进行整理后输出。而人的记忆力是有限的，有时候我都觉得同样的问题，你如果实时问我，我可能都无法回答的如此清晰和完整。\u003c/p\u003e\u003cp data-pid=\"FPLI-W9a\"\u003e所以，大胆去尝试和使用这些AI知识管理工具，这些工具可以帮助你更加方便快捷的将知识点之间串联起来，而不是类似传统知识管理笔记的方式需要大量个人去建立双向链接。\u003c/p\u003e\u003cp data-pid=\"75YfRjuE\"\u003e五、 构建知识网络和知识图谱\u003c/p\u003e\u003cp data-pid=\"3u2FEkmf\"\u003e这个我专门开一个小标题来讲，因为在AI辅助下面要构建知识网络和知识图谱比原来容易很多。\u003c/p\u003e\u003cp data-pid=\"M1lDS0wm\"\u003e而随着AI智能知识库的出现，构建个人可视化知识图谱将变得更加更加容易。在前几天，我将我个人知识库【人月聊IT知识库】又增加了我从2006年开始在新浪写博客的近2000多篇文章。覆盖了类似我最近几年谈的比较少的类似软件工程，IT项目管理，RUP，敏捷开发，IPD， CMMI等方面的知识。\u003cu\u003e具体知识库的免费加入方法可以参考这篇文章后面我附加的知识库二维码加入。\u003c/u\u003e\u003c/p\u003e\u003cp data-pid=\"dK5MNqCi\"\u003e今天这篇文章重点还是想讲下如何基于你历史文章大量输出，来帮助你构建知识图谱。\u003c/p\u003e\u003cp data-pid=\"tZmq5FJa\"\u003e\u003cb\u003e为何要构建这个知识图谱？\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"M7BCh11Y\"\u003e\u003cu\u003e这个知识图谱体现的核心实体和关键词，包括实体间连接实际就是你以往多年学习实践经验积累的高度浓缩。是你个人知识竞争力的核心，也是你知识框架结构的骨架。\u003c/u\u003e只要你随时把握住这个核心架构，那么就完全具备知识泛化和举一反三的能力。\u003c/p\u003e\u003cp data-pid=\"nASo31U3\"\u003e言归正传，先问下DeepSeek它自己支持哪些知识图谱工具并输出源代码文件的，最终得到如下结果。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-695c99f1721723bea1be3198a08da784_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"895\" data-rawheight=\"404\" data-original-token=\"v2-18fa6f7be3993d9779210b968bc5d01f\" data-default-watermark-src=\"https://pic3.zhimg.com/v2-7845aed9ea98d248d95deffd4a7ef642_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"895\" data-original=\"https://pic1.zhimg.com/v2-695c99f1721723bea1be3198a08da784_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"kExYivlq\"\u003e可以看到，常见的类似D3, Gephi，Neo4j这些知识图谱构建工具和图数据库基本都支持输出对应的源代码。\u003c/p\u003e\u003cp data-pid=\"_t5tHJre\"\u003e其中最简单的还是Cytoscape.js，可以直接帮你生成html代码，你直接运行代码即可以看到知识图谱的展示，比如下面是一个简单展示。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-d94558b7e5a0c7e7c722e84404dd506b_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"875\" data-rawheight=\"555\" data-original-token=\"v2-fd1c3a2c01495e8d875765de2981b478\" data-default-watermark-src=\"https://pic1.zhimg.com/v2-cc71bb810dfeab3a798504d8c843deb4_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"875\" data-original=\"https://picx.zhimg.com/v2-d94558b7e5a0c7e7c722e84404dd506b_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"VpiG6Tu1\"\u003e而我们这次的重点是希望ima知识库能够在充分理解我上传的个人文章和笔记后，帮我生成特定领域的知识图谱，这个知识图谱实际是我个人经验的高度浓缩。因此我拿思维这个主题来进行验证和测试。\u003c/p\u003e\u003cp data-pid=\"GDfc0z2s\"\u003e具体问ima的提示语如下：\u003c/p\u003e\u003cp data-pid=\"reYCah9u\"\u003e请帮我整理和思维相关的所有关键词，并理清这些关键词的关系，类似思维，逻辑，认识事物，解决问题，学习，实践，复盘，知识库，经验库，归纳，演绎等。注意关键词在2个字到5个字之间。 然后基于上面分析帮我构建知识图谱。 我需要用neo4j来构建，所以你直接返回可以直接运行的Neo4j Cypher 代码给我。\u003c/p\u003e\u003cp data-pid=\"-IOfQmp7\"\u003e基于以上问题，ima找到我知识库里面40多篇文章进行总结和分析，包括给出了详细的推理和思考过程。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pica.zhimg.com/v2-1ece64961277f30cc7b0775e305b17ba_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"7359\" data-original-token=\"v2-5af1cb645d04a104a9b037c79646e4e9\" data-default-watermark-src=\"https://picx.zhimg.com/v2-58d9e4dd60124ac4b6d0e2ea516e900f_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://pica.zhimg.com/v2-1ece64961277f30cc7b0775e305b17ba_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"ds33txHv\"\u003e有了这个源代码后，我们进入到neo4j官网。在这里你既可以下载destop桌面版本，也可以直接使用在线版本进行测试。在进入到在线版本界面后点击工具材料里面的Query菜单，然后在命令行工具那里输入具体的脚本命令，即可以完成知识图谱的创建。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-de5f0e416d0f96cc18c0c52b7efafe8f_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"559\" data-original-token=\"v2-a80c638666f36cc15bc139140772f331\" data-default-watermark-src=\"https://pic3.zhimg.com/v2-9fce32358024bcb5a503c917248ff110_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://picx.zhimg.com/v2-de5f0e416d0f96cc18c0c52b7efafe8f_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"vNR277G4\"\u003e可以看到，命令脚本会帮我们生成完整的实体和实体之间的连接，我们可以很方面的浏览到思维相关的知识图谱网络图。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-70e07f5d30e7ba5bf93138a804a9047f_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"575\" data-original-token=\"v2-ca58159addceb8415ca8305c115cbc85\" data-default-watermark-src=\"https://pic1.zhimg.com/v2-34b8490af654745985e1e15489af481e_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://picx.zhimg.com/v2-70e07f5d30e7ba5bf93138a804a9047f_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"wMXsMU6W\"\u003e从实际的结果来看，整个AI分析的实体和关系基本正确。能够将我文档里面核心高频词汇全部整理出来。当然这个离我理想化的知识图谱还有差距。包括ima知识库没有检索到我所有和思维相关的文章。包括类似思维2到3层级的一些关键词没有识别和提取等。\u003c/p\u003e\u003ch3\u003e接着再讲下DeepSeek构建的知识图谱\u003c/h3\u003e\u003cp data-pid=\"kOU3bCXS\"\u003e这种方式式通过直接通过创建 html+svg网页的方式来直接构建某一个核心主题概念的知识图谱。\u003c/p\u003e\u003cp data-pid=\"_WmPIz6a\"\u003e首先我先反思下我原来基于大模型能力经常做的事情，就是快速的基于某一个核心概念构建这个概念下的思维导图Markdown文件，然后再通过思维导图工具将其转换为可视化思维导图。\u003c/p\u003e\u003cp data-pid=\"6caJiy5e\"\u003e类似我当时借助AI很简单的即可实现微服务架构知识结构思维导图：\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-ad2d2edc46066efca8155589abc42822_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"722\" data-original-token=\"v2-ad2d2edc46066efca8155589abc42822\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://pic1.zhimg.com/v2-ad2d2edc46066efca8155589abc42822_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"E8pB8yCn\"\u003e但是大家注意，这里面的关键问题在哪里？\u003c/p\u003e\u003cp data-pid=\"rEWrakCz\"\u003e这个我前面谈个人知识管理，知识体系结构搭建的文章一再强调。知识体系结构不应该是一个简单的单一维度树状展开结构。知识结构更加应该是一个矩阵式或多维的知识结构或知识网络，类似我们经常说的知识图谱。\u003c/p\u003e\u003cp data-pid=\"LJdRAV6T\"\u003e简单来说\u003cb\u003e知识网络=知识树+知识点之间的关联\u003c/b\u003e。\u003c/p\u003e\u003cp data-pid=\"Vmn3x5hb\"\u003e这样的知识网络起到的关键作用就是能够很好的表达出知识点之间的关系。实际这种关系本身还包括了简单的关联关系，包含和从属关系，因果关系，前后依赖关系等。有了这种知识关联结构，往往更加方面我们指定熟悉某一个新领域的学习路线规划，包括知识之间的融会贯通。\u003c/p\u003e\u003cp data-pid=\"_oVJPmNS\"\u003e今天我在知乎看到一个问题，就是希望了解哲学包括了哪些概念？这些概念之间究竟有什么关系？\u003c/p\u003e\u003cp data-pid=\"4lPuWAEn\"\u003e当我们看到这个问题的时候一下又让我想到了知识图谱和知识网络结构，那么是否可以通过AI用SVG绘图的方式来快速的构建这种知识网络结构呢？\u003c/p\u003e\u003cp data-pid=\"h_DyOKDc\"\u003e想到这里后，按我老思路我仍然先用Claude4.0进行了尝试，原因是原来我在使用DeepSeek和Claude两个AI工具的时候，Claude在SVG图绘制上面具有明显的优势。\u003c/p\u003e\u003cp data-pid=\"1eNhEdiw\"\u003e因此基于哲学这个问题，我给出提示语如下：\u003c/p\u003e\u003cp data-pid=\"k2fcmHoJ\"\u003e\u003cu\u003e请列出西方哲学里面的核心概念，这些概念类似存在，认识，逻辑，归纳，演绎，方法论，物质，意识，本体，思考，辩证，感性，理性，形而上学，伦理等等。同时给出这些核心概念的简单解释，同时给出这些核心概念之间相互的关系，这些关系包括了包含关系，从属关系，依赖关系，因果关系，相互作用关系等。我希望将这些核心概念形成一个类似知识图谱的知识关系图，同时用svg绘图的方式给出源代码给我。这个知识关系图体现了知识本身的分层（类似一个概念下包含子概念等），同时体现了核心知识点之间的关联和依赖关系。\u003c/u\u003e\u003c/p\u003e\u003cp data-pid=\"BU8BeswI\"\u003e基于这个提示语，Claude给我输出内容规划如下：\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-2667434ad675c0e44995e271b8ee8e18_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"949\" data-original-token=\"v2-2667434ad675c0e44995e271b8ee8e18\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://pic1.zhimg.com/v2-2667434ad675c0e44995e271b8ee8e18_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"VeQhKP5c\"\u003e当我看到这个图的时候，第一眼感觉基本实现了我的需求，但是整体布局展示，逻辑关系不够完美。\u003c/p\u003e\u003cp data-pid=\"sUIEbU85\"\u003e大家都知识我对AI的尝试一遍都是同一件事一定会尝试多个不同的工具进行分析比较，找到各个工具各自擅长的内容。因此我又用同样的提示词采用DeepSeek R1模型进行了第二次尝试。\u003c/p\u003e\u003cp data-pid=\"uM7Bair2\"\u003e可以看下DeepSeek的概念和内容理解输出如下：\u003c/p\u003e\u003ch3\u003e\u003cb\u003e一、本体论核心概念\u003c/b\u003e\u003c/h3\u003e\u003col\u003e\u003cli data-pid=\"KT_uLI2C\"\u003e\u003cb\u003e存在 (Being)\u003c/b\u003e\u003c/li\u003e\u003c/ol\u003e\u003cul\u003e\u003cli data-pid=\"6bNyIrw-\"\u003e指事物最根本的实在性，探究\u0026#34;何物存在\u0026#34;及\u0026#34;存在的本质\u0026#34;。\u003c/li\u003e\u003cli data-pid=\"IBQU8EA5\"\u003e\u003cb\u003e本体 (Substance)\u003c/b\u003e\u003c/li\u003e\u003cli data-pid=\"3YOMLh65\"\u003e独立存在的实体，是属性的承载者（如亚里士多德的\u0026#34;第一本体\u0026#34;）。\u003c/li\u003e\u003cli data-pid=\"V2nvteJ_\"\u003e\u003cb\u003e物质 (Matter)\u003c/b\u003e\u003c/li\u003e\u003cli data-pid=\"bW812g3Y\"\u003e客观实在的物理基础，与\u0026#34;意识\u0026#34;相对（唯物论核心）。\u003c/li\u003e\u003cli data-pid=\"HygUxikl\"\u003e\u003cb\u003e意识 (Consciousness)\u003c/b\u003e\u003c/li\u003e\u003cli data-pid=\"UkrV963V\"\u003e主观体验与认知能力（唯心论认为意识先于物质）。\u003c/li\u003e\u003cli data-pid=\"Mr1ZlcOJ\"\u003e\u003cb\u003e形而上学 (Metaphysics)\u003c/b\u003e\u003c/li\u003e\u003cli data-pid=\"Q3ET3kOA\"\u003e研究超越经验的终极实在，包含存在、本体、宇宙本质等。\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"aPGbdfe2\"\u003e\u003cb\u003e关系\u003c/b\u003e：\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"kzn2fuBb\"\u003e\u003cb\u003e形而上学\u003c/b\u003e是容纳存在、本体、物质、意识的\u003cb\u003e总框架\u003c/b\u003e。\u003c/li\u003e\u003cli data-pid=\"PuZRaPB-\"\u003e\u003cb\u003e物质与意识\u003c/b\u003e构成哲学基本问题（一元论/二元论之争）。\u003c/li\u003e\u003cli data-pid=\"hZvecx-K\"\u003e\u003cb\u003e本体\u003c/b\u003e是解释\u003cb\u003e存在\u003c/b\u003e的具体载体（如笛卡尔的\u0026#34;心灵与物体\u0026#34;）。\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e\u003cb\u003e二、认识论核心概念\u003c/b\u003e\u003c/h3\u003e\u003col\u003e\u003cli data-pid=\"9wQmS38r\"\u003e\u003cb\u003e认识 (Epistemology)\u003c/b\u003e\u003c/li\u003e\u003c/ol\u003e\u003cul\u003e\u003cli data-pid=\"_AODjGeL\"\u003e研究知识的来源、限度和确定性。\u003c/li\u003e\u003cli data-pid=\"e54SIAhU\"\u003e\u003cb\u003e感性 (Sensation/Perception)\u003c/b\u003e\u003c/li\u003e\u003cli data-pid=\"lkDlPHhe\"\u003e通过感官获取经验（如休谟的\u0026#34;印象\u0026#34;）。\u003c/li\u003e\u003cli data-pid=\"kNEYHe7Q\"\u003e\u003cb\u003e理性 (Reason)\u003c/b\u003e\u003c/li\u003e\u003cli data-pid=\"VvmLr5xf\"\u003e通过逻辑推演获得知识（如笛卡尔的\u0026#34;天赋观念\u0026#34;）。\u003c/li\u003e\u003cli data-pid=\"PG3M-rF7\"\u003e\u003cb\u003e思考 (Thought)\u003c/b\u003e\u003c/li\u003e\u003cli data-pid=\"CnNomnrd\"\u003e意识的主动加工过程，涵盖感性与理性。\u003c/li\u003e\u003cli data-pid=\"xkav-y9L\"\u003e\u003cb\u003e方法论 (Methodology)\u003c/b\u003e\u003c/li\u003e\u003cli data-pid=\"AP9NyN4U\"\u003e系统化的认知路径（如笛卡尔的怀疑法）。\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"vyCHX2PI\"\u003e\u003cb\u003e关系\u003c/b\u003e：\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"BP1HDxla\"\u003e\u003cb\u003e认识论\u003c/b\u003e以\u003cb\u003e方法论\u003c/b\u003e为工具，探究\u003cb\u003e感性与理性\u003c/b\u003e如何协作生成知识。\u003c/li\u003e\u003cli data-pid=\"ybNVnyTf\"\u003e\u003cb\u003e思考\u003c/b\u003e是感性与理性的\u003cb\u003e整合过程\u003c/b\u003e。\u003c/li\u003e\u003cli data-pid=\"qQDwzhX1\"\u003e理性主义（强调理性）vs 经验主义（强调感性）构成认识论主线。\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e\u003cb\u003e三、逻辑与方法论核心概念\u003c/b\u003e\u003c/h3\u003e\u003col\u003e\u003cli data-pid=\"9nLQkArU\"\u003e\u003cb\u003e逻辑 (Logic)\u003c/b\u003e\u003c/li\u003e\u003c/ol\u003e\u003cul\u003e\u003cli data-pid=\"R_Zh6I9U\"\u003e推理的有效性规则（如三段论）。\u003c/li\u003e\u003cli data-pid=\"pgcJ43Ny\"\u003e\u003cb\u003e演绎 (Deduction)\u003c/b\u003e\u003c/li\u003e\u003cli data-pid=\"emrRfTOI\"\u003e从一般前提推出个别结论（必然性推理）。\u003c/li\u003e\u003cli data-pid=\"l8H5wXE8\"\u003e\u003cb\u003e归纳 (Induction)\u003c/b\u003e\u003c/li\u003e\u003cli data-pid=\"ja-vSyho\"\u003e从个别观察推出普遍结论（或然性推理）。\u003c/li\u003e\u003cli data-pid=\"aGr9ERt0\"\u003e\u003cb\u003e辩证 (Dialectic)\u003c/b\u003e\u003c/li\u003e\u003cli data-pid=\"RyMvf2Da\"\u003e通过矛盾对立达成真理（黑格尔的\u0026#34;正-反-合\u0026#34;）。\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"jICpguqz\"\u003e\u003cb\u003e关系\u003c/b\u003e：\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"RIFv0pnR\"\u003e\u003cb\u003e逻辑\u003c/b\u003e是\u003cb\u003e演绎与归纳\u003c/b\u003e的\u003cb\u003e基础规则\u003c/b\u003e。\u003c/li\u003e\u003cli data-pid=\"yz-DWIej\"\u003e\u003cb\u003e演绎\u003c/b\u003e为形而上学提供确定性（如斯宾诺莎的几何学方法），\u003cb\u003e归纳\u003c/b\u003e支撑科学实证（如培根）。\u003c/li\u003e\u003cli data-pid=\"pVZ33nE7\"\u003e\u003cb\u003e辩证\u003c/b\u003e是动态逻辑，解决概念矛盾（如马克思的唯物辩证法）。\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e\u003cb\u003e四、价值论核心概念\u003c/b\u003e\u003c/h3\u003e\u003col\u003e\u003cli data-pid=\"yNfJWADV\"\u003e\u003cb\u003e伦理 (Ethics)\u003c/b\u003e\u003c/li\u003e\u003c/ol\u003e\u003cul\u003e\u003cli data-pid=\"R1spXMLT\"\u003e研究道德价值与行为规范（如康德的\u0026#34;绝对命令\u0026#34;）。\u003c/li\u003e\u003cli data-pid=\"XfB3DJMj\"\u003e\u003cb\u003e价值 (Value)\u003c/b\u003e\u003c/li\u003e\u003cli data-pid=\"avxRFJVX\"\u003e事物的重要性判断（道德、审美等）。\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"egse3ATB\"\u003e\u003cb\u003e关系\u003c/b\u003e：\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"ruIf3496\"\u003e\u003cb\u003e伦理\u003c/b\u003e是\u003cb\u003e价值\u003c/b\u003e在道德领域的\u003cb\u003e具体化\u003c/b\u003e。\u003c/li\u003e\u003cli data-pid=\"mCNHQ3LN\"\u003e价值论依赖\u003cb\u003e形而上学\u003c/b\u003e（何为善？）和\u003cb\u003e认识论\u003c/b\u003e（如何认识善？）。\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e\u003cb\u003e五、概念间关系总表\u003c/b\u003e\u003c/h3\u003e\u003ctable data-draft-node=\"block\" data-draft-type=\"table\" data-size=\"normal\" data-row-style=\"normal\"\u003e\u003ctbody\u003e\u003ctr\u003e\u003cth\u003e关系类型\u003c/th\u003e\u003cth\u003e示例\u003c/th\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e层级包含\u003c/td\u003e\u003ctd\u003e形而上学 ⊃ 存在论/本体论；认识论 ⊃ 感性与理性\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e对立统一\u003c/td\u003e\u003ctd\u003e物质↔意识（本体论）；感性↔理性（认识论）；演绎↔归纳（方法论）\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e依赖关系\u003c/td\u003e\u003ctd\u003e方法论依赖逻辑；伦理依赖价值论；认识论依赖形而上学预设\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e因果/推动\u003c/td\u003e\u003ctd\u003e逻辑危机推动分析哲学（如罗素）；认识论危机催生现象学（如胡塞尔）\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e工具性支持\u003c/td\u003e\u003ctd\u003e逻辑支撑形而上学体系；辩证法为历史哲学提供方法论\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003cp data-pid=\"5elWAMbe\"\u003e好了到这里没有完，最终输出的SVG知识图谱如下：\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-f7f520dc4a1f052c4b8fc605e9a8c118_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"853\" data-original-token=\"v2-f7f520dc4a1f052c4b8fc605e9a8c118\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://pic1.zhimg.com/v2-f7f520dc4a1f052c4b8fc605e9a8c118_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"UBGGj5d0\"\u003e注意这是一个完整的网页，中间是知识图谱的可视化，而且整个网页提供了知识图谱说明，还提供了层级展示，辐射展示，力导向图多种展示方式可以选择，中间部分放大图如下：\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-236246b860ce77c9c101e7889534cb06_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"725\" data-original-token=\"v2-236246b860ce77c9c101e7889534cb06\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://pic1.zhimg.com/v2-236246b860ce77c9c101e7889534cb06_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"0OAf-Uq9\"\u003e这个输出说实话惊讶到我了，我还没有做进一步的提示词精细化。DeepSeek的输出结果明显好于Claude。而且这个知识网络图可以更加方面我们在切入一个新领域的时候，快速的沟通知识体系网络，并指定相应的学习计划。\u003c/p\u003e\u003cp data-pid=\"8sYB10HT\"\u003e这个本质就是对传统思维导图方式构建知识体系结构的一个升级。我们需要的不是简单的知识树，而是需要的知识依赖关系，知识关联网络，这个才是我们横向打通各个知识点的关键。\u003c/p\u003e\u003cp data-pid=\"3-L63c-c\"\u003e这个打通的本质是什么？\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic4.zhimg.com/v2-61ce33eb8411773ca70a30d8b0f36321_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"684\" data-original-token=\"v2-61ce33eb8411773ca70a30d8b0f36321\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://pic4.zhimg.com/v2-61ce33eb8411773ca70a30d8b0f36321_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"7Bery4C1\"\u003e我们可以回顾下我前面专门谈到过的知识组装这篇文章。任何一个专业领域往往都是问题和场景，场景下面是知识，知识下面是概念，概念下面是逻辑。也就是我要熟悉一个新领域，核心就是理解关键概念，包括概念和概念之间的关系。那么这些可复用的知识点就可以快速的组合形成我们对核心领域知识的全局了解，这个才是我们学习的本质。\u003c/p\u003e\u003cp data-pid=\"N28oJlXj\"\u003e为了尝试这个方法的有效性。\u003c/p\u003e\u003cp data-pid=\"CgRSgB76\"\u003e我接着又用云原生这个核心知识域进行了验证，输出知识图谱如下：\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-0fe1872e2d3f9bc320b432ab50ea7423_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"807\" data-original-token=\"v2-0fe1872e2d3f9bc320b432ab50ea7423\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://picx.zhimg.com/v2-0fe1872e2d3f9bc320b432ab50ea7423_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"RSUn7PwE\"\u003e本知识图谱展示了云原生技术体系的核心概念及其相互关系。图中包含四个主要层级：\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"ULxrpnB_\"\u003e基础设施层（蓝色）：容器化、不可变基础设施等基础技术\u003c/li\u003e\u003cli data-pid=\"B6Roc8s1\"\u003e编排管理层（绿色）：Kubernetes、服务网格等编排技术\u003c/li\u003e\u003cli data-pid=\"BGASXaKe\"\u003e应用开发层（紫色）：微服务、Serverless等应用架构\u003c/li\u003e\u003cli data-pid=\"3cCLl6Gm\"\u003e贯穿体系（橙色）：DevOps、可观测性等支撑体系\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"O9VL8FHY\"\u003e接着在用企业架构做验证，提示语我做了额外要求如下：\u003c/p\u003e\u003cp data-pid=\"jJ8mcATr\"\u003e\u003cu\u003e好的，非常好。我希望你也同样的方式，帮我输出企业架构这个概念的知识图谱，同样体现核心概念和概念间的相互关系，页面的设计和前面哲学，云原生的知识图谱输出类似。我需要你参考TOGAF企业架构知识体系的元模型作为核心概念和子概念来输出这个可视化知识图谱。\u003c/u\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pica.zhimg.com/v2-0aaa183c9a442f44a24d07a3c9dba15a_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1080\" data-rawheight=\"831\" data-original-token=\"v2-0aaa183c9a442f44a24d07a3c9dba15a\" class=\"origin_image zh-lightbox-thumb\" width=\"1080\" data-original=\"https://pica.zhimg.com/v2-0aaa183c9a442f44a24d07a3c9dba15a_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"xtwCsIQ2\"\u003e本图谱严格遵循TOGAF 10企业元模型标准，包含：\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"OboRZGG1\"\u003e通用实体层（橙色）：战略驱动要素\u003c/li\u003e\u003cli data-pid=\"IJL9VtDL\"\u003e业务架构层（黄色）：业务能力与流程\u003c/li\u003e\u003cli data-pid=\"ITDaBDjd\"\u003e数据架构层（紫色）：企业数据资产结构\u003c/li\u003e\u003cli data-pid=\"--VUuUQ9\"\u003e应用架构层（绿色）：应用系统蓝图\u003c/li\u003e\u003cli data-pid=\"aoX8zF7D\"\u003e技术架构层（蓝色）：技术基础设施\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"wDS0rf-8\"\u003e点击节点查看详细定义，拖动节点探索架构关系。关系类型说明：\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"pdafsgdA\"\u003e绿色实线：包含关系（如业务架构包含业务流程）\u003c/li\u003e\u003cli data-pid=\"H56tqenn\"\u003e蓝色虚线：依赖关系（如应用架构依赖数据架构）\u003c/li\u003e\u003cli data-pid=\"TwIKEphM\"\u003e黄色实线：影响关系（战略目标影响业务能力）\u003c/li\u003e\u003cli data-pid=\"uOp1QLPo\"\u003e紫色实线：实现关系（技术组件实现应用服务）\u003c/li\u003e\u003c/ul\u003e\u003cp data-pid=\"1QOZWFM4\"\u003e最后我们给出哲学这个知识图片的完整源代码，你可以拷贝另外到本地扩展名为html的文件，然后浏览器打开看下效果。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-text\"\u003e\u0026lt;!DOCTYPE html\u0026gt;\n\u0026lt;html lang=\u0026#34;zh-CN\u0026#34;\u0026gt;\n\u0026lt;head\u0026gt;\n    \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt;\n    \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt;\n    \u0026lt;title\u0026gt;西方哲学核心概念知识图谱\u0026lt;/title\u0026gt;\n    \u0026lt;script src=\u0026#34;https://d3js.org/d3.v7.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;style\u0026gt;\n        body {\n            font-family: \u0026#39;Segoe UI\u0026#39;, Tahoma, Geneva, Verdana, sans-serif;\n            background: linear-gradient(135deg, #1a2a6c, #2c3e50);\n            margin: 0;\n            padding: 20px;\n            color: #fff;\n            min-height: 100vh;\n        }\n        .container {\n            max-width: 1400px;\n            margin: 0 auto;\n        }\n        header {\n            text-align: center;\n            padding: 20px;\n            margin-bottom: 30px;\n        }\n        h1 {\n            font-size: 2.8rem;\n            margin-bottom: 10px;\n            text-shadow: 0 2px 4px rgba(0,0,0,0.3);\n            background: linear-gradient(to right, #3498db, #2ecc71);\n            -webkit-background-clip: text;\n            -webkit-text-fill-color: transparent;\n        }\n        .subtitle {\n            font-size: 1.2rem;\n            color: #bdc3c7;\n            max-width: 800px;\n            margin: 0 auto;\n            line-height: 1.6;\n        }\n        .content {\n            display: flex;\n            gap: 30px;\n        }\n        #philosophy-graph {\n            flex: 3;\n            background: rgba(0, 0, 0, 0.4);\n            border-radius: 15px;\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);\n            padding: 20px;\n            height: 700px;\n        }\n        .info-panel {\n            flex: 1;\n            background: rgba(30, 40, 70, 0.8);\n            border-radius: 15px;\n            padding: 25px;\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);\n        }\n        .info-panel h2 {\n            color: #3498db;\n            border-bottom: 2px solid #3498db;\n            padding-bottom: 10px;\n            margin-top: 0;\n        }\n        .concept-info {\n            background: rgba(25, 35, 65, 0.7);\n            border-left: 4px solid #3498db;\n            padding: 15px;\n            margin-bottom: 20px;\n            border-radius: 0 8px 8px 0;\n        }\n        .legend {\n            display: grid;\n            grid-template-columns: repeat(2, 1fr);\n            gap: 15px;\n            margin-top: 30px;\n        }\n        .legend-item {\n            display: flex;\n            align-items: center;\n            margin-bottom: 10px;\n        }\n        .legend-color {\n            width: 20px;\n            height: 20px;\n            margin-right: 10px;\n            border-radius: 4px;\n        }\n        .controls {\n            display: flex;\n            justify-content: center;\n            gap: 15px;\n            margin: 25px 0;\n        }\n        button {\n            background: #3498db;\n            color: white;\n            border: none;\n            padding: 10px 20px;\n            border-radius: 5px;\n            cursor: pointer;\n            font-weight: 600;\n            transition: all 0.3s ease;\n        }\n        button:hover {\n            background: #2980b9;\n            transform: translateY(-2px);\n            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n        }\n        .node {\n            cursor: pointer;\n            transition: all 0.3s ease;\n        }\n        .node text {\n            font-weight: 600;\n            text-shadow: 0 1px 3px rgba(0,0,0,0.8);\n        }\n        .node:hover {\n            filter: brightness(1.2);\n            transform: scale(1.05);\n        }\n        .link {\n            stroke: #7f8c8d;\n            stroke-width: 2px;\n            stroke-opacity: 0.6;\n        }\n        .link.dependency {\n            stroke: #3498db;\n            stroke-dasharray: 5,5;\n        }\n        .link.containment {\n            stroke: #2ecc71;\n            stroke-width: 3px;\n        }\n        .link.influence {\n            stroke: #f1c40f;\n        }\n        .link.opposition {\n            stroke: #e74c3c;\n            stroke-dasharray: 8,4;\n        }\n        .tooltip {\n            position: absolute;\n            background: rgba(0, 0, 0, 0.85);\n            border: 1px solid #3498db;\n            border-radius: 8px;\n            padding: 15px;\n            color: white;\n            pointer-events: none;\n            max-width: 300px;\n            z-index: 10;\n            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);\n        }\n        .tooltip h3 {\n            color: #3498db;\n            margin-top: 0;\n            margin-bottom: 10px;\n        }\n        footer {\n            text-align: center;\n            margin-top: 30px;\n            color: #95a5a6;\n            font-size: 0.9rem;\n        }\n    \u0026lt;/style\u0026gt;\n\u0026lt;/head\u0026gt;\n\u0026lt;body\u0026gt;\n    \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt;\n        \u0026lt;header\u0026gt;\n            \u0026lt;h1\u0026gt;西方哲学核心概念知识图谱\u0026lt;/h1\u0026gt;\n            \u0026lt;p class=\u0026#34;subtitle\u0026#34;\u0026gt;本图谱展示了西方哲学中的核心概念及其相互关系，包括层级结构、依赖关系、对立统一等。点击概念节点可查看详细信息，拖动可探索图谱结构。\u0026lt;/p\u0026gt;\n        \u0026lt;/header\u0026gt;\n        \u0026lt;div class=\u0026#34;controls\u0026#34;\u0026gt;\n            \u0026lt;button id=\u0026#34;arrange-hierarchical\u0026#34;\u0026gt;层级排列\u0026lt;/button\u0026gt;\n            \u0026lt;button id=\u0026#34;arrange-radial\u0026#34;\u0026gt;辐射排列\u0026lt;/button\u0026gt;\n            \u0026lt;button id=\u0026#34;arrange-force\u0026#34;\u0026gt;力导向排列\u0026lt;/button\u0026gt;\n            \u0026lt;button id=\u0026#34;reset-view\u0026#34;\u0026gt;重置视图\u0026lt;/button\u0026gt;\n        \u0026lt;/div\u0026gt;\n        \u0026lt;div class=\u0026#34;content\u0026#34;\u0026gt;\n            \u0026lt;div id=\u0026#34;philosophy-graph\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\n            \u0026lt;div class=\u0026#34;info-panel\u0026#34;\u0026gt;\n                \u0026lt;h2\u0026gt;哲学概念说明\u0026lt;/h2\u0026gt;\n                \u0026lt;div id=\u0026#34;concept-details\u0026#34;\u0026gt;\n                    \u0026lt;div class=\u0026#34;concept-info\u0026#34;\u0026gt;\n                        \u0026lt;h3\u0026gt;知识图谱说明\u0026lt;/h3\u0026gt;\n                        \u0026lt;p\u0026gt;本知识图谱展示了西方哲学中的核心概念及其相互关系。图中包含四个主要领域：\u0026lt;/p\u0026gt;\n                        \u0026lt;ul\u0026gt;\n                            \u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;形而上学\u0026lt;/strong\u0026gt;（紫色）：研究存在的本质\u0026lt;/li\u0026gt;\n                            \u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;认识论\u0026lt;/strong\u0026gt;（蓝色）：研究知识的本质\u0026lt;/li\u0026gt;\n                            \u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;逻辑与方法论\u0026lt;/strong\u0026gt;（绿色）：研究推理与思维方法\u0026lt;/li\u0026gt;\n                            \u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;价值论\u0026lt;/strong\u0026gt;（橙色）：研究价值与伦理\u0026lt;/li\u0026gt;\n                        \u0026lt;/ul\u0026gt;\n                        \u0026lt;p\u0026gt;点击节点查看详细说明，拖动可探索图谱结构。\u0026lt;/p\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                \u0026lt;/div\u0026gt;\n                \u0026lt;h2\u0026gt;图例说明\u0026lt;/h2\u0026gt;\n                \u0026lt;div class=\u0026#34;legend\u0026#34;\u0026gt;\n                    \u0026lt;div class=\u0026#34;legend-item\u0026#34;\u0026gt;\n                        \u0026lt;div class=\u0026#34;legend-color\u0026#34; style=\u0026#34;background-color: #9b59b6;\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\n                        \u0026lt;span\u0026gt;形而上学领域\u0026lt;/span\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                    \u0026lt;div class=\u0026#34;legend-item\u0026#34;\u0026gt;\n                        \u0026lt;div class=\u0026#34;legend-color\u0026#34; style=\u0026#34;background-color: #3498db;\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\n                        \u0026lt;span\u0026gt;认识论领域\u0026lt;/span\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                    \u0026lt;div class=\u0026#34;legend-item\u0026#34;\u0026gt;\n                        \u0026lt;div class=\u0026#34;legend-color\u0026#34; style=\u0026#34;background-color: #2ecc71;\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\n                        \u0026lt;span\u0026gt;逻辑与方法论\u0026lt;/span\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                    \u0026lt;div class=\u0026#34;legend-item\u0026#34;\u0026gt;\n                        \u0026lt;div class=\u0026#34;legend-color\u0026#34; style=\u0026#34;background-color: #e67e22;\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\n                        \u0026lt;span\u0026gt;价值论领域\u0026lt;/span\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                    \u0026lt;div class=\u0026#34;legend-item\u0026#34;\u0026gt;\n                        \u0026lt;div class=\u0026#34;legend-color\u0026#34; style=\u0026#34;background-color: #2ecc71;\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\n                        \u0026lt;span\u0026gt;包含关系\u0026lt;/span\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                    \u0026lt;div class=\u0026#34;legend-item\u0026#34;\u0026gt;\n                        \u0026lt;div class=\u0026#34;legend-color\u0026#34; style=\u0026#34;background-color: #3498db;\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\n                        \u0026lt;span\u0026gt;依赖关系\u0026lt;/span\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                    \u0026lt;div class=\u0026#34;legend-item\u0026#34;\u0026gt;\n                        \u0026lt;div class=\u0026#34;legend-color\u0026#34; style=\u0026#34;background-color: #f1c40f;\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\n                        \u0026lt;span\u0026gt;影响关系\u0026lt;/span\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                    \u0026lt;div class=\u0026#34;legend-item\u0026#34;\u0026gt;\n                        \u0026lt;div class=\u0026#34;legend-color\u0026#34; style=\u0026#34;background-color: #e74c3c;\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\n                        \u0026lt;span\u0026gt;对立关系\u0026lt;/span\u0026gt;\n                    \u0026lt;/div\u0026gt;\n                \u0026lt;/div\u0026gt;\n            \u0026lt;/div\u0026gt;\n        \u0026lt;/div\u0026gt;\n        \u0026lt;footer\u0026gt;\n            \u0026lt;p\u0026gt;西方哲学核心概念知识图谱 | 展示了形而上学、认识论、逻辑学与价值论的关系 | 基于D3.js构建\u0026lt;/p\u0026gt;\n        \u0026lt;/footer\u0026gt;\n    \u0026lt;/div\u0026gt;\n    \u0026lt;div class=\u0026#34;tooltip\u0026#34;\u0026gt;\u0026lt;/div\u0026gt;\n    \u0026lt;script\u0026gt;\n        // 哲学概念数据\n        const philosophyData = {\n            nodes: [\n                // 形而上学领域\n                { id: \u0026#34;metaphysics\u0026#34;, name: \u0026#34;形而上学\u0026#34;, category: \u0026#34;metaphysics\u0026#34;, description: \u0026#34;研究超越经验的终极实在，包含存在、本体、宇宙本质等\u0026#34;, size: 40 },\n                { id: \u0026#34;being\u0026#34;, name: \u0026#34;存在\u0026#34;, category: \u0026#34;metaphysics\u0026#34;, description: \u0026#34;事物最根本的实在性，探究\u0026#39;何物存在\u0026#39;及\u0026#39;存在的本质\u0026#39;\u0026#34;, size: 30 },\n                { id: \u0026#34;substance\u0026#34;, name: \u0026#34;本体\u0026#34;, category: \u0026#34;metaphysics\u0026#34;, description: \u0026#34;独立存在的实体，是属性的承载者（如亚里士多德的\u0026#39;第一本体\u0026#39;）\u0026#34;, size: 28 },\n                { id: \u0026#34;matter\u0026#34;, name: \u0026#34;物质\u0026#34;, category: \u0026#34;metaphysics\u0026#34;, description: \u0026#34;客观实在的物理基础，与\u0026#39;意识\u0026#39;相对（唯物论核心）\u0026#34;, size: 28 },\n                { id: \u0026#34;consciousness\u0026#34;, name: \u0026#34;意识\u0026#34;, category: \u0026#34;metaphysics\u0026#34;, description: \u0026#34;主观体验与认知能力（唯心论认为意识先于物质）\u0026#34;, size: 28 },\n                // 认识论领域\n                { id: \u0026#34;epistemology\u0026#34;, name: \u0026#34;认识论\u0026#34;, category: \u0026#34;epistemology\u0026#34;, description: \u0026#34;研究知识的来源、限度和确证性\u0026#34;, size: 40 },\n                { id: \u0026#34;knowledge\u0026#34;, name: \u0026#34;认识\u0026#34;, category: \u0026#34;epistemology\u0026#34;, description: \u0026#34;人类获取和理解世界的过程与结果\u0026#34;, size: 30 },\n                { id: \u0026#34;sensation\u0026#34;, name: \u0026#34;感性\u0026#34;, category: \u0026#34;epistemology\u0026#34;, description: \u0026#34;通过感官获取经验（如休谟的\u0026#39;印象\u0026#39;）\u0026#34;, size: 28 },\n                { id: \u0026#34;reason\u0026#34;, name: \u0026#34;理性\u0026#34;, category: \u0026#34;epistemology\u0026#34;, description: \u0026#34;通过逻辑推演获得知识（如笛卡尔的\u0026#39;天赋观念\u0026#39;）\u0026#34;, size: 28 },\n                { id: \u0026#34;thought\u0026#34;, name: \u0026#34;思考\u0026#34;, category: \u0026#34;epistemology\u0026#34;, description: \u0026#34;意识的主动加工过程，涵盖感性与理性\u0026#34;, size: 28 },\n                // 逻辑与方法论领域\n                { id: \u0026#34;logic\u0026#34;, name: \u0026#34;逻辑\u0026#34;, category: \u0026#34;methodology\u0026#34;, description: \u0026#34;推理的有效性规则（如三段论）\u0026#34;, size: 40 },\n                { id: \u0026#34;deduction\u0026#34;, name: \u0026#34;演绎\u0026#34;, category: \u0026#34;methodology\u0026#34;, description: \u0026#34;从一般前提推出个别结论（必然性推理）\u0026#34;, size: 28 },\n                { id: \u0026#34;induction\u0026#34;, name: \u0026#34;归纳\u0026#34;, category: \u0026#34;methodology\u0026#34;, description: \u0026#34;从个别观察推出普遍结论（或然性推理）\u0026#34;, size: 28 },\n                { id: \u0026#34;dialectic\u0026#34;, name: \u0026#34;辩证\u0026#34;, category: \u0026#34;methodology\u0026#34;, description: \u0026#34;通过矛盾对立达成真理（黑格尔的\u0026#39;正-反-合\u0026#39;）\u0026#34;, size: 28 },\n                { id: \u0026#34;methodology\u0026#34;, name: \u0026#34;方法论\u0026#34;, category: \u0026#34;methodology\u0026#34;, description: \u0026#34;系统化的认知路径（如笛卡尔的怀疑法）\u0026#34;, size: 30 },\n                // 价值论领域\n                { id: \u0026#34;axiology\u0026#34;, name: \u0026#34;价值论\u0026#34;, category: \u0026#34;axiology\u0026#34;, description: \u0026#34;研究价值的本质与分类（道德、审美等）\u0026#34;, size: 40 },\n                { id: \u0026#34;ethics\u0026#34;, name: \u0026#34;伦理\u0026#34;, category: \u0026#34;axiology\u0026#34;, description: \u0026#34;研究道德价值与行为规范（如康德的\u0026#39;绝对命令\u0026#39;）\u0026#34;, size: 30 },\n                { id: \u0026#34;value\u0026#34;, name: \u0026#34;价值\u0026#34;, category: \u0026#34;axiology\u0026#34;, description: \u0026#34;事物的重要性判断（道德、审美等）\u0026#34;, size: 28 }\n            ],\n            links: [\n                // 包含关系（绿色实线）\n                { source: \u0026#34;metaphysics\u0026#34;, target: \u0026#34;being\u0026#34;, type: \u0026#34;containment\u0026#34; },\n                { source: \u0026#34;metaphysics\u0026#34;, target: \u0026#34;substance\u0026#34;, type: \u0026#34;containment\u0026#34; },\n                { source: \u0026#34;metaphysics\u0026#34;, target: \u0026#34;matter\u0026#34;, type: \u0026#34;containment\u0026#34; },\n                { source: \u0026#34;metaphysics\u0026#34;, target: \u0026#34;consciousness\u0026#34;, type: \u0026#34;containment\u0026#34; },\n                { source: \u0026#34;epistemology\u0026#34;, target: \u0026#34;knowledge\u0026#34;, type: \u0026#34;containment\u0026#34; },\n                { source: \u0026#34;epistemology\u0026#34;, target: \u0026#34;sensation\u0026#34;, type: \u0026#34;containment\u0026#34; },\n                { source: \u0026#34;epistemology\u0026#34;, target: \u0026#34;reason\u0026#34;, type: \u0026#34;containment\u0026#34; },\n                { source: \u0026#34;epistemology\u0026#34;, target: \u0026#34;thought\u0026#34;, type: \u0026#34;containment\u0026#34; },\n                { source: \u0026#34;logic\u0026#34;, target: \u0026#34;deduction\u0026#34;, type: \u0026#34;containment\u0026#34; },\n                { source: \u0026#34;logic\u0026#34;, target: \u0026#34;induction\u0026#34;, type: \u0026#34;containment\u0026#34; },\n                { source: \u0026#34;logic\u0026#34;, target: \u0026#34;dialectic\u0026#34;, type: \u0026#34;containment\u0026#34; },\n                { source: \u0026#34;methodology\u0026#34;, target: \u0026#34;logic\u0026#34;, type: \u0026#34;containment\u0026#34; },\n                { source: \u0026#34;axiology\u0026#34;, target: \u0026#34;ethics\u0026#34;, type: \u0026#34;containment\u0026#34; },\n                { source: \u0026#34;axiology\u0026#34;, target: \u0026#34;value\u0026#34;, type: \u0026#34;containment\u0026#34; },\n                // 依赖关系（蓝色虚线）\n                { source: \u0026#34;epistemology\u0026#34;, target: \u0026#34;metaphysics\u0026#34;, type: \u0026#34;dependency\u0026#34;, label: \u0026#34;依赖\u0026#34; },\n                { source: \u0026#34;methodology\u0026#34;, target: \u0026#34;logic\u0026#34;, type: \u0026#34;dependency\u0026#34;, label: \u0026#34;依赖\u0026#34; },\n                { source: \u0026#34;thought\u0026#34;, target: \u0026#34;sensation\u0026#34;, type: \u0026#34;dependency\u0026#34;, label: \u0026#34;依赖\u0026#34; },\n                { source: \u0026#34;thought\u0026#34;, target: \u0026#34;reason\u0026#34;, type: \u0026#34;dependency\u0026#34;, label: \u0026#34;依赖\u0026#34; },\n                { source: \u0026#34;axiology\u0026#34;, target: \u0026#34;epistemology\u0026#34;, type: \u0026#34;dependency\u0026#34;, label: \u0026#34;依赖\u0026#34; },\n                // 影响关系（黄色实线）\n                { source: \u0026#34;metaphysics\u0026#34;, target: \u0026#34;epistemology\u0026#34;, type: \u0026#34;influence\u0026#34;, label: \u0026#34;奠基\u0026#34; },\n                { source: \u0026#34;logic\u0026#34;, target: \u0026#34;epistemology\u0026#34;, type: \u0026#34;influence\u0026#34;, label: \u0026#34;支撑\u0026#34; },\n                { source: \u0026#34;methodology\u0026#34;, target: \u0026#34;epistemology\u0026#34;, type: \u0026#34;influence\u0026#34;, label: \u0026#34;提供工具\u0026#34; },\n                { source: \u0026#34;dialectic\u0026#34;, target: \u0026#34;thought\u0026#34;, type: \u0026#34;influence\u0026#34;, label: \u0026#34;方法\u0026#34; },\n                { source: \u0026#34;epistemology\u0026#34;, target: \u0026#34;axiology\u0026#34;, type: \u0026#34;influence\u0026#34;, label: \u0026#34;影响\u0026#34; },\n                // 对立关系（红色虚线）\n                { source: \u0026#34;matter\u0026#34;, target: \u0026#34;consciousness\u0026#34;, type: \u0026#34;opposition\u0026#34;, label: \u0026#34;对立统一\u0026#34; },\n                { source: \u0026#34;sensation\u0026#34;, target: \u0026#34;reason\u0026#34;, type: \u0026#34;opposition\u0026#34;, label: \u0026#34;对立统一\u0026#34; },\n                { source: \u0026#34;deduction\u0026#34;, target: \u0026#34;induction\u0026#34;, type: \u0026#34;opposition\u0026#34;, label: \u0026#34;互补\u0026#34; }\n            ]\n        };\n        // 颜色映射\n        const colorScale = d3.scaleOrdinal()\n            .domain([\u0026#34;metaphysics\u0026#34;, \u0026#34;epistemology\u0026#34;, \u0026#34;methodology\u0026#34;, \u0026#34;axiology\u0026#34;])\n            .range([\u0026#34;#9b59b6\u0026#34;, \u0026#34;#3498db\u0026#34;, \u0026#34;#2ecc71\u0026#34;, \u0026#34;#e67e22\u0026#34;]);\n        // 创建SVG容器\n        const width = document.getElementById(\u0026#39;philosophy-graph\u0026#39;).clientWidth;\n        const height = document.getElementById(\u0026#39;philosophy-graph\u0026#39;).clientHeight;\n        const svg = d3.select(\u0026#34;#philosophy-graph\u0026#34;)\n            .append(\u0026#34;svg\u0026#34;)\n            .attr(\u0026#34;width\u0026#34;, width)\n            .attr(\u0026#34;height\u0026#34;, height);\n        // 创建力导向图\n        const simulation = d3.forceSimulation(philosophyData.nodes)\n            .force(\u0026#34;link\u0026#34;, d3.forceLink(philosophyData.links).id(d =\u0026gt; d.id).distance(120).strength(0.8))\n            .force(\u0026#34;charge\u0026#34;, d3.forceManyBody().strength(-300))\n            .force(\u0026#34;center\u0026#34;, d3.forceCenter(width / 2, height / 2))\n            .force(\u0026#34;collision\u0026#34;, d3.forceCollide().radius(d =\u0026gt; d.size + 5));\n        // 创建箭头标记\n        svg.append(\u0026#34;defs\u0026#34;).selectAll(\u0026#34;marker\u0026#34;)\n            .data([\u0026#34;dependency\u0026#34;, \u0026#34;influence\u0026#34;, \u0026#34;opposition\u0026#34;])\n            .enter().append(\u0026#34;marker\u0026#34;)\n            .attr(\u0026#34;id\u0026#34;, d =\u0026gt; d)\n            .attr(\u0026#34;viewBox\u0026#34;, \u0026#34;0 -5 10 10\u0026#34;)\n            .attr(\u0026#34;refX\u0026#34;, 25)\n            .attr(\u0026#34;refY\u0026#34;, 0)\n            .attr(\u0026#34;markerWidth\u0026#34;, 6)\n            .attr(\u0026#34;markerHeight\u0026#34;, 6)\n            .attr(\u0026#34;orient\u0026#34;, \u0026#34;auto\u0026#34;)\n            .append(\u0026#34;path\u0026#34;)\n            .attr(\u0026#34;d\u0026#34;, \u0026#34;M0,-5L10,0L0,5\u0026#34;)\n            .attr(\u0026#34;fill\u0026#34;, d =\u0026gt; {\n                if (d === \u0026#34;dependency\u0026#34;) return \u0026#34;#3498db\u0026#34;;\n                if (d === \u0026#34;influence\u0026#34;) return \u0026#34;#f1c40f\u0026#34;;\n                return \u0026#34;#e74c3c\u0026#34;;\n            });\n        // 创建连线\n        const link = svg.append(\u0026#34;g\u0026#34;)\n            .attr(\u0026#34;class\u0026#34;, \u0026#34;links\u0026#34;)\n            .selectAll(\u0026#34;line\u0026#34;)\n            .data(philosophyData.links)\n            .enter()\n            .append(\u0026#34;line\u0026#34;)\n            .attr(\u0026#34;class\u0026#34;, d =\u0026gt; `link ${d.type}`)\n            .attr(\u0026#34;marker-end\u0026#34;, d =\u0026gt; d.type !== \u0026#34;containment\u0026#34; ? `url(#${d.type})` : null);\n        // 创建节点\n        const node = svg.append(\u0026#34;g\u0026#34;)\n            .attr(\u0026#34;class\u0026#34;, \u0026#34;nodes\u0026#34;)\n            .selectAll(\u0026#34;g\u0026#34;)\n            .data(philosophyData.nodes)\n            .enter()\n            .append(\u0026#34;g\u0026#34;)\n            .attr(\u0026#34;class\u0026#34;, \u0026#34;node\u0026#34;)\n            .call(d3.drag()\n                .on(\u0026#34;start\u0026#34;, dragstarted)\n                .on(\u0026#34;drag\u0026#34;, dragged)\n                .on(\u0026#34;end\u0026#34;, dragended));\n        // 节点圆圈\n        node.append(\u0026#34;circle\u0026#34;)\n            .attr(\u0026#34;r\u0026#34;, d =\u0026gt; d.size)\n            .attr(\u0026#34;fill\u0026#34;, d =\u0026gt; colorScale(d.category))\n            .attr(\u0026#34;stroke\u0026#34;, \u0026#34;#fff\u0026#34;)\n            .attr(\u0026#34;stroke-width\u0026#34;, 2);\n        // 节点文本\n        node.append(\u0026#34;text\u0026#34;)\n            .attr(\u0026#34;text-anchor\u0026#34;, \u0026#34;middle\u0026#34;)\n            .attr(\u0026#34;dy\u0026#34;, \u0026#34;0.35em\u0026#34;)\n            .attr(\u0026#34;fill\u0026#34;, \u0026#34;white\u0026#34;)\n            .attr(\u0026#34;font-size\u0026#34;, d =\u0026gt; d.id === \u0026#34;metaphysics\u0026#34; || d.id === \u0026#34;epistemology\u0026#34; || \n                d.id === \u0026#34;logic\u0026#34; || d.id === \u0026#34;axiology\u0026#34; ? \u0026#34;14px\u0026#34; : \u0026#34;12px\u0026#34;)\n            .text(d =\u0026gt; d.name);\n        // 连线标签\n        const linkLabels = svg.append(\u0026#34;g\u0026#34;)\n            .attr(\u0026#34;class\u0026#34;, \u0026#34;link-labels\u0026#34;)\n            .selectAll(\u0026#34;text\u0026#34;)\n            .data(philosophyData.links.filter(d =\u0026gt; d.label))\n            .enter()\n            .append(\u0026#34;text\u0026#34;)\n            .attr(\u0026#34;class\u0026#34;, \u0026#34;link-label\u0026#34;)\n            .attr(\u0026#34;font-size\u0026#34;, \u0026#34;12px\u0026#34;)\n            .attr(\u0026#34;fill\u0026#34;, d =\u0026gt; {\n                if (d.type === \u0026#34;dependency\u0026#34;) return \u0026#34;#3498db\u0026#34;;\n                if (d.type === \u0026#34;influence\u0026#34;) return \u0026#34;#f1c40f\u0026#34;;\n                if (d.type === \u0026#34;opposition\u0026#34;) return \u0026#34;#e74c3c\u0026#34;;\n                return \u0026#34;#2ecc71\u0026#34;;\n            })\n            .text(d =\u0026gt; d.label);\n        // 工具提示\n        const tooltip = d3.select(\u0026#34;.tooltip\u0026#34;);\n        node.on(\u0026#34;mouseover\u0026#34;, function(event, d) {\n                tooltip.style(\u0026#34;display\u0026#34;, \u0026#34;block\u0026#34;)\n                    .html(`\u0026lt;h3\u0026gt;${d.name}\u0026lt;/h3\u0026gt;\u0026lt;p\u0026gt;${d.description}\u0026lt;/p\u0026gt;`);\n            })\n            .on(\u0026#34;mousemove\u0026#34;, function(event) {\n                tooltip.style(\u0026#34;left\u0026#34;, (event.pageX + 10) + \u0026#34;px\u0026#34;)\n                    .style(\u0026#34;top\u0026#34;, (event.pageY - 20) + \u0026#34;px\u0026#34;);\n            })\n            .on(\u0026#34;mouseout\u0026#34;, function() {\n                tooltip.style(\u0026#34;display\u0026#34;, \u0026#34;none\u0026#34;);\n            })\n            .on(\u0026#34;click\u0026#34;, function(event, d) {\n                // 在信息面板显示详细信息\n                document.getElementById(\u0026#34;concept-details\u0026#34;).innerHTML = `\n                    \u0026lt;div class=\u0026#34;concept-info\u0026#34;\u0026gt;\n                        \u0026lt;h3\u0026gt;${d.name}\u0026lt;/h3\u0026gt;\n                        \u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;领域：\u0026lt;/strong\u0026gt;${getCategoryName(d.category)}\u0026lt;/p\u0026gt;\n                        \u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;定义：\u0026lt;/strong\u0026gt;${d.description}\u0026lt;/p\u0026gt;\n                        ${getRelatedConcepts(d.id)}\n                    \u0026lt;/div\u0026gt;\n                `;\n            });\n        // 更新力导向图\n        simulation.on(\u0026#34;tick\u0026#34;, () =\u0026gt; {\n            link.attr(\u0026#34;x1\u0026#34;, d =\u0026gt; d.source.x)\n                .attr(\u0026#34;y1\u0026#34;, d =\u0026gt; d.source.y)\n                .attr(\u0026#34;x2\u0026#34;, d =\u0026gt; d.target.x)\n                .attr(\u0026#34;y2\u0026#34;, d =\u0026gt; d.target.y);\n            node.attr(\u0026#34;transform\u0026#34;, d =\u0026gt; `translate(${d.x},${d.y})`);\n            linkLabels.attr(\u0026#34;x\u0026#34;, d =\u0026gt; (d.source.x + d.target.x) / 2)\n                .attr(\u0026#34;y\u0026#34;, d =\u0026gt; (d.source.y + d.target.y) / 2);\n        });\n        // 拖拽函数\n        function dragstarted(event, d) {\n            if (!event.active) simulation.alphaTarget(0.3).restart();\n            d.fx = d.x;\n            d.fy = d.y;\n        }\n        function dragged(event, d) {\n            d.fx = event.x;\n            d.fy = event.y;\n        }\n        function dragended(event, d) {\n            if (!event.active) simulation.alphaTarget(0);\n            d.fx = null;\n            d.fy = null;\n        }\n        // 辅助函数\n        function getCategoryName(category) {\n            const names = {\n                \u0026#34;metaphysics\u0026#34;: \u0026#34;形而上学\u0026#34;,\n                \u0026#34;epistemology\u0026#34;: \u0026#34;认识论\u0026#34;,\n                \u0026#34;methodology\u0026#34;: \u0026#34;逻辑与方法论\u0026#34;,\n                \u0026#34;axiology\u0026#34;: \u0026#34;价值论\u0026#34;\n            };\n            return names[category] || category;\n        }\n        function getRelatedConcepts(conceptId) {\n            const relatedLinks = philosophyData.links.filter(\n                link =\u0026gt; link.source.id === conceptId || link.target.id === conceptId\n            );\n            if (relatedLinks.length === 0) return \u0026#34;\u0026#34;;\n            let html = \u0026#34;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;相关概念：\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;ul\u0026gt;\u0026#34;;\n            relatedLinks.forEach(link =\u0026gt; {\n                const relatedConcept = link.source.id === conceptId ? link.target : link.source;\n                const relationType = link.type === \u0026#34;containment\u0026#34; ? \u0026#34;包含\u0026#34; : \n                                    link.type === \u0026#34;dependency\u0026#34; ? \u0026#34;依赖\u0026#34; : \n                                    link.type === \u0026#34;influence\u0026#34; ? \u0026#34;影响\u0026#34; : \u0026#34;对立\u0026#34;;\n                const relationDesc = link.label ? ` (${link.label})` : \u0026#34;\u0026#34;;\n                html += `\u0026lt;li\u0026gt;${relationType}关系${relationDesc}: ${relatedConcept.name}\u0026lt;/li\u0026gt;`;\n            });\n            html += \u0026#34;\u0026lt;/ul\u0026gt;\u0026#34;;\n            return html;\n        }\n        // 布局控制\n        document.getElementById(\u0026#34;arrange-hierarchical\u0026#34;).addEventListener(\u0026#34;click\u0026#34;, function() {\n            arrangeHierarchical();\n        });\n        document.getElementById(\u0026#34;arrange-radial\u0026#34;).addEventListener(\u0026#34;click\u0026#34;, function() {\n            arrangeRadial();\n        });\n        document.getElementById(\u0026#34;arrange-force\u0026#34;).addEventListener(\u0026#34;click\u0026#34;, function() {\n            simulation.alpha(1).restart();\n        });\n        document.getElementById(\u0026#34;reset-view\u0026#34;).addEventListener(\u0026#34;click\u0026#34;, function() {\n            simulation.alpha(1).restart();\n            setTimeout(arrangeHierarchical, 100);\n        });\n        // 层级布局\n        function arrangeHierarchical() {\n            const centerX = width / 2;\n            const centerY = height / 2;\n            // 主要分支位置\n            const mainNodes = {\n                \u0026#34;metaphysics\u0026#34;: { x: centerX - 250, y: centerY - 150 },\n                \u0026#34;epistemology\u0026#34;: { x: centerX + 250, y: centerY - 150 },\n                \u0026#34;logic\u0026#34;: { x: centerX - 250, y: centerY + 150 },\n                \u0026#34;methodology\u0026#34;: { x: centerX - 250, y: centerY + 150 },\n                \u0026#34;axiology\u0026#34;: { x: centerX + 250, y: centerY + 150 }\n            };\n            // 更新节点位置\n            philosophyData.nodes.forEach(node =\u0026gt; {\n                if (mainNodes[node.id]) {\n                    node.fx = mainNodes[node.id].x;\n                    node.fy = mainNodes[node.id].y;\n                } else {\n                    // 子节点围绕主节点\n                    const parent = philosophyData.links.find(l =\u0026gt; \n                        l.target.id === node.id \u0026amp;\u0026amp; l.type === \u0026#34;containment\u0026#34;\n                    )?.source;\n                    if (parent \u0026amp;\u0026amp; mainNodes[parent.id]) {\n                        const angle = Math.random() * Math.PI * 2;\n                        const radius = 120;\n                        node.fx = mainNodes[parent.id].x + Math.cos(angle) * radius;\n                        node.fy = mainNodes[parent.id].y + Math.sin(angle) * radius;\n                    } else {\n                        node.fx = centerX + (Math.random() - 0.5) * 200;\n                        node.fy = centerY + (Math.random() - 0.5) * 200;\n                    }\n                }\n            });\n            simulation.alpha(1).restart();\n            setTimeout(() =\u0026gt; {\n                philosophyData.nodes.forEach(node =\u0026gt; {\n                    node.fx = null;\n                    node.fy = null;\n                });\n            }, 1000);\n        }\n        // 辐射布局\n        function arrangeRadial() {\n            const centerX = width / 2;\n            const centerY = height / 2;\n            // 核心节点\n            const coreNodes = [\u0026#34;metaphysics\u0026#34;, \u0026#34;epistemology\u0026#34;, \u0026#34;logic\u0026#34;, \u0026#34;axiology\u0026#34;];\n            // 更新节点位置\n            philosophyData.nodes.forEach(node =\u0026gt; {\n                if (coreNodes.includes(node.id)) {\n                    // 核心节点在中心圆上\n                    const index = coreNodes.indexOf(node.id);\n                    const angle = (index / coreNodes.length) * Math.PI * 2;\n                    const radius = 100;\n                    node.fx = centerX + Math.cos(angle) * radius;\n                    node.fy = centerY + Math.sin(angle) * radius;\n                } else {\n                    // 子节点围绕其父节点\n                    const parentLink = philosophyData.links.find(l =\u0026gt; \n                        l.target.id === node.id \u0026amp;\u0026amp; l.type === \u0026#34;containment\u0026#34;\n                    );\n                    if (parentLink) {\n                        const parent = philosophyData.nodes.find(n =\u0026gt; n.id === parentLink.source.id);\n                        const angle = Math.random() * Math.PI * 2;\n                        const radius = 80;\n                        node.fx = parent.x + Math.cos(angle) * radius;\n                        node.fy = parent.y + Math.sin(angle) * radius;\n                    } else {\n                        node.fx = centerX + (Math.random() - 0.5) * 200;\n                        node.fy = centerY + (Math.random() - 0.5) * 200;\n                    }\n                }\n            });\n            simulation.alpha(1).restart();\n            setTimeout(() =\u0026gt; {\n                philosophyData.nodes.forEach(node =\u0026gt; {\n                    node.fx = null;\n                    node.fy = null;\n                });\n            }, 1000);\n        }\n        // 初始布局\n        arrangeHierarchical();\n    \u0026lt;/script\u0026gt;\n\u0026lt;/body\u0026gt;\n\u0026lt;/html\u0026gt;\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"Q6kcG_X3\"\u003e今天的分享就到这里，希望对你有所启发。\u003c/p\u003e\u003cp\u003e\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":276,"thumbnails":["https://pic1.zhimg.com/50/v2-e5dbd8c2189a9dee7aa5d8c7d1dc498a_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-d47ac7598e1cf16f7831d196990d21a4_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-36b028bc57d97fba06ea9963e5ae09e5_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-2e2c794ea9a7f05e9c4c2be41355e985_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-07145f6ae74af8a3ba5fe6ee4642c71f_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-77f06cd15b9e0cc3911d4dacdf21c383_720w.jpg?source=b6762063","https://pic1.zhimg.com/50/v2-706589f820373e964659a0d408c30e25_720w.jpg?source=b6762063","https://pica.zhimg.com/50/v2-e1a632c250b2b52bcad931c74e01dbb8_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-82c13d367d16b2efeaf1b6b1fefc5624_720w.jpg?source=b6762063","https://pic1.zhimg.com/50/v2-e546c4fcb1c3c39317e39f11a87a96cf_720w.jpg?source=b6762063","https://pic1.zhimg.com/50/v2-09470714930ac45792f56b2ced38da19_720w.jpg?source=b6762063"],"favorite_count":41,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1932743877254686139}","attached_info":"Cp0OCOPSpL6lxr3qkwEQBBoJNzM5MDU4NjQxIOCTlsQGKAgwAECfAUpCCi1UU19TT1VSQ0VfVFdPVE9XRVJfTVVMVElfU0NFTkVfVjFfUkVDQUxMX1RFWFQSATAYACAAOgp7InJhdyI6IiJ9SkIKLVRTX1NPVVJDRV9UV09UT1dFUl9NVUxUSV9TQ0VORV9WMV9SRUNBTExfVEVYVBIBMBgAIAA6CnsicmF3IjoiIn1aCTExNTkwMjc1M2IgYWE3ZDIyNGUwNmQ0YjMxYjc0ZjY0ZDA4MGQ5YjdmNTZyEzE5MzI3NDM4NzcyNTQ2ODYxMzmKARMxOTMxMDQyOTkwNzkwNTA5MDQ5qgEJcmVjb21tZW5kwgEgNTNiMmYzNTY2YjhiNWRjOWU0MGE0ZGFmMGRlN2VkYWbyAQoIDBIGTm9ybWFs8gEoCAoSJGIxZmJmYmQ3LTQ3MDUtNGY1MC1hZjkyLTRjMTVhMThiNGE4ZPIBBggLEgIyN4ICAIgCyvHNzoUzkgIgNTNiMmYzNTY2YjhiNWRjOWU0MGE0ZGFmMGRlN2VkYWaaAgDKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygIVVXNlckxjbkV4aXRXZWlnaHRSdWxlygIVUXVlc3Rpb25Jc29sYXRpb25SdWxl2gItVFNfU09VUkNFX1RXT1RPV0VSX01VTFRJX1NDRU5FX1YxX1JFQ0FMTF9URVhU6AIF+gILTk9STUFMX0ZMT1eKAyBmMzhlNTg4ZTg4Y2M0MGYzOGFiYzg1ZTVhZjRjNDJlY5oDDQoCdjIQABoFb3RoZXKoA5QC2AMA6gMfdGV4dEZlZWRUd29Ub3dlcldhcm11cFN1Y2Nlc3NWMfoD+gcSDFVOS05PV05fTU9ERSAAKg1OT19JTUFHRV9NT0RFOi0IAxC4CBjMAyIjdjItN2VjMzIyZDdmNjAzMWFhMzRiNjM0OTZkZWY1NDZlN2U6LQgEEP8HGKoFIiN2Mi0zZWVmNzg0YjQxODBkOTcxYTVlZjk1NDM0Mjg3YTBhYTotCAIQvAUYiQMiI3YyLWQzMzNiZGE1MmE5ZjUxMGRjNGJlNDVkZTZmZDRmNDE4Oi0IAhD/BRi5BCIjdjItMGI5NWY1NzU4NmYyNTY2NmM3NDJmODdkYzFhZTQ0OGM6LQgCENEGGN4DIiN2Mi1iYTFiMDM4ODNmNDJiOTNiNTIzMzA0MDg1OTU5OTRhYjotCAQQvAUYlQIiI3YyLTBhY2I2YzZlODFlYjJmYWQ0ZTNkOTdlOTJkOTNkMTBhOi0IAxCACBizAyIjdjItZGFiZjRiMWM3NjYyZTU0MzVmNDJkMDM1OGJhN2Y4OGI6LQgCELgIGLMFIiN2Mi1lMWU4YmE4ZDE0ZDAyYTllYzQ0YTZkODZmNGNjNTE2MDotCAIQ0wYY0gYiI3YyLTVlM2YyMWVhMTc1MzJkZTFiN2NmYmQxNTZhOGY2OGVjOi0IAhD/BhiUAyIjdjItMThmYTZmN2JlMzk5M2Q5Nzc5MjEwYjk2OGJjNWQwMWY6LQgDEOsGGKsEIiN2Mi1mZDFjM2EyYzAxNDk1ZThkODc1NzY1ZGUyOTgxYjQ3ODotCAIQuAgYvzkiI3YyLTVhZjFjYjY0NWQwNGExMDRhOWIwMzdjNzk2NDZlNGU5Oi0IAhC4CBivBCIjdjItYTgwYzYzODY2NmYzNmNjMTViYzEzOTE0MDc3MmYzMzE6LQgDELgIGL8EIiN2Mi1jYTU4MTU5YWRkY2ViODQxNWNhODMwNWMxMTVjYmM4NTotCAIQuAgY0gUiI3YyLWFkMmQyZWRjNDYwNjZlZmNhODE1NTU4OWFiYzQyODIyOi0IAxC4CBi1ByIjdjItMjY2NzQzNGFkNjc1YzBlNDQ5OTVlMjcxYjhlZThlMTg6LQgCELgIGNUGIiN2Mi1mN2Y1MjBkYzRhMWYwNTJjNGI4ZmM2MDVlOWE4YzExODotCAQQuAgY1QUiI3YyLTIzNjI0NmI4NjBjZTc3YzljMTAxZTc4ODk1MzRjYjA2Oi0IAhC4CBisBSIjdjItNjFjZTMzZWI4NDExNzczY2E3MGEzMGQ4YjBmMzYzMjE6LQgEELgIGKcGIiN2Mi0wZmUxODcyZTJkM2Y5YmMzMjBiNDMyYWI1MGVhNzQyMzotCAQQuAgYvwYiI3YyLTBhYWExODNjOWE0NDJmNDRhMjRkMDdhM2M5ZGJhMTVhgAQAiAQAkgQGTm9ybWFsmgQBNaAEAKgEALAEALoEAmFpwgQDNDAwyAQA0gQP5o6o6I2Q5bey5pu05paw2AQA8AQA+QQAAAAA76GWP4EFAAAAAAAAAACJBb+vh1U6dNM/kgUAmgUDZGZ0ogUDZGZ0sgUBMbkFAAAAAAAAAADQBQDgBQDoBQDwBRuQBgCgBqEBqAYAkgIuCgk3MzkwNTg2NDESEzE5MzI3NDM4NzcyNTQ2ODYxMzkYBCIKSU1BR0VfVEVYVA==","action_card":false},{"id":"160_1753853688.887","type":"feed","offset":160,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1753853688,"updated_time":1753853688,"target":{"id":"1933598625994343101","type":"answer","url":"https://api.zhihu.com/answers/1933598625994343101","author":{"id":"4b735d8f452777238e9004bfd4b9df5e","url":"https://api.zhihu.com/people/4b735d8f452777238e9004bfd4b9df5e","user_type":"people","url_token":"zhangxu888","name":"张旭","headline":"","avatar_url":"https://pic1.zhimg.com/50/v2-5fbe8b2d913c52f6fc9e48f45139cb67_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":1,"is_following":false,"is_followed":false},"created_time":1753785836,"updated_time":1753785836,"voteup_count":1,"thanks_count":0,"comment_count":0,"is_copyable":true,"question":{"id":"437019517","type":"question","url":"https://api.zhihu.com/questions/437019517","author":{"id":"65c45f19539aa956399eb7d1c49e5152","url":"https://api.zhihu.com/people/65c45f19539aa956399eb7d1c49e5152","user_type":"people","url_token":"jian-kang-shi-fu-27","name":"健康是福","headline":"肾病的中医治疗15127088310","avatar_url":"https://picx.zhimg.com/50/v2-bd274844f768ad0b952f371bff07fd14_l.jpg?source=b6762063","is_org":false,"gender":-1,"followers_count":81,"is_following":false,"is_followed":false},"title":"外链发布网站有哪些？","created":1609227023,"answer_count":0,"follower_count":0,"comment_count":0,"bound_topic_ids":[13569,18703,110399],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"excerpt":"在互联网信息爆炸的时代，如何快速找到优质的行业网站资源，同时让自建网站获得精准流量，成为许多企业和站长关注的焦点。软文轩网址导航（ http://www.ruanwenxuan.com ）作为专业的分类目录导航平台，以免费收录、外链推广、软文发布为核心功能，构建了一个连接用户需求与网站价值的生态体系。本文将从平台定位、核心功能、用户价值及操作指南四个维度，深度解析软文轩如何成为行业网站外链发布的优质平台。   一、平台定位：专业分类…","excerpt_new":"在互联网信息爆炸的时代，如何快速找到优质的行业网站资源，同时让自建网站获得精准流量，成为许多企业和站长关注的焦点。软文轩网址导航（ http://www.ruanwenxuan.com ）作为专业的分类目录导航平台，以免费收录、外链推广、软文发布为核心功能，构建了一个连接用户需求与网站价值的生态体系。本文将从平台定位、核心功能、用户价值及操作指南四个维度，深度解析软文轩如何成为行业网站外链发布的优质平台。   一、平台定位：专业分类…","preview_type":"default","preview_text":"","reshipment_settings":"allowed","content":"\u003cp data-pid=\"NoGpBT7n\"\u003e在互联网信息爆炸的时代，如何快速找到优质的行业网站资源，同时让自建网站获得精准流量，成为许多企业和站长关注的焦点。软文轩网址导航（\u003ca href=\"https://link.zhihu.com/?target=http%3A//www.ruanwenxuan.com\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003e\u003cspan class=\"invisible\"\u003ehttp://www.\u003c/span\u003e\u003cspan class=\"visible\"\u003eruanwenxuan.com\u003c/span\u003e\u003cspan class=\"invisible\"\u003e\u003c/span\u003e\u003c/a\u003e）作为专业的分类目录导航平台，以免费收录、外链推广、软文发布为核心功能，构建了一个连接用户需求与网站价值的生态体系。本文将从平台定位、核心功能、用户价值及操作指南四个维度，深度解析软文轩如何成为行业网站外链发布的优质平台。\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-295d88f560b7b4163c90f82b0b5c01bb_1440w.jpg\" data-size=\"normal\" data-rawwidth=\"700\" data-rawheight=\"424\" data-original-token=\"v2-2fca9992df50db5e098f68c516717b9c\" class=\"origin_image zh-lightbox-thumb\" width=\"700\" data-original=\"https://picx.zhimg.com/v2-295d88f560b7b4163c90f82b0b5c01bb_r.jpg\"/\u003e\u003cfigcaption\u003e软文轩网址导航外链收录平台\u003c/figcaption\u003e\u003c/figure\u003e\u003cp data-pid=\"lO_ZhTXk\"\u003e\u003cb\u003e一、平台定位：专业分类目录导航的革新者\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"Hgl2TM79\"\u003e软文轩网址导航并非传统意义上的\u0026#34;网址大全\u0026#34;，而是通过精细化行业分类与人工审核机制，构建了一个高质量的网站资源库。平台覆盖金融、教育、科技、医疗、生活服务等30余个主流行业，每个细分领域均设置二级甚至三级子目录，确保用户能精准定位所需资源。例如，在\u0026#34;教育\u0026#34;大类下，用户可进一步选择\u0026#34;在线教育\u0026#34;\u0026#34;教育资讯\u0026#34;\u0026#34;留学服务\u0026#34;等子目录，快速找到专业网站。\u003c/p\u003e\u003cp data-pid=\"7XwEvAFk\"\u003e相较于其他同类平台，软文轩的差异化优势体现在三点：\u003c/p\u003e\u003cp data-pid=\"f_8L1qRv\"\u003e\u003cb\u003e免费收录\u003c/b\u003e：打破行业惯例，取消付费入驻门槛，真正实现零成本推广；\u003c/p\u003e\u003cp data-pid=\"3MEMRwMU\"\u003e\u003cb\u003e人工审核\u003c/b\u003e：每条收录申请均由专业编辑团队审核，确保网站内容合法、行业相关、用户体验良好；\u003c/p\u003e\u003cp data-pid=\"mB5o7-Sh\"\u003e\u003cb\u003eSEO优化支持\u003c/b\u003e：平台结构符合搜索引擎抓取规则，收录网站可同步获得权重传递。\u003c/p\u003e\u003cp data-pid=\"XRiottoN\"\u003e这种定位既满足了用户对优质资源的需求，也解决了站长\u0026#34;推广成本高、效果难保障\u0026#34;的痛点。\u003c/p\u003e\u003cp data-pid=\"oXaMJOF1\"\u003e\u003cb\u003e二、核心功能解析：从收录到流量转化的全链路服务\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"VRxRfhLz\"\u003e（一）免费网站收录：精准曝光的基础\u003c/p\u003e\u003cp data-pid=\"wqz52Cvj\"\u003e站长只需在软文轩官网提交网站信息，包括网址、网站名称、行业分类、简介及关键词，审核通过后即可在对应目录展示。平台要求：\u003c/p\u003e\u003cp data-pid=\"8X7H6f-3\"\u003e网站需正常运行且无违法内容；\u003c/p\u003e\u003cp data-pid=\"S4HjwNr4\"\u003e行业分类需准确，禁止跨领域提交；\u003c/p\u003e\u003cp data-pid=\"k8ukvhTc\"\u003e简介需简洁明了，突出核心服务。\u003c/p\u003e\u003cp data-pid=\"_jOshv1Q\"\u003e收录后，网站将获得以下权益：\u003c/p\u003e\u003cp data-pid=\"Y2yS0hU4\"\u003e平台首页及行业目录页的流量导入；\u003c/p\u003e\u003cp data-pid=\"SraJ5xzM\"\u003e搜索引擎快照收录，提升自然排名；\u003c/p\u003e\u003cp data-pid=\"nTyaqJw1\"\u003e用户评价系统，优质网站可获\u0026#34;推荐标识\u0026#34;。\u003c/p\u003e\u003cp data-pid=\"nYUifM76\"\u003e（二）外链推广平台：SEO优化的利器\u003c/p\u003e\u003cp data-pid=\"7YUbIUIK\"\u003e对于追求自然排名的网站，软文轩提供的高质量外链资源极具价值。\u003ca href=\"https://link.zhihu.com/?target=https%3A//www.ruanwenxuan.com/apply.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003e网站外链收录申请入口\u003c/a\u003e\u003c/p\u003e\u003cp data-pid=\"_3XMa2uJ\"\u003e（三）软文发布平台：内容营销的新阵地\u003c/p\u003e\u003cp data-pid=\"ZF8EmFvZ\"\u003e软文发布功能不仅服务于外链建设，更成为企业品牌曝光的重要渠道。平台设置\u0026#34;行业资讯\u0026#34;\u0026#34;案例分析\u0026#34;\u0026#34;干货指南\u0026#34;等专栏，鼓励用户分享有价值的内容。例如，一家跨境电商企业可发布《东南亚市场选品指南》，在文中提及自身服务优势，既提供实用信息又实现软性推广。\u003c/p\u003e\u003cp data-pid=\"S4J48Ry8\"\u003e软文发布流程：\u003c/p\u003e\u003cp data-pid=\"AyOxtL86\"\u003e注册账号并充值\u003c/p\u003e\u003cp data-pid=\"Y1xwIUc3\"\u003e选择对应行业分类提交稿件；\u003c/p\u003e\u003cp data-pid=\"RPbf6Raz\"\u003e编辑审核通过后发布至平台及合作媒体。\u003c/p\u003e\u003cp data-pid=\"bTEbFvum\"\u003e\u003cb\u003e三、用户价值：从流量获取到品牌升级的多维赋能\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"rZm0vbYz\"\u003e（一）对站长的价值\u003c/p\u003e\u003cp data-pid=\"YXMIAy1k\"\u003e\u003cb\u003e低成本获客\u003c/b\u003e：免费收录+外链推广，显著降低推广预算；\u003c/p\u003e\u003cp data-pid=\"M_T6oqfi\"\u003e\u003cb\u003e精准流量\u003c/b\u003e：行业目录用户多为主动搜索需求者，转化率更高；\u003c/p\u003e\u003cp data-pid=\"XIm8QvSc\"\u003e\u003cb\u003eSEO协同\u003c/b\u003e：平台权重传递助力网站自然排名提升。\u003c/p\u003e\u003cp data-pid=\"h4Fr-0NV\"\u003e（二）对普通用户的价值\u003c/p\u003e\u003cp data-pid=\"JaF2rE5A\"\u003e\u003cb\u003e资源筛选\u003c/b\u003e：人工审核机制过滤低质网站，节省搜索时间；\u003c/p\u003e\u003cp data-pid=\"VwkcquqB\"\u003e\u003cb\u003e行业洞察\u003c/b\u003e：通过分类目录和软文专栏，获取最新行业动态；\u003c/p\u003e\u003cp data-pid=\"PjtITiuU\"\u003e\u003cb\u003e互动社区\u003c/b\u003e：用户可对收录网站进行评价，形成口碑生态。\u003c/p\u003e\u003cp data-pid=\"z9jXsKio\"\u003e（三）对企业的价值\u003c/p\u003e\u003cp data-pid=\"FiJbhOi3\"\u003e\u003cb\u003e品牌背书\u003c/b\u003e：入驻专业平台提升企业公信力；\u003c/p\u003e\u003cp data-pid=\"GHxKL0qk\"\u003e\u003cb\u003e内容沉淀\u003c/b\u003e：优质软文可长期留存，形成品牌资产；\u003c/p\u003e\u003cp data-pid=\"z6iHD-d3\"\u003e\u003cb\u003e多渠道分发\u003c/b\u003e：合作媒体资源扩大内容覆盖面。\u003c/p\u003e\u003cp data-pid=\"Ezl1QYer\"\u003e\u003cb\u003e四、操作指南：高效利用平台的三大策略\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"q1mVxRoW\"\u003e（一）网站收录优化技巧\u003c/p\u003e\u003cp data-pid=\"vw30YOXL\"\u003e\u003cb\u003e关键词布局\u003c/b\u003e：提交时在\u0026#34;关键词\u0026#34;栏填写核心业务词（如\u0026#34;工业设备维修\u0026#34;），便于用户搜索；\u003c/p\u003e\u003cp data-pid=\"lLECQdcY\"\u003e\u003cb\u003e简介撰写\u003c/b\u003e：用一句话说明网站特色，例如\u0026#34;专注新能源领域技术咨询与解决方案\u0026#34;；\u003c/p\u003e\u003cp data-pid=\"0D-7aN08\"\u003e\u003cb\u003e定期更新\u003c/b\u003e：网站内容更新后，可在软文轩提交\u0026#34;更新申请\u0026#34;，保持信息时效性。\u003c/p\u003e\u003cp data-pid=\"wBjpJrYE\"\u003e（二）外链建设实战\u003c/p\u003e\u003cp data-pid=\"yh_FXt0h\"\u003e\u003cb\u003e锚文本策略\u003c/b\u003e：优先使用长尾关键词（如\u0026#34;北京企业法律顾问服务\u0026#34;）而非泛词；\u003c/p\u003e\u003cp data-pid=\"RL6l4VSN\"\u003e\u003cb\u003e内容相关性\u003c/b\u003e：发布软文时选择与网站行业高度相关的分类，例如法律网站选择\u0026#34;法律服务\u0026#34;专栏；\u003c/p\u003e\u003cp data-pid=\"sRwukLn-\"\u003e\u003cb\u003e数量控制\u003c/b\u003e：建议每周发布1-2篇软文，避免被搜索引擎判定为过度优化。\u003c/p\u003e\u003cp data-pid=\"X50oIAwF\"\u003e（三）软文营销进阶\u003c/p\u003e\u003cp data-pid=\"1Q3DmojO\"\u003e\u003cb\u003e数据驱动\u003c/b\u003e：通过平台后台查看软文阅读量、转发量，优化内容方向；\u003c/p\u003e\u003cp data-pid=\"XddhlrSJ\"\u003e\u003cb\u003e用户互动\u003c/b\u003e：回复评论区提问，增强用户粘性；\u003c/p\u003e\u003cp data-pid=\"4mtShr9V\"\u003e\u003cb\u003e跨平台联动\u003c/b\u003e：将软文同步至微信公众号、知乎等平台，形成传播矩阵。\u003c/p\u003e\u003cp data-pid=\"6Xi9uEDT\"\u003e\u003cb\u003e五、行业展望：分类目录平台的进化方向\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"Q01fUw2t\"\u003e随着搜索引擎算法升级，软文轩也在持续迭代功能：\u003c/p\u003e\u003cp data-pid=\"6GJ6HZ78\"\u003e\u003cb\u003e智能审核系统\u003c/b\u003e：系统自动审核，提升审核效率与精准度；\u003c/p\u003e\u003cp data-pid=\"LcB04vF9\"\u003e\u003cb\u003e用户画像标签\u003c/b\u003e：根据用户行为数据，为收录网站打上\u0026#34;高转化\u0026#34;\u0026#34;权威机构\u0026#34;等标签；\u003c/p\u003e\u003cp data-pid=\"X0zgyQCC\"\u003e\u003cb\u003e本地化服务\u003c/b\u003e：增设\u0026#34;城市分站\u0026#34;，满足区域性网站推广需求。\u003c/p\u003e\u003cp data-pid=\"GhjGAZnR\"\u003e未来，软文轩将更注重\u0026#34;质量优于数量\u0026#34;，通过精细化运营打造行业网站推广的标杆平台。\u003c/p\u003e\u003cp data-pid=\"xL86IiIr\"\u003e文章来源：\u003ca href=\"https://link.zhihu.com/?target=https%3A//www.ruanwenxuan.com/showinfo-177-275-0.html\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003e\u003cspan class=\"invisible\"\u003ehttps://www.\u003c/span\u003e\u003cspan class=\"visible\"\u003eruanwenxuan.com/showinf\u003c/span\u003e\u003cspan class=\"invisible\"\u003eo-177-275-0.html\u003c/span\u003e\u003cspan class=\"ellipsis\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":23,"favorite_count":0,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1933598625994343101}","attached_info":"CrIGCOPSpL6lxr3qkwEQBBoJNzM5NDc2NjQ5IOzLosQGKAEwAECgAUokChlUU19TT1VSQ0VfV0FSTV9VUF9OT1JNQUwyEgEwGAAgADoASi8KJFRTX1NPVVJDRV9XQVJNVVBfVFdPVE9XRVJfRVhQVjJfVEVYVBIBMBgAIAA6AFoINTkzOTQxMjhiIGFhN2QyMjRlMDZkNGIzMWI3NGY2NGQwODBkOWI3ZjU2chMxOTMzNTk4NjI1OTk0MzQzMTAxigEJNDM3MDE5NTE3qgEJcmVjb21tZW5kwgEgNGI3MzVkOGY0NTI3NzcyMzhlOTAwNGJmZDRiOWRmNWXyAQoIDBIGTm9ybWFs8gEoCAoSJDU5YTRiYWVlLTY5NjAtNDE3ZS05Yzc1LTM1OGQwZWYzNmY0Y/IBBggLEgIyN4ICAIgCyvHNzoUzkgIgNGI3MzVkOGY0NTI3NzcyMzhlOTAwNGJmZDRiOWRmNWWaAgDKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygIVVXNlckxjbkV4aXRXZWlnaHRSdWxlygIYQ29udGVudFdhcm1VcEJyZWFrSW5SdWxl2gIZVFNfU09VUkNFX1dBUk1fVVBfTk9STUFMMugCA/oCC05PUk1BTF9GTE9XigMgZjM4ZTU4OGU4OGNjNDBmMzhhYmM4NWU1YWY0YzQyZWOaAw0KAnYyEAAaBW90aGVyqAMX2AMA6gMvY29udGVudFdhcm11cFR3b1Rvd2VyVHZwVGV4dE5vcm1hbEV4cFYyUmVjYWxsZXL6A04SDFVOS05PV05fTU9ERSAAKg1OT19JTUFHRV9NT0RFOi0IBBC8BRioAyIjdjItMmZjYTk5OTJkZjUwZGI1ZTA5OGY2OGM1MTY3MTdiOWOABACIBACSBAZOb3JtYWyaBAEzoAQAqAQAsAQAugQCYWnCBAM0MDDIBADSBA/mjqjojZDlt7Lmm7TmlrDYBADwBAD5BAAAACAVan4/gQUAAAAAAAAAAIkFv6+HVTp00z+SBQCaBQNkZnSiBQNkZnSyBQExuQUAAAAAAAAAANAFAOAFAOgFAPAFG5AGAKAGogGoBgGSAi4KCTczOTQ3NjY0ORITMTkzMzU5ODYyNTk5NDM0MzEwMRgEIgpJTUFHRV9URVhU","action_card":false},{"id":"161_1753853688.70","type":"feed","offset":161,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1753853688,"updated_time":1753853688,"target":{"id":"1932761788216246642","type":"answer","url":"https://api.zhihu.com/answers/1932761788216246642","author":{"id":"3c636da90aa2d89f38d83a7e4a41e904","url":"https://api.zhihu.com/people/3c636da90aa2d89f38d83a7e4a41e904","user_type":"people","url_token":"liqingming","name":"草原上唱山歌","headline":"思考、实践、思考","avatar_url":"https://pic1.zhimg.com/50/v2-387235d4553a7fbaa96c4bc9308ed999_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":2322,"is_following":false,"is_followed":false},"created_time":1753586319,"updated_time":1753586319,"voteup_count":10,"thanks_count":3,"comment_count":0,"is_copyable":true,"question":{"id":"1930243964511974269","type":"question","url":"https://api.zhihu.com/questions/1930243964511974269","author":{"id":"1de1c065c2a6f63cb30a2326eed27749","url":"https://api.zhihu.com/people/1de1c065c2a6f63cb30a2326eed27749","user_type":"people","url_token":"85-71-83-7","name":"阿喀琉斯的龟","headline":"","avatar_url":"https://pica.zhimg.com/50/v2-bce9569dc79c2613875c6b1dc318392b_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":1,"is_following":false,"is_followed":false},"title":"你学习编程有多久了，是什么让你感觉真正感到开窍了？","created":1752986023,"answer_count":0,"follower_count":0,"comment_count":0,"bound_topic_ids":[872,1354,21279,2470358,2780779],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"thumbnail":"https://picx.zhimg.com/50/v2-5e019093cc850020506bde5448c93fac_720w.jpg?source=b6762063","excerpt":"人一旦开窍，就会走出自己的认知监狱。他不再需要情绪安慰、麻醉和幻相，不再依赖短平快的刺激，而是开始疯狂拉升认知水平。这事说起来玄乎，本质就俩硬核指标：接纳有效信息的效率，处理有效信息的效率。很多人困在认知底层，不是脑子不够用，而是被错误的信息接收方式锁死了——就像用漏斗接水，一边进一边漏，永远攒不下真东西。   先扒个扎心内幕：90%的人在做无效信息自嗨。刷短视频时收藏100个认知提升视频，转头就忘；买付…","excerpt_new":"人一旦开窍，就会走出自己的认知监狱。他不再需要情绪安慰、麻醉和幻相，不再依赖短平快的刺激，而是开始疯狂拉升认知水平。这事说起来玄乎，本质就俩硬核指标：接纳有效信息的效率，处理有效信息的效率。很多人困在认知底层，不是脑子不够用，而是被错误的信息接收方式锁死了——就像用漏斗接水，一边进一边漏，永远攒不下真东西。   先扒个扎心内幕：90%的人在做无效信息自嗨。刷短视频时收藏100个认知提升视频，转头就忘；买付…","preview_type":"default","preview_text":"","reshipment_settings":"allowed","content":"\u003cp data-pid=\"YLHlZBsw\"\u003e人一旦开窍，就会走出自己的认知监狱。他不再需要情绪安慰、麻醉和幻相，不再依赖短平快的刺激，而是开始疯狂拉升认知水平。这事说起来玄乎，本质就俩硬核指标：接纳有效信息的效率，处理有效信息的效率。很多人困在认知底层，不是脑子不够用，而是被错误的信息接收方式锁死了——就像用漏斗接水，一边进一边漏，永远攒不下真东西。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-760b0ec931d44c0a782f2b056a3b2398_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1156\" data-rawheight=\"1074\" data-original-token=\"v2-c48020b451ebc13c96f76709ac28e6f3\" data-default-watermark-src=\"https://picx.zhimg.com/v2-a1b925a3b60a7e48bbba55cba9736251_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1156\" data-original=\"https://pic1.zhimg.com/v2-760b0ec931d44c0a782f2b056a3b2398_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"0HMuwg1c\"\u003e先扒个扎心内幕：90%的人在做无效信息自嗨。刷短视频时收藏100个认知提升视频，转头就忘；买付费课程时疯狂截图，硬盘存了100G资料却从没打开过。这种信息囤积症的本质，是用收集行为代替思考行为。我认识的一个程序员小哥，开窍前每年花2万买课程，笔记记了20本，结果跳槽时薪资还不如新来的实习生。直到他发现：自己记的全是Java框架用法，这种可百度的知识，却从没花时间琢磨架构设计背后的业务逻辑这种真正提升认知的硬核内容。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-c54c58fd8d53ac703916c66283e0b10b_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1348\" data-rawheight=\"894\" data-original-token=\"v2-031ccabc1fdc4997c280ee1d507bce79\" data-default-watermark-src=\"https://pic1.zhimg.com/v2-01d7d78e84257c3be69f651c8487c452_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1348\" data-original=\"https://picx.zhimg.com/v2-c54c58fd8d53ac703916c66283e0b10b_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"OqFcdaat\"\u003e高效开窍的底层逻辑就两步：第一步，把信息接收器换成筛子。小哥后来做了个狠操作：每天只允许自己接收三类信息——行业头部3%的深度报告（比如阿里云技术年鉴）、领域内Top5博主的付费专栏、公司核心业务的失败案例复盘。其他的短视频、公众号软文一律拉黑，连朋友圈都设置成三天可见。第二步，用输出倒逼输入。他把每天学到的知识点，强制用三种形式输出：\u003cb\u003e给新人讲一遍（测试理解深度）、写成技术备忘录（梳理逻辑漏洞）、模拟业务场景做推演（验证应用价值）\u003c/b\u003e。三个月后，他做的技术方案被老板置顶为团队标杆。\u003c/p\u003e\u003cp data-pid=\"304WiSZ9\"\u003e这里面藏着三个反常识技巧：一是信息减熵比信息增量更重要。就像电脑清理缓存，认知系统也要定期删除无效信息——那些超过三个月没用过的知识点，本质就是认知垃圾；二是慢思考才是真效率。小哥现在看一份行业报告要花3小时，边看边画思维导图，把每个数据点都对应到公司业务场景，看似慢，实则是在构建信息-认知-行动的闭环；三是错误信息过滤比正确信息收集更关键。他建了个认知黑名单，凡是遇到速成、躺赚、一招鲜这类标题党，直接标记为信息毒素，连点开的动作都省了。\u003c/p\u003e\u003cp data-pid=\"yI_PLuD0\"\u003e很多人想开窍却踩进三个坑：一是迷信知识付费万能，觉得买课等于买认知，结果成了知识付费平台的韭菜；二是沉迷碎片化学习，把刷抖音学来的碎片化知识点当认知，就像用碎布拼被子，看着热闹实则漏洞百出；三是忽视认知消化期，刚学完新东西就急着用，结果消化不良反而走火入魔。正确的做法是：每接收10小时信息，必须留出5小时做认知反刍——把新知识点和旧认知体系碰撞，看看能产生什么化学反应。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-6bfe7edc418537ef1701fde328d20225_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1394\" data-rawheight=\"776\" data-original-token=\"v2-2504b3f2d430d02ae17f21e013171384\" data-default-watermark-src=\"https://picx.zhimg.com/v2-40cb722c0def628342bfdfcd2c15848d_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1394\" data-original=\"https://picx.zhimg.com/v2-6bfe7edc418537ef1701fde328d20225_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"Pyb7sRyp\"\u003e当然，开窍路上要警惕:一是信息傲慢，觉得自己掌握的认知就是真理，拒绝接纳不同观点，结果从一个认知监狱跳进另一个；二是认知焦虑，看到别人开窍就盲目跟风，今天学区块链，明天搞元宇宙，结果成了认知墙头草；三是行动脱节，认知提升了却不落地，就像给自行车装飞机引擎，看着厉害实则没用。小哥的应对策略是：每月做一次认知体检，用能否解决实际问题作为唯一检验标准，但凡发现某个认知点长期没用，立刻启动删除程序。\u003c/p\u003e\u003cp data-pid=\"T18cEAMc\"\u003e认知开窍不是突然顿悟，而是信息处理系统的全面升级。当你能像小哥那样，把80%的精力花在20%的有效信息上，用输出倒逼深度思考，认知监狱的铁栏杆自然会生锈腐烂。这个世界从不缺信息，缺的是能把信息熬成认知结晶的蒸馏器。记住：开窍的本质，不是让你知道更多，而是让你知道哪些根本不用知道。\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":205,"thumbnails":["https://pic1.zhimg.com/50/v2-5e019093cc850020506bde5448c93fac_720w.jpg?source=b6762063","https://pica.zhimg.com/50/v2-5e2f8dfe37acc5b197ca058a73fefc6f_720w.jpg?source=b6762063","https://pica.zhimg.com/50/v2-b0527e97a6781d730df45b72f0d9b14b_720w.jpg?source=b6762063"],"favorite_count":10,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1932761788216246642}","attached_info":"CoEHCOPSpL6lxr3qkwEQBBoJNzM5MDY5MjM0II+1lsQGKAowAEChAUpCCi1UU19TT1VSQ0VfVFdPVE9XRVJfTVVMVElfU0NFTkVfVjFfUkVDQUxMX1RFWFQSATAYACAAOgp7InJhdyI6IiJ9WgkxMTU4NzM2ODBiIGFhN2QyMjRlMDZkNGIzMWI3NGY2NGQwODBkOWI3ZjU2chMxOTMyNzYxNzg4MjE2MjQ2NjQyigETMTkzMDI0Mzk2NDUxMTk3NDI2OaoBCXJlY29tbWVuZMIBIDNjNjM2ZGE5MGFhMmQ4OWYzOGQ4M2E3ZTRhNDFlOTA08gEKCAwSBk5vcm1hbPIBKAgKEiRkMThjYjdhNy02NWIxLTQ0NzktOWU2OC1hMDA0MjNiZDA0M2XyAQYICxICMjeCAgCIAsrxzc6FM5ICIDNjNjM2ZGE5MGFhMmQ4OWYzOGQ4M2E3ZTRhNDFlOTA0mgIAygIWU2hvckludGVyZXN0V2VpZ2h0UnVsZcoCFVVzZXJMY25FeGl0V2VpZ2h0UnVsZcoCFVF1ZXN0aW9uSXNvbGF0aW9uUnVsZdoCLVRTX1NPVVJDRV9UV09UT1dFUl9NVUxUSV9TQ0VORV9WMV9SRUNBTExfVEVYVOgCA/oCC05PUk1BTF9GTE9XigMgZjM4ZTU4OGU4OGNjNDBmMzhhYmM4NWU1YWY0YzQyZWOaAw0KAnYyEAAaBW90aGVyqAPNAdgDAOoDFXRleHRGZWVkVHdvVG93ZXJWMUFsbPoDrAESDFVOS05PV05fTU9ERSAAKg1OT19JTUFHRV9NT0RFOi0IAxCECRiyCCIjdjItYzQ4MDIwYjQ1MWViYzEzYzk2Zjc2NzA5YWMyOGU2ZjM6LQgDEMQKGP4GIiN2Mi0wMzFjY2FiYzFmZGM0OTk3YzI4MGVlMWQ1MDdiY2U3OTotCAMQ8goYiAYiI3YyLTI1MDRiM2YyZDQzMGQwMmFlMTdmMjFlMDEzMTcxMzg0gAQAiAQAkgQGTm9ybWFsmgQBM6AEAKgEALAEALoEAmFpwgQDNDAwyAQA0gQP5o6o6I2Q5bey5pu05paw2AQA8AQA+QQAAAAAQiidP4EFAAAAAAAAAACJBb+vh1U6dNM/kgUAmgUDZGZ0ogUDZGZ0sgUBMbkFAAAAAAAAAADQBQDgBQDoBQDwBRuQBgCgBqMBqAYAkgIuCgk3MzkwNjkyMzQSEzE5MzI3NjE3ODgyMTYyNDY2NDIYBCIKSU1BR0VfVEVYVA==","action_card":false}],"paging":{"is_end":false,"is_start":false,"next":"https://www.zhihu.com/api/v3/feed/topstory/recommend?action=down\u0026ad_interval=-10\u0026after_id=161\u0026desktop=true\u0026end_offset=163\u0026page_number=28\u0026session_token=aa7d224e06d4b31b74f64d080d9b7f56","previous":"https://www.zhihu.com/api/v3/feed/topstory/recommend?action=pull\u0026ad_interval=-10\u0026before_id=161\u0026desktop=true\u0026end_offset=163\u0026page_number=28\u0026session_token=aa7d224e06d4b31b74f64d080d9b7f56","totals":0},"fresh_text":"推荐已更新"}
