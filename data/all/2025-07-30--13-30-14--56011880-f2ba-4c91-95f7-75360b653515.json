{"data":[{"id":"102_1753853432.273","type":"feed","offset":102,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1753853432,"updated_time":1753853432,"target":{"id":"1932583863881819030","type":"answer","url":"https://api.zhihu.com/answers/1932583863881819030","author":{"id":"6e27b365a44ee865ba0ba4c546da5349","url":"https://api.zhihu.com/people/6e27b365a44ee865ba0ba4c546da5349","user_type":"people","url_token":"5-19-33-48","name":"沈奕白","headline":"正财有限。偏财无分。","avatar_url":"https://picx.zhimg.com/50/v2-d9c4fe45083d67fabba142f3a3f28b80_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":2535,"is_following":false,"is_followed":false},"created_time":1753543898,"updated_time":1753705562,"voteup_count":1010,"thanks_count":50,"comment_count":111,"is_copyable":true,"question":{"id":"444003245","type":"question","url":"https://api.zhihu.com/questions/444003245","author":{"id":"10677ec8cda4bf48e2b7d214c4149859","url":"https://api.zhihu.com/people/10677ec8cda4bf48e2b7d214c4149859","user_type":"people","url_token":"xiao-kou-dai-wu-dao","name":"知乎用户","headline":"","avatar_url":"https://picx.zhimg.com/50/v2-be268ae93d9a4fbb25a13f19f57791e5_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":2,"is_following":false,"is_followed":false},"title":"穷人怎么才能翻身？","created":1613060717,"answer_count":0,"follower_count":0,"comment_count":48,"bound_topic_ids":[5416,110702,185050],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"excerpt":"我现在越来越觉得，穷人不需要翻身。 穷人只需要做到一件事： 好好活完这一生，别受罪，别被骗，别进ICU。翻身？那是给“有本钱烧钱、有人脉兜底、有关系擦屁股”的人准备的副本。 什么叫穷人？出生在贫困家庭+父母没本事+没人脉关系继承。 出生自带“负Buff”——你以为穷人玩的是生存模式，其实穷人在玩的是“硬核求生+地狱难度+没有存档点”。 穷人翻身=交智商税+运气税+寿命税=痛苦且操劳的一生想创业？99%的人，三年内关门…","excerpt_new":"我现在越来越觉得，穷人不需要翻身。 穷人只需要做到一件事： 好好活完这一生，别受罪，别被骗，别进ICU。翻身？那是给“有本钱烧钱、有人脉兜底、有关系擦屁股”的人准备的副本。 什么叫穷人？出生在贫困家庭+父母没本事+没人脉关系继承。 出生自带“负Buff”——你以为穷人玩的是生存模式，其实穷人在玩的是“硬核求生+地狱难度+没有存档点”。 穷人翻身=交智商税+运气税+寿命税=痛苦且操劳的一生想创业？99%的人，三年内关门…","preview_type":"default","preview_text":"","reshipment_settings":"allowed","content":"\u003cp data-pid=\"L8T6bmih\"\u003e我现在越来越觉得，穷人不需要翻身。\u003c/p\u003e\u003cp data-pid=\"bZUFhnGM\"\u003e穷人只需要做到一件事：\u003cb\u003e好好活完这一生，别受罪，别被骗，别进ICU。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"GKg47vEw\"\u003e翻身？那是给“有本钱烧钱、有人脉兜底、有关系擦屁股”的人准备的副本。\u003c/p\u003e\u003cp data-pid=\"bZBloIwN\"\u003e什么叫穷人？出生在贫困家庭+父母没本事+没人脉关系继承。\u003c/p\u003e\u003cp data-pid=\"QwPMT_O9\"\u003e出生自带“负Buff”——你以为穷人玩的是生存模式，其实穷人在玩的是“硬核求生+地狱难度+没有存档点”。\u003c/p\u003e\u003cp data-pid=\"HG-7iuQi\"\u003e\u003cb\u003e穷人翻身=交智商税+运气税+寿命税=痛苦且操劳的一生\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"OSAR-fYk\"\u003e想创业？99%的人，三年内关门跑路，血本无归还欠一屁股债；\u003c/p\u003e\u003cp data-pid=\"QyBGs5Rf\"\u003e想考公？得全职啃老，熬夜背题，跟一群考了两三年的985卷狗抢一个坑位；\u003c/p\u003e\u003cp data-pid=\"GmAQYKtz\"\u003e想搞副业？平台抽成，甲方压价，熬夜剪视频，一条爆款干不出工资的5%；\u003c/p\u003e\u003cp data-pid=\"mbWYosbT\"\u003e最后发现，所谓“翻身”，就是把攒下的一点血汗钱，交给了那些早已站在高位的收割机。\u003c/p\u003e\u003cp data-pid=\"fYRapbOW\"\u003e\u003cb\u003e“不翻身”的穷人，才是真正的聪明人\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"RmN8gGQp\"\u003e不努力，不是懒，而是发现：整个游戏系统根本不允许穷人赢，于是决定不玩了，仅此而已。\u003c/p\u003e\u003cp data-pid=\"PhLd6cUq\"\u003e不买房、不结婚、不生娃、不贷款； 不卷学历、不卷名校、不拼命； 低欲望生活，低成本生存。\u003c/p\u003e\u003cp data-pid=\"FIL-OKt9\"\u003e吃粗茶淡饭，住小屋，找个兴趣爱好打发一下时间，偶尔打点零工，存点养老金。\u003c/p\u003e\u003cp data-pid=\"D0wtn0CX\"\u003e别笑，这种人未来活得最稳——因为他是唯一不会被系统收割的人。\u003c/p\u003e\u003cp data-pid=\"qCYqP-vM\"\u003e大部分人痛苦，不是因为穷，而是被幻想逼疯了。\u003c/p\u003e\u003cp data-pid=\"So5s9mFl\"\u003e他们天天被互联网的“成功学”荼毒，以为只要够努力，就能逆袭。结果干了10年，发现：\u003cb\u003e穷还是穷；劳还是劳；苦还是苦。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"GUj7_z2M\"\u003e而清醒的穷人懂一个道理：我不是失败者，只是不想当傻子。\u003c/p\u003e\u003cp data-pid=\"6JxJzisl\"\u003e只是不想再贷款给银行送钱；\u003c/p\u003e\u003cp data-pid=\"gMnB4ieH\"\u003e只是不想再结婚给体制养育劳动力；\u003c/p\u003e\u003cp data-pid=\"5kwwzKYn\"\u003e只是不想再内卷给平台免费打工；\u003c/p\u003e\u003cp data-pid=\"z7TWHMZ3\"\u003e只是不想再上钩给资本收割热血。\u003c/p\u003e\u003cp data-pid=\"V4CLV8Av\"\u003e退出了这场充满陷阱的游戏，不要想着当赢家，就可以活得比90%的社畜舒服。\u003c/p\u003e\u003cp data-pid=\"k7subhul\"\u003e这么做不是“躺平”，是看透了系统后主动“断电”。\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":38033,"favorite_count":685,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1932583863881819030}","attached_info":"CskFCPaQ35yTk7bYuwEQBBoJNzM5MDE2NzY3INrpk8QGKPIHMG9AZko/CipUU19TT1VSQ0VfWlJFQ0FMTF9GRUVEUkVfTkVXQklFX0hPVVJMWV9SVU0SATAYACAAOgp7InJhdyI6IiJ9Wgg2MDk0NTg1MmIgNWIwNzM2MzUyZjUwYTE1N2Y1M2YwMTgxY2U4MjAwYzFyEzE5MzI1ODM4NjM4ODE4MTkwMzCKAQk0NDQwMDMyNDWqAQlyZWNvbW1lbmTCASA2ZTI3YjM2NWE0NGVlODY1YmEwYmE0YzU0NmRhNTM0OfIBCggMEgZOb3JtYWzyASgIChIkOWIwMjBiOTgtODkxMS00ZGRhLTk1MjYtMWRkM2M5YzczNTE08gEGCAsSAjE4ggIAiAKsp77OhTOSAiA2ZTI3YjM2NWE0NGVlODY1YmEwYmE0YzU0NmRhNTM0OZoCAMoCFlNob3JJbnRlcmVzdFdlaWdodFJ1bGXKAhVVc2VyTGNuRXhpdFdlaWdodFJ1bGXaAipUU19TT1VSQ0VfWlJFQ0FMTF9GRUVEUkVfTkVXQklFX0hPVVJMWV9SVU3oAgL6AgtOT1JNQUxfRkxPV4oDIDA5MmNkYWM2ZTk3NjQ2ZmViNGE4OThlYTA2ZjEyN2FimgMNCgJ2MhAAGgVvdGhlcqgDkakC2AMA6gMQbmV3YmllX2ZlZWRyZV92MvoDHxIMVU5LTk9XTl9NT0RFIAAqDU5PX0lNQUdFX01PREWABACIBACSBAZOb3JtYWyaBAEyoAQAqAQAsAQAugQGbWFudWFswgQDMTU3yAQA0gQP5o6o6I2Q5bey5pu05paw2AQA8AQA+QQAAABAkgGpP4EFAAAAAAAAAACJBb+4dxurc9M/kgUAmgUDZGZ0ogUDZGZ0sgUBMbkFAAAAAAAAAADQBQDgBQDoBQDwBRKQBgCgBmioBgGSAi4KCTczOTAxNjc2NxITMTkzMjU4Mzg2Mzg4MTgxOTAzMBgEIgpJTUFHRV9URVhU","action_card":false},{"id":"103_1753853432.718","type":"feed","offset":103,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1753853432,"updated_time":1753853432,"target":{"id":"3589726717","type":"answer","url":"https://api.zhihu.com/answers/3589726717","author":{"id":"94566950427dea6949beadc7a191185f","url":"https://api.zhihu.com/people/94566950427dea6949beadc7a191185f","user_type":"people","url_token":"li-jing-wen-39-83","name":"千牛备身","headline":"带你领略街坊里的唐人生活","avatar_url":"https://picx.zhimg.com/50/v2-d4122db196e5acd9b344f91f2d8c3756_l.jpg?source=b6762063","is_org":false,"gender":1,"badge":[{"type":"identity_people","description":"金融业 从业人员"}],"followers_count":2003,"is_following":false,"is_followed":false},"created_time":1723248887,"updated_time":1724642570,"voteup_count":3046,"thanks_count":136,"comment_count":765,"is_copyable":false,"question":{"id":"266446300","type":"question","url":"https://api.zhihu.com/questions/266446300","author":{"id":"","url":"","user_type":"people","url_token":"","name":"匿名用户","headline":"","avatar_url":"https://picx.zhimg.com/v2-d41c2ceaed8f51999522f903672a521f_l.jpg?source=b6762063","is_org":false,"gender":-1,"followers_count":0,"is_following":false,"is_followed":false},"title":"有哪些古籍是曾经失传，到近现代才被重新发现的？","created":1517370072,"answer_count":0,"follower_count":0,"comment_count":11,"bound_topic_ids":[285,1528,2058,23486],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"thumbnail":"https://pic1.zhimg.com/50/v2-cf011877a01b80e46075c58411911c7f_720w.jpg?source=b6762063","excerpt":"《六军镜》 这就不得不提到百度百科上已经显示失传千年，但是被网友找到的一本书了。 大唐定襄道行军总管、兵部尚书、尚书右仆射、并州都督李靖撰写的军事著作《六军镜》（ 各五章，以天子六军故取为名。起政理，终尅敌），已经失传一千多年。最近被热心网友找回的一本军事著作，《旧唐书》中李靖名下唯一署名的军事著作。千年已降，各代帝王都务求搜罗唐代李靖的军事著作。尤其是武德不振的宋朝皇帝，多次下旨寻找，一直求而不…","excerpt_new":"《六军镜》 这就不得不提到百度百科上已经显示失传千年，但是被网友找到的一本书了。 大唐定襄道行军总管、兵部尚书、尚书右仆射、并州都督李靖撰写的军事著作《六军镜》（ 各五章，以天子六军故取为名。起政理，终尅敌），已经失传一千多年。最近被热心网友找回的一本军事著作，《旧唐书》中李靖名下唯一署名的军事著作。千年已降，各代帝王都务求搜罗唐代李靖的军事著作。尤其是武德不振的宋朝皇帝，多次下旨寻找，一直求而不…","preview_type":"default","preview_text":"","reshipment_settings":"disallowed","content":"\u003cp data-pid=\"ogSbfOOr\"\u003e   《六军镜》  这就不得不提到百度百科上已经显示失传千年，但是被网友找到的一本书了。\u003c/p\u003e\u003cp data-pid=\"6ZpEaHcP\"\u003e    大唐定襄道行军总管、兵部尚书、尚书右仆射、并州都督李靖撰写的军事著作《六军镜》（\u003cb\u003e各五章，以天子六军故取为名。起政理，终尅敌\u003c/b\u003e），已经失传一千多年。最近被热心网友找回的一本军事著作，《旧唐书》中李靖名下唯一署名的军事著作。\u003c/p\u003e\u003cp data-pid=\"OjX7zzzo\"\u003e千年已降，各代帝王都务求搜罗唐代李靖的军事著作。尤其是武德不振的宋朝皇帝，多次下旨寻找，一直求而不得。去年年底的时候有网友找到资源后上传到了书格古籍图书馆。\u003c/p\u003e\u003cp data-pid=\"UQkkJlem\"\u003e\u003cb\u003e欢迎大家关注我。\u003c/b\u003e 本人爱好唐史，业余科普。本次书籍热潮超出我想象。我把书籍资源链接贴出来，大家自取吧。\u003c/p\u003e\u003ca data-draft-node=\"block\" data-draft-type=\"link-card\" href=\"https://link.zhihu.com/?target=https%3A//www.shuge.org/meet/topic/120555/\" data-image=\"https://pic3.zhimg.com/v2-c91c571b5088e0c06116a007ac034598.jpg\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003e六军镜. 唐李靖. 灰度 - 书格\u003c/a\u003e\u003cp data-pid=\"IguM6336\"\u003e资源里的书籍是古文原文，无句读且有漏字。知友 \u003ca class=\"member_mention\" href=\"https://www.zhihu.com/people/c61461fd649760154b6fc475ed524a39\" data-hash=\"c61461fd649760154b6fc475ed524a39\" data-hovercard=\"p$b$c61461fd649760154b6fc475ed524a39\"\u003e@蓝牛豆豆\u003c/a\u003e 已经开专栏进行校对\u003c/p\u003e\u003cp data-pid=\"9yqqglQ_\"\u003e古文翻译也有知友 \u003ca class=\"member_mention\" href=\"https://www.zhihu.com/people/66697d317c5859686e42e00a5b706d5a\" data-hash=\"66697d317c5859686e42e00a5b706d5a\" data-hovercard=\"p$b$66697d317c5859686e42e00a5b706d5a\"\u003e@若空\u003c/a\u003e 通过AI进行翻译。\u003c/p\u003e\u003cp data-pid=\"Q9GMLyB3\"\u003e因知友 \u003ca class=\"member_mention\" href=\"https://www.zhihu.com/people/b094231c219336b128311c1292ac0235\" data-hash=\"b094231c219336b128311c1292ac0235\" data-hovercard=\"p$b$b094231c219336b128311c1292ac0235\"\u003e@朱存勖\u003c/a\u003e 提及《六军镜》与杜佑《通典》提及的《李卫公兵法》内容相近，疑似同一本书。我找到了国内53部古代兵书。对相关内容比对了一下，有部分内容一致，文风一致，是同一个作者。但是还是看得出来写作方向不太一样。如果有其他知友对这53本中国古代军事著作（\u003cb\u003e从先秦到清，包含了《卫公兵法》《唐通典·兵典》《练兵实纪》戚继光等，具体兵书目录见下面另一个答案链接\u003c/b\u003e）感兴趣的，可以关注我后私信邮箱。务必不要评论区索要，容易遗漏。\u003c/p\u003e\u003ca data-draft-node=\"block\" data-draft-type=\"link-card\" href=\"https://www.zhihu.com/question/469095631/answer/3605789305?utm_psn=1811150832281985025\" data-image=\"https://pica.zhimg.com/v2-30268f991696833de6c0358b5d775c82_720w.jpg\" data-image-width=\"1188\" data-image-height=\"1786\" class=\"internal\"\u003e大佬们可以推荐一些关于古代军事知识方面的书籍吗？\u003c/a\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic3.zhimg.com/v2-2d741c4bb1140c106b78bbfc5d98f876_1440w.jpg\" data-rawwidth=\"1188\" data-rawheight=\"1786\" data-size=\"normal\" data-original-token=\"v2-e4f2be558e5ff673b68e24005f6b86df\" data-default-watermark-src=\"https://picx.zhimg.com/v2-6b09a620594ff7dc425b77b9c7228313_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1188\" data-original=\"https://pic3.zhimg.com/v2-2d741c4bb1140c106b78bbfc5d98f876_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-4f513cff85c198a099833880b31e6910_1440w.jpg\" data-rawwidth=\"162\" data-rawheight=\"495\" data-size=\"normal\" data-original-token=\"v2-4f513cff85c198a099833880b31e6910\" data-default-watermark-src=\"https://pic1.zhimg.com/v2-4f513cff85c198a099833880b31e6910_b.jpg\" class=\"content_image\" width=\"162\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic2.zhimg.com/v2-bc3e329427d78305c17db2e265449795_1440w.jpg\" data-rawwidth=\"1200\" data-rawheight=\"2165\" data-size=\"normal\" data-original-token=\"v2-83c47f9a735a4c478989044a51c258ef\" data-default-watermark-src=\"https://pic4.zhimg.com/v2-c443af5718f0620fb4b26c4c10995e11_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1200\" data-original=\"https://pic2.zhimg.com/v2-bc3e329427d78305c17db2e265449795_r.jpg\"/\u003e\u003c/figure\u003e\u003cp\u003e\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":471240,"thumbnails":["https://picx.zhimg.com/50/v2-cf011877a01b80e46075c58411911c7f_720w.jpg?source=b6762063","https://picx.zhimg.com/50/v2-d3252038990558f01034598940ddab09_720w.jpg?source=b6762063"],"favorite_count":4721,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 3589726717}","attached_info":"Cv4GCPaQ35yTk7bYuwEQBBoJNjgyNzQ4MDEyIPfh2rUGKOYXMP0FQGdKPwoqVFNfU09VUkNFX1pSRUNBTExfRkVFRFJFX05FV0JJRV9IT1VSTFlfUlVNEgEwGAAgADoKeyJyYXciOiIifVoIMjEwMTA2NjBiIDViMDczNjM1MmY1MGExNTdmNTNmMDE4MWNlODIwMGMxcgozNTg5NzI2NzE3igEJMjY2NDQ2MzAwqgEJcmVjb21tZW5kwgEgOTQ1NjY5NTA0MjdkZWE2OTQ5YmVhZGM3YTE5MTE4NWbyAQoIDBIGTm9ybWFs8gEoCAoSJDAwMzFkZjIzLThhYTgtNDUwNi1iYmVlLWJjZTE4OTE1NTA2OfIBBggLEgIxOIICAIgCrKe+zoUzkgIgOTQ1NjY5NTA0MjdkZWE2OTQ5YmVhZGM3YTE5MTE4NWaaAgDKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygIWUmV2aXNpdFZhbHVlV2VpZ2h0UnVsZcoCFVVzZXJMY25FeGl0V2VpZ2h0UnVsZcoCFENvbnRlbnRBZ2VXZWlnaHRSdWxl2gIqVFNfU09VUkNFX1pSRUNBTExfRkVFRFJFX05FV0JJRV9IT1VSTFlfUlVN6AIC+gILTk9STUFMX0ZMT1eKAyAwOTJjZGFjNmU5NzY0NmZlYjRhODk4ZWEwNmYxMjdhYpoDDQoCdjIQABoFb3RoZXKoA8jhHNgDAOoDEG5ld2JpZV9mZWVkcmVfdjL6A6wBEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERTotCAMQpAkY+g0iI3YyLWU0ZjJiZTU1OGU1ZmY2NzNiNjhlMjQwMDVmNmI4NmRmOi0IAhCiARjvAyIjdjItNGY1MTNjZmY4NWMxOThhMDk5ODMzODgwYjMxZTY5MTA6LQgCELAJGPUQIiN2Mi04M2M0N2Y5YTczNWE0YzQ3ODk4OTA0NGE1MWMyNThlZoAEAIgEAJIEBk5vcm1hbJoEATKgBACoBACwBAC6BAZtYW51YWzCBAIzMMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAQM+6qj+BBQAAAAAAAAAAiQW/uHcbq3PTP5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AUSkAYAoAZpqAYDkgIlCgk2ODI3NDgwMTISCjM1ODk3MjY3MTcYBCIKSU1BR0VfVEVYVA==","action_card":false},{"id":"104_1753853432.541","type":"feed","offset":104,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1753853432,"updated_time":1753853432,"target":{"id":"2950487003","type":"answer","url":"https://api.zhihu.com/answers/2950487003","author":{"id":"4626dd9f864c1e24fe345a416483b06b","url":"https://api.zhihu.com/people/4626dd9f864c1e24fe345a416483b06b","user_type":"people","url_token":"yu-tong-8-3","name":"有意思","headline":"手机随缘写作，谢绝抬杠","avatar_url":"https://picx.zhimg.com/50/v2-9a26bd676f64bf9f8c0ea88461010af9_l.jpg?source=b6762063","is_org":false,"gender":-1,"followers_count":12158,"is_following":false,"is_followed":false},"created_time":1679582595,"updated_time":1685966716,"voteup_count":16103,"thanks_count":2160,"comment_count":1156,"is_copyable":true,"question":{"id":"590486180","type":"question","url":"https://api.zhihu.com/questions/590486180","author":{"id":"","url":"","user_type":"people","url_token":"","name":"匿名用户","headline":"","avatar_url":"https://pica.zhimg.com/v2-d41c2ceaed8f51999522f903672a521f_l.jpg?source=b6762063","is_org":false,"gender":-1,"followers_count":0,"is_following":false,"is_followed":false},"title":"怎么和男朋友愉快的把彩礼聊下来？","created":1679155493,"answer_count":0,"follower_count":0,"comment_count":112,"bound_topic_ids":[9628,99628],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"excerpt":"告诫广大未婚男性一件事。 如果一个女生在跟你谈婚论嫁的时候因为彩礼房车闹的不开心，大概率是因为她和她家人没瞧得上你。所谓的用这些给她安全感，实际上是觉得嫁给你吃亏了，用你的金钱，补偿她们受伤的心灵。遇到这种人，赶紧分。 一个女生，如果真的很喜欢你很想嫁给你，她根本不会提这些房车彩礼。如果她的家人看得上你，她们会让你们抓紧结婚办婚礼，觉得不能因为钱而耽误女儿幸福，而不是下婚车之前临时要求加钱给你难堪…","excerpt_new":"告诫广大未婚男性一件事。 如果一个女生在跟你谈婚论嫁的时候因为彩礼房车闹的不开心，大概率是因为她和她家人没瞧得上你。所谓的用这些给她安全感，实际上是觉得嫁给你吃亏了，用你的金钱，补偿她们受伤的心灵。遇到这种人，赶紧分。 一个女生，如果真的很喜欢你很想嫁给你，她根本不会提这些房车彩礼。如果她的家人看得上你，她们会让你们抓紧结婚办婚礼，觉得不能因为钱而耽误女儿幸福，而不是下婚车之前临时要求加钱给你难堪…","preview_type":"default","preview_text":"","reshipment_settings":"allowed","content":"\u003cp data-pid=\"d-sNNvQp\"\u003e告诫广大未婚男性一件事。\u003c/p\u003e\u003cp data-pid=\"7MSG2Qpr\"\u003e如果一个女生在跟你谈婚论嫁的时候因为彩礼房车闹的不开心，大概率是因为她和她家人没瞧得上你。所谓的用这些给她安全感，实际上是觉得嫁给你吃亏了，用你的金钱，补偿她们受伤的心灵。遇到这种人，赶紧分。\u003c/p\u003e\u003cp data-pid=\"vPcYY8o5\"\u003e一个女生，如果真的很喜欢你很想嫁给你，她根本不会提这些房车彩礼。如果她的家人看得上你，她们会让你们抓紧结婚办婚礼，觉得不能因为钱而耽误女儿幸福，而不是下婚车之前临时要求加钱给你难堪。\u003c/p\u003e\u003cp data-pid=\"hCpqqVzz\"\u003e以上是我观察身边无数对情侣得出来的结论。\u003c/p\u003e\u003cp data-pid=\"6Jp5lCsA\"\u003e一个女孩如果嫁给了首富儿子，她是不会主动要求彩礼的，因为她知道，不能因为这点彩礼让别人瞧不起自己。不要这彩礼，婚后安全感反而更高。\u003c/p\u003e\u003cp data-pid=\"USHI1yAu\"\u003e首富也不傻，钱也不是大风刮来的。如果首富儿子的女朋友提出了天价彩礼，即使给得起，也难免会对这个女性产生质疑。\u003c/p\u003e\u003cp data-pid=\"eajUxydC\"\u003e首富非要给，聪明的女孩和家人也会想办法还回去。\u003c/p\u003e\u003cp data-pid=\"tmDy6vLP\"\u003e所以，因为彩礼、房子加名字等等谈崩了，是好事，别觉得是遗憾。\u003c/p\u003e\u003cp data-pid=\"z-hM8XRe\"\u003e即便你借遍了亲戚朋友满足了她的彩礼要求，这一辈子她都会觉得跟着你亏了。\u003c/p\u003e\u003cp data-pid=\"UC_1nZht\"\u003e你会发现莫名其妙她突然给你发那么大的脾气，因为她看到朋友圈里有人去三亚旅游了。\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":1381976,"favorite_count":8737,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 2950487003}","attached_info":"CrsFCPaQ35yTk7bYuwEQBBoJNTY2NTM2NTc5IIPL8aAGKOd9MIQJQGhKMAobVFNfU09VUkNFX0JBU0lDX0lORk9fUkVDQUxMEgEwGAAgADoKeyJyYXciOiIifVoIOTM1MDA0ODBiIDViMDczNjM1MmY1MGExNTdmNTNmMDE4MWNlODIwMGMxcgoyOTUwNDg3MDAzigEJNTkwNDg2MTgwqgEJcmVjb21tZW5kwgEgNDYyNmRkOWY4NjRjMWUyNGZlMzQ1YTQxNjQ4M2IwNmLyAQoIDBIGTm9ybWFs8gEoCAoSJDQxZGQxYTAwLTAwOTItNGJjMC1hZTFlLWJmZjJiZTBjNWQzYvIBBggLEgIxOIICAIgCrKe+zoUzkgIgNDYyNmRkOWY4NjRjMWUyNGZlMzQ1YTQxNjQ4M2IwNmKaAgDKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygIVVXNlckxjbkV4aXRXZWlnaHRSdWxlygIUQ29udGVudEFnZVdlaWdodFJ1bGXaAhtUU19TT1VSQ0VfQkFTSUNfSU5GT19SRUNBTEzoAgL6AgtOT1JNQUxfRkxPV4oDIDA5MmNkYWM2ZTk3NjQ2ZmViNGE4OThlYTA2ZjEyN2FimgMNCgJ2MhAAGgVvdGhlcqgD2KxU2AMA6gMRYmFzaWNfaW5mb19yZWNhbGz6Ax8SDFVOS05PV05fTU9ERSAAKg1OT19JTUFHRV9NT0RFgAQAiAQAkgQGTm9ybWFsmgQBMqAEAKgEALAEALoEBm1hbnVhbMIEAzE3MMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAYPUhrz+BBQAAAAAAAAAAiQW/uHcbq3PTP5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AUSkAYAoAZqqAYAkgIlCgk1NjY1MzY1NzkSCjI5NTA0ODcwMDMYBCIKSU1BR0VfVEVYVA==","action_card":false},{"id":"105_1753853432.359","type":"feed","offset":105,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1753853432,"updated_time":1753853432,"target":{"id":"1932829859475878139","type":"answer","url":"https://api.zhihu.com/answers/1932829859475878139","author":{"id":"3f7c959cbd6bda9f551dba447ce148f3","url":"https://api.zhihu.com/people/3f7c959cbd6bda9f551dba447ce148f3","user_type":"people","url_token":"feng-yun-du-wu-7","name":"大志说编程","headline":"","avatar_url":"https://picx.zhimg.com/50/v2-9f17c2559fa9e51da934caa276569554_l.jpg?source=b6762063","is_org":false,"gender":-1,"followers_count":114,"is_following":false,"is_followed":false},"created_time":1753602548,"updated_time":1753602548,"voteup_count":0,"thanks_count":0,"comment_count":0,"is_copyable":true,"question":{"id":"646730950","type":"question","url":"https://api.zhihu.com/questions/646730950","author":{"id":"0d0d318b9bbf6df6c04ea8c252b78f28","url":"https://api.zhihu.com/people/0d0d318b9bbf6df6c04ea8c252b78f28","user_type":"people","url_token":"lbn-you-zi","name":"柚子软糖","headline":"心理/翻译/cs/教育","avatar_url":"https://picx.zhimg.com/50/v2-dcc836fcb0183cadd80ddc4ad045873a_l.jpg?source=b6762063","is_org":false,"gender":0,"followers_count":31,"is_following":false,"is_followed":false},"title":"langchain的文档看不懂怎么办？","created":1709355032,"answer_count":0,"follower_count":0,"comment_count":0,"bound_topic_ids":[228,2236786,2396255,2589290],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"excerpt":"在前面几篇文章中，我们已经掌握了LangChain的核心组件：提示词模板、大语言模型、输出解析器。细心的读者可能发现，在使用这些组件时，经常会看到类似 prompt | llm | parser 这样的链式操作。这就是今天重点介绍的LCEL（LangChain Expression Language）表达式。在平时开发中，经常需要将多个组件组合起来形成完整的处理流程，将上一个组件的输出作为下一个组件的输入，在不使用LCEL表达式之前，就会写出这种代码：使用 invoke…","excerpt_new":"在前面几篇文章中，我们已经掌握了LangChain的核心组件：提示词模板、大语言模型、输出解析器。细心的读者可能发现，在使用这些组件时，经常会看到类似 prompt | llm | parser 这样的链式操作。这就是今天重点介绍的LCEL（LangChain Expression Language）表达式。在平时开发中，经常需要将多个组件组合起来形成完整的处理流程，将上一个组件的输出作为下一个组件的输入，在不使用LCEL表达式之前，就会写出这种代码：使用 invoke…","preview_type":"default","preview_text":"","reshipment_settings":"allowed","content":"\u003cp data-pid=\"MOEqvaKA\"\u003e在前面几篇文章中，我们已经掌握了LangChain的核心组件：提示词模板、大语言模型、输出解析器。细心的读者可能发现，在使用这些组件时，经常会看到类似 \u003ccode\u003eprompt | llm | parser\u003c/code\u003e 这样的链式操作。这就是今天重点介绍的LCEL（LangChain Expression Language）表达式。\u003c/p\u003e\u003cp data-pid=\"zPvArvJ1\"\u003e在平时开发中，经常需要将多个组件组合起来形成完整的处理流程，将上一个组件的输出作为下一个组件的输入，在不使用LCEL表达式之前，就会写出这种代码：使用 \u003ccode\u003einvoke()\u003c/code\u003e 进行层层嵌套，这就好比早期 JS 中的回调地狱，\u003cb\u003e结构混乱、难以维护\u003c/b\u003e，并且出现错误很难判断是哪一步出了问题。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"c1\"\u003e# 1.构建提示词\u003c/span\u003e\n\u003cspan class=\"n\"\u003eprompt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_messages\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;system\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;你是一个资深文学家\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;human\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;请简短赏析{name}这首诗，并给出评价\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 2.创建模型\u003c/span\u003e\n\u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatOpenAI\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# 3.创建字符串输出解析器\u003c/span\u003e\n\u003cspan class=\"n\"\u003eparser\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eStrOutputParser\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 4.调用模型返回结果\u003c/span\u003e\n\u003cspan class=\"n\"\u003eresult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eparser\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003einvoke\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ellm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003einvoke\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eprompt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003einvoke\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;name\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;江雪\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"mU79DEUl\"\u003e而LCEL让这个过程变得简洁直观，通过管道符号进行连接，可以很轻松地构建出功能强大的AI应用。\u003c/p\u003e\u003cblockquote data-pid=\"q9AWTDl8\"\u003e文中所有示例代码：\u003ca href=\"https://link.zhihu.com/?target=https%3A//github.com/wzycoding/langchain-study\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003e\u003cspan class=\"invisible\"\u003ehttps://\u003c/span\u003e\u003cspan class=\"visible\"\u003egithub.com/wzycoding/la\u003c/span\u003e\u003cspan class=\"invisible\"\u003engchain-study\u003c/span\u003e\u003cspan class=\"ellipsis\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/blockquote\u003e\u003ch2\u003e\u003cb\u003e一、什么是LCEL表达式\u003c/b\u003e\u003c/h2\u003e\u003cp data-pid=\"S9i3yr6E\"\u003eLCEL（LangChain Expression Language）是LangChain框架的表达式语言，它提供了一种声明式的方式来构建复杂的数据处理链。通过LCEL，我们可以使用管道符号 \u003ccode\u003e|\u003c/code\u003e 将不同的组件连接起来，形成一个完整的数据处理链。\u003c/p\u003e\u003cp data-pid=\"QjpJ4sHb\"\u003eLCEL有以下优点：\u003c/p\u003e\u003cp data-pid=\"t_AcY0ZD\"\u003e1、\u003cb\u003e代码更加简洁\u003c/b\u003e：用管道符号连接组件，代码更加简洁易读\u003c/p\u003e\u003cp data-pid=\"irQo0pzE\"\u003e2、\u003cb\u003e可任意组合\u003c/b\u003e：任意Runnable组件都可以自由组合，构建复杂的处理逻辑\u003c/p\u003e\u003cp data-pid=\"LYF-9Wsy\"\u003e3、\u003cb\u003e统一接口规范\u003c/b\u003e：所有Runnable组件都遵循统一的接口规范\u003c/p\u003e\u003cp data-pid=\"v9gpsB-Q\"\u003e4、\u003cb\u003e方便监控与调试\u003c/b\u003e：LangChain内置了日志和监控功能，方便调试和优化\u003c/p\u003e\u003cp data-pid=\"9tdtArXL\"\u003e下面是使用LCEL表达式的案例：\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"c1\"\u003e# 1.构建提示词\u003c/span\u003e\n\u003cspan class=\"n\"\u003eprompt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_messages\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;system\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;你是一个资深文学家\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;human\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;请简短赏析{name}这首诗，并给出评价\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 2.创建模型\u003c/span\u003e\n\u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatOpenAI\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# 3.创建字符串输出解析器\u003c/span\u003e\n\u003cspan class=\"n\"\u003eparser\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eStrOutputParser\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 4.构建链\u003c/span\u003e\n\u003cspan class=\"n\"\u003echain\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eprompt\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eparser\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 5.执行链\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;输出结果：{chain.invoke({\u0026#39;name\u0026#39;: \u0026#39;题西林壁\u0026#39;})}\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"dEVyK3-y\"\u003e显而易见，LCEL写法更加简洁，而且表达了清晰的数据流向：输入经过提示词模板处理，然后将PromptValue传递给大语言模型，最后将大语言模型输出的Message传递给输出解析器，经过输出解析器解析得到最终结果。\u003c/p\u003e\u003ch2\u003e\u003cb\u003e二、什么是Runnable组件\u003c/b\u003e\u003c/h2\u003e\u003cp data-pid=\"kSoonASS\"\u003e在深入LCEL之前，首先需要理解\u003ccode\u003eRunnable接口\u003c/code\u003e。Runnable是LangChain中所有\u003ccode\u003e可执行组件\u003c/code\u003e的基础接口，它定义了组件应该具备的标准方法。前面介绍的LangChain组件如提示词模板、模型、输出解析器等，都实现了Runnable接口，这就是为什么这些组件可以使用管道符进行连接的原因。\u003c/p\u003e\u003cp data-pid=\"mT26OeC_\"\u003e在Runnable接口中定义了以下核心方法：\u003c/p\u003e\u003cp data-pid=\"_bmVgUdG\"\u003e\u003ccode\u003einvoke(input)\u003c/code\u003e：同步执行，处理单个输入，最常用的方法\u003c/p\u003e\u003cp data-pid=\"yySFZPxo\"\u003e\u003ccode\u003ebatch(inputs)\u003c/code\u003e：批量执行，处理多个输入，提升处理效率\u003c/p\u003e\u003cp data-pid=\"1i7RMl0j\"\u003e\u003ccode\u003estream(input)\u003c/code\u003e：流式执行，逐步返回结果，经典的使用场景是大模型是一点点输出的，不是一下返回整个结果，可以通过 \u003ccode\u003estream()\u003c/code\u003e 方法，进行\u003cb\u003e流式输出\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"_Oc9TYBL\"\u003e\u003ccode\u003eainvoke(input)\u003c/code\u003e：异步执行，用于高并发场景\u003c/p\u003e\u003ch2\u003e\u003cb\u003e三、RunnableBranch条件分支\u003c/b\u003e\u003c/h2\u003e\u003cp data-pid=\"gdWiozxw\"\u003e在LangChain中提供了类RunnableBranch来完成LCEL中的条件分支判断，它可以根据输入的不同采用不同的处理逻辑，具体示例如下，在下方示例中程序会根据用户输入中是否包含‘日语’、‘韩语’等关键词，来选择对应的提示词进行处理。根据判断结果，再执行不同的逻辑分支。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003edotenv\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.output_parsers\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eStrOutputParser\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.prompts\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.runnables\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eRunnableBranch\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_openai\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eChatOpenAI\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 读取env配置\u003c/span\u003e\n\u003cspan class=\"n\"\u003edotenv\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eload_dotenv\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ejudge_language\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einputs\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34;判断语言种类\u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003equery\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003einputs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;query\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;日语\u0026#34;\u003c/span\u003e\u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003equery\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;japanese\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelif\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;韩语\u0026#34;\u003c/span\u003e\u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003equery\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;korean\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;english\u0026#34;\u003c/span\u003e\n\n\n\u003cspan class=\"c1\"\u003e# 1.构建提示词\u003c/span\u003e\n\u003cspan class=\"n\"\u003eenglish_prompt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_messages\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;system\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;你是一个英语翻译专家，你叫小英\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;human\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;{query}\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003ejapanese_prompt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_messages\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;system\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;你是一个日语翻译专家，你叫小日\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;human\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;{query}\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003ekorean_prompt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_messages\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;system\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;你是一个韩语翻译专家，你叫小韩\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;human\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;{query}\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 2.创建模型\u003c/span\u003e\n\u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatOpenAI\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# 3.创建字符串输出解析器\u003c/span\u003e\n\u003cspan class=\"n\"\u003eparser\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eStrOutputParser\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 4.构建链分支结构，默认分支为英语\u003c/span\u003e\n\u003cspan class=\"n\"\u003echain\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eRunnableBranch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elambda\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003ejudge_language\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;japanese\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ejapanese_prompt\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eparser\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elambda\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003ejudge_language\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;korean\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ekorean_prompt\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eparser\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eenglish_prompt\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eparser\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 5.执行链\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;输出结果：{chain.invoke({\u0026#39;query\u0026#39;: \u0026#39;请你用韩语翻译这句话：“我爱你”。并且告诉我你叫什么\u0026#39;})}\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"QtUxoZlt\"\u003e执行结果如下，根据执行结果，执行的是韩语分支。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-text\"\u003e输出结果：“我爱你”用韩语是：“사랑해” (Saranghae)。\n\n我叫小韩，很高兴为你服务！ \u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2\u003e\u003cb\u003e四、RunnableLambda函数转换为可执行组件\u003c/b\u003e\u003c/h2\u003e\u003cp data-pid=\"BjhH_Dhi\"\u003eLangChain还提供了类RunnableLambda，它可以非常方便的将函数转换为可执行组件，如下示例，将字符个数统计函数包装成一个RunnableLambda，并参与链执行。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003edotenv\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.output_parsers\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eStrOutputParser\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.prompts\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.runnables\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eRunnableLambda\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_openai\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eChatOpenAI\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 读取env配置\u003c/span\u003e\n\u003cspan class=\"n\"\u003edotenv\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eload_dotenv\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003echaracter_counter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34;统计输出字符个数\u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\n\u003cspan class=\"c1\"\u003e# 1.构建提示词\u003c/span\u003e\n\u003cspan class=\"n\"\u003eprompt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_messages\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;system\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;你是一个资深文学家\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;human\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;请以{subject}为主题写一首古诗\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 2.创建模型\u003c/span\u003e\n\u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatOpenAI\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# 3.创建字符串输出解析器\u003c/span\u003e\n\u003cspan class=\"n\"\u003eparser\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eStrOutputParser\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 4.构建链\u003c/span\u003e\n\u003cspan class=\"n\"\u003echain\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eprompt\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eparser\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eRunnableLambda\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003echaracter_counter\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 5.执行链\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;输出结果：{chain.invoke({\u0026#39;subject\u0026#39;: \u0026#39;大雪\u0026#39;})}\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"5vf1GPog\"\u003e执行结果：\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-text\"\u003e输出结果：67\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2\u003e\u003cb\u003e五、RunnableParallel并行处理\u003c/b\u003e\u003c/h2\u003e\u003cp data-pid=\"wJNMYdf3\"\u003e在某些需求中，为了提高执行效率，可能会有两个链并行执行的情况，比如同时进行古诗创作和解答数学题。RunnableParallel能让多个链并行处理，最终同时返回结果。\u003c/p\u003e\u003ch3\u003e\u003cb\u003e5.1 并行处理\u003c/b\u003e\u003c/h3\u003e\u003cp data-pid=\"YcCLoIhC\"\u003eRunnableParallel基础用法示例如下，RunnableParallel中需要传入一个字典结构，key是这个链的标识，value是具体链信息，RunnableParallel本身也是一个可执行组件，因此也可以调用invoke方法，最终执行后，返回的依然是一个字典，key依然是链的标识，value是链执行的结果。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003edotenv\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.output_parsers\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eStrOutputParser\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.prompts\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.runnables\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eRunnableParallel\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_openai\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eChatOpenAI\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 读取env配置\u003c/span\u003e\n\u003cspan class=\"n\"\u003edotenv\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eload_dotenv\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 1.构建提示词\u003c/span\u003e\n\u003cspan class=\"n\"\u003echinese_prompt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_messages\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;system\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;你是一个资深文学家\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;human\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;请以{subject}为主题写一首古诗\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003emath_prompt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_messages\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;system\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;你是一个资深数学家\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;human\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;请你给出数学问题:{question}的答案\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 2.创建模型\u003c/span\u003e\n\u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatOpenAI\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# 3.创建字符串输出解析器\u003c/span\u003e\n\u003cspan class=\"n\"\u003eparser\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eStrOutputParser\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 4.创建并行链\u003c/span\u003e\n\u003cspan class=\"n\"\u003eparallel_chain\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eRunnableParallel\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;chinese\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003echinese_prompt\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eparser\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;math\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003emath_prompt\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eparser\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 5.执行链\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;输出结果：{parallel_chain.invoke({\u0026#39;subject\u0026#39;: \u0026#39;春天\u0026#39;, \u0026#39;question\u0026#39;: \u0026#39;24和16最大公约数是多少？\u0026#39;})}\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"8XgCxc7g\"\u003e执行结果：\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"err\"\u003e输出结果：\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;chinese\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;好的，以下是我为春天主题创作的古诗：\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\\n\u003c/span\u003e\u003cspan class=\"s1\"\u003e**春晨**\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\\n\u003c/span\u003e\u003cspan class=\"s1\"\u003e柳垂翠影映江天，  \u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s1\"\u003e风拂桃花气馥兰。  \u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s1\"\u003e溪水悠悠行不息，  \u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s1\"\u003e莺歌燕舞入梦间。\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\\n\u003c/span\u003e\u003cspan class=\"s1\"\u003e朝霞初照翠峰低，  \u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s1\"\u003e芳草萋萋染绿池。  \u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s1\"\u003e心随春光漫游远，  \u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s1\"\u003e醉卧花间梦未已。\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\\n\u003c/span\u003e\u003cspan class=\"s1\"\u003e这首诗描绘了春天早晨的景象，柳树垂枝，桃花盛开，百鸟欢歌，心随春风游走的宁静与美好。你觉得怎么样？\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;math\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;24 和 16 的最大公约数 (GCD) 可以通过辗转相除法求得。我们可以一步一步地计算：\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\\n\u003c/span\u003e\u003cspan class=\"s1\"\u003e1. 24 ÷ 16 = 1 余 8\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"s1\"\u003e2. 16 ÷ 8 = 2 余 0\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\\n\u003c/span\u003e\u003cspan class=\"s1\"\u003e当余数为 0 时，除数 8 就是最大公约数。\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\\n\u003c/span\u003e\u003cspan class=\"s1\"\u003e所以，24 和 16 的最大公约数是 **8**。\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003e\u003cb\u003e5.2 RunnableParallel参数传递\u003c/b\u003e\u003c/h3\u003e\u003cp data-pid=\"ad7dnuOq\"\u003e上面介绍了RunnableParallel如何进行链的并行执行，下面示例展示了模拟在和大语言模型交互之前，先检索文档的操作，通过RunnableParallel将执行结果作为提示词模板的输入参数，将输出结果继续向下传递。\u003c/p\u003e\u003cp data-pid=\"0RBekj-j\"\u003e相当于传递给提示词模板的参数从最开始的一个question，又增加了一个检索文档结果的参数retrieval_info，并且，这里使用了简写方式，在LCEL表达式中，使用字典结构包裹并在管道符两侧的，都会自动包装成RunnableParallel。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eoperator\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eitemgetter\u003c/span\u003e\n\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003edotenv\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.output_parsers\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eStrOutputParser\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.prompts\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_openai\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eChatOpenAI\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 读取env配置\u003c/span\u003e\n\u003cspan class=\"n\"\u003edotenv\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eload_dotenv\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eretrieval_doc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003equestion\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34;模拟知识库检索\u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;检索器接收到用户提出问题：{question}\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;你是一个愤怒的语文老师，你叫Bob\u0026#34;\u003c/span\u003e\n\n\n\u003cspan class=\"c1\"\u003e# 1.构建提示词\u003c/span\u003e\n\u003cspan class=\"n\"\u003eprompt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_messages\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;system\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;{retrieval_info}\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;human\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;{question}\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 2.创建模型\u003c/span\u003e\n\u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatOpenAI\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# 3.创建字符串输出解析器\u003c/span\u003e\n\u003cspan class=\"n\"\u003eparser\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eStrOutputParser\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 4.构建链\u003c/span\u003e\n\u003cspan class=\"n\"\u003echain\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"s2\"\u003e\u0026#34;retrieval_info\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003elambda\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eretrieval_doc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;question\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e]),\u003c/span\u003e\n            \u003cspan class=\"s2\"\u003e\u0026#34;question\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eitemgetter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;question\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eprompt\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eparser\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 5.执行链\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;输出结果：{chain.invoke({\u0026#39;question\u0026#39;: \u0026#39;你是谁，能否帮我写一首诗？\u0026#39;})}\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"jr1_hCkp\"\u003e执行结果：\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-text\"\u003e检索器接收到用户提出问题：你是谁，能否帮我写一首诗？\n输出结果：我是谁？我是Bob，一个愤怒的语文老师！你要写诗？我看看你的水平如何，来来来，给我个主题吧，最好能高大上一点，不然我真的会很生气的！\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2\u003e\u003cb\u003e六、RunnablePassthrough数据传递\u003c/b\u003e\u003c/h2\u003e\u003cp data-pid=\"sMI7Y7cH\"\u003eRunnablePassthrough是一个相对特殊的组件，它的作用是\u003cb\u003e将输入数据原样传递到下一个可执行组件\u003c/b\u003e，同时还能对传递的数据进行数据重组。在构建复杂链时非常有用。\u003c/p\u003e\u003ch3\u003e\u003cb\u003e6.1 数据传递基础用法\u003c/b\u003e\u003c/h3\u003e\u003cp data-pid=\"HSAVTCz-\"\u003eRunnablePassthrough()进行原样输出很简单，乍一看起来这个类看起来作用不大，实际上它在用来占位、调试中，都有一定作用，如下示例，将参数直接原样传递给下一个可运行组件。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003edotenv\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.output_parsers\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eStrOutputParser\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.prompts\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.runnables\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eRunnablePassthrough\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_openai\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eChatOpenAI\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 读取env配置\u003c/span\u003e\n\u003cspan class=\"n\"\u003edotenv\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eload_dotenv\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 1.构建提示词\u003c/span\u003e\n\u003cspan class=\"n\"\u003eprompt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_messages\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;system\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;你是一个资深文学家\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;human\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;请简短赏析{name}这首诗，并给出评价\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 2.创建模型\u003c/span\u003e\n\u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatOpenAI\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# 3.创建字符串输出解析器\u003c/span\u003e\n\u003cspan class=\"n\"\u003eparser\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eStrOutputParser\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 4.构建链\u003c/span\u003e\n\u003cspan class=\"n\"\u003echain\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eRunnablePassthrough\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eprompt\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eparser\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 5.执行链\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;输出结果：{chain.invoke({\u0026#39;name\u0026#39;: \u0026#39;题西林壁\u0026#39;})}\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"RPd2qZOm\"\u003e执行结果：\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"err\"\u003e输出结果：《题西林壁》是苏轼的经典之作，通过描绘西林寺的景象，表达了作者对于自然、人生以及自身处境的深刻感悟。\u003c/span\u003e\n\n\u003cspan class=\"err\"\u003e诗中写道：“不识庐山真面目，只缘身在此山中。”这两句通过庐山的景象，传达了一个哲理：人常常因为局限于眼前的事物，无法看清事物的全貌。用庐山作为象征，既反映了自然的壮丽，也暗示了人生的复杂与迷茫。作者通过这句诗，提出了“跳出事物的框架，方能看到真相”的思想，极富哲理。\u003c/span\u003e\n\n\u003cspan class=\"err\"\u003e整首诗结构简洁，语言凝练，感情真挚，既描写了景色，又引发了对人生和思维局限的深刻反思。它不仅是对庐山美景的写照，更是对人生困境的警示。\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"err\"\u003e评价：\u003c/span\u003e\u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"err\"\u003e这首诗具有很高的哲理性和艺术性，语言简练却富有深意，值得每一位读者细细品味。苏轼以“庐山”作比，既能展现山水的美，又能寄托哲理思考，展现了其深厚的文化底蕴。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003e\u003cb\u003e6.2 数据重组\u003c/b\u003e\u003c/h3\u003e\u003cp data-pid=\"KRIs-gS4\"\u003eRunnablePassthrough最强大的功能是可以重新组织数据结构，为后续链执行做准备，示例如下，我们改写了之前使用RunnableParallel进行检索的示例，通过RunnablePassthrough.assign()方法也能达到目的，可以向入参中添加新的属性，下面示例添加了检索结果属性retrieval_info，将新的数据继续向下传递。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003edotenv\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.output_parsers\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eStrOutputParser\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.prompts\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_core.runnables\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eRunnablePassthrough\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003elangchain_openai\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eChatOpenAI\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 读取env配置\u003c/span\u003e\n\u003cspan class=\"n\"\u003edotenv\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eload_dotenv\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eretrieval_doc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003einputs\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34;模拟知识库检索\u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;检索器接收到用户提出问题：{inputs[\u0026#39;question\u0026#39;]}\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;你是一个愤怒的语文老师，你叫Bob\u0026#34;\u003c/span\u003e\n\n\n\u003cspan class=\"c1\"\u003e# 1.构建提示词\u003c/span\u003e\n\u003cspan class=\"n\"\u003eprompt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatPromptTemplate\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efrom_messages\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;system\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;{retrieval_info}\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;human\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;{question}\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 2.创建模型\u003c/span\u003e\n\u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eChatOpenAI\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# 3.创建字符串输出解析器\u003c/span\u003e\n\u003cspan class=\"n\"\u003eparser\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eStrOutputParser\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 4.构建链\u003c/span\u003e\n\u003cspan class=\"n\"\u003echain\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eRunnablePassthrough\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eassign\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eretrieval_info\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eretrieval_doc\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eprompt\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003ellm\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eparser\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 5.执行链\u003c/span\u003e\n\u003cspan class=\"k\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;输出结果：{chain.invoke({\u0026#39;question\u0026#39;: \u0026#39;你是谁，能否帮我写一首诗？\u0026#39;})}\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"Qi_VQ15m\"\u003e执行结果：\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-text\"\u003e检索器接收到用户输入信息：你是谁，能否帮我写一首诗？\n输出结果：我是Bob，一个愤怒的语文老师！你敢让我写诗？这可是件严肃的事，不能随便糊弄！好吧，既然你要我写，那我就写。写诗，得有情感，得有深度。你给我一个主题，看看你能承受我给你带来的震撼！\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2\u003e\u003cb\u003e七、总结\u003c/b\u003e\u003c/h2\u003e\u003cp data-pid=\"tTt41OWh\"\u003e通过本文的学习，我们深入了解了LCEL表达式的强大功能。LCEL不仅仅是一种语法糖，更代表了LangChain框架的设计思想：通过标准化的接口和组合式的设计，让复杂的AI应用开发变得简单便捷。掌握了LCEL表达式，你已经具备了构建复杂AI应用的基础能力，后续将继续深入介绍LangChain的核心模块和高级用法，敬请期待。\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":50,"favorite_count":5,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1932829859475878139}","attached_info":"Cr4GCPaQ35yTk7bYuwEQBBoJNzM5MTAyNDk5IPSzl8QGKAAwAEBpSkIKLVRTX1NPVVJDRV9UV09UT1dFUl9NVUxUSV9TQ0VORV9WMV9SRUNBTExfVEVYVBIBMBgAIAA6CnsicmF3IjoiIn1KIwoYVFNfU09VUkNFX1dBUk1fVVBfQk9PU1QyEgEwGAAgADoASi8KJFRTX1NPVVJDRV9XQVJNVVBfVFdPVE9XRVJfRVhQVjJfVEVYVBIBMBgAIAA6AFoJMTA1OTk1NjkxYiA1YjA3MzYzNTJmNTBhMTU3ZjUzZjAxODFjZTgyMDBjMXITMTkzMjgyOTg1OTQ3NTg3ODEzOYoBCTY0NjczMDk1MKoBCXJlY29tbWVuZMIBIDNmN2M5NTljYmQ2YmRhOWY1NTFkYmE0NDdjZTE0OGYz8gEKCAwSBk5vcm1hbPIBKAgKEiQ3MTI2YTcxMi0xNTUxLTRlNzUtYjJjYS1kNmU2ZjQ2YmNlNmPyAQYICxICMTiCAgCIAqynvs6FM5ICIDNmN2M5NTljYmQ2YmRhOWY1NTFkYmE0NDdjZTE0OGYzmgIAygIWU2hvckludGVyZXN0V2VpZ2h0UnVsZcoCFVVzZXJMY25FeGl0V2VpZ2h0UnVsZdoCLVRTX1NPVVJDRV9UV09UT1dFUl9NVUxUSV9TQ0VORV9WMV9SRUNBTExfVEVYVOgCA/oCC05PUk1BTF9GTE9XigMgMDkyY2RhYzZlOTc2NDZmZWI0YTg5OGVhMDZmMTI3YWKSAxd6aGlodTovL3RvcGljcy8yNjY5MTg5NZoDDQoCdjIQABoFb3RoZXKoAzLYAwDqAxV0ZXh0RmVlZFR3b1Rvd2VyVjFBbGz6Ax8SDFVOS05PV05fTU9ERSAAKg1OT19JTUFHRV9NT0RFgAQAiAQAkgQGTm9ybWFsmgQBM6AEAKgEALAEALoEAmFpwgQDNDAwyAQA0gQP5o6o6I2Q5bey5pu05paw2AQA8AQA+QQAAAAgqASZP4EFAAAAAAAAAACJBb+4dxurc9M/kgUAmgUDZGZ0ogUDZGZ0sgUBMbkFAAAAAAAAAADQBQDgBQDoBQDwBRKQBgCgBmuoBgCSAi4KCTczOTEwMjQ5ORITMTkzMjgyOTg1OTQ3NTg3ODEzORgEIgpJTUFHRV9URVhU","action_card":false},{"id":"106_1753853432.446","type":"feed","offset":106,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1753853432,"updated_time":1753853432,"target":{"id":"1933880954973290659","type":"answer","url":"https://api.zhihu.com/answers/1933880954973290659","author":{"id":"e254ee0b52d5c8a3d7184f16931746e1","url":"https://api.zhihu.com/people/e254ee0b52d5c8a3d7184f16931746e1","user_type":"people","url_token":"3-35-90-4","name":"说服他人说话细节","headline":"公众号：说话细节 领2本口才说话书，有话术，1个月成说话高手","avatar_url":"https://picx.zhimg.com/50/v2-71d972f10f680b9600f3c8d83257cac3_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":158,"is_following":false,"is_followed":false},"created_time":1753853149,"updated_time":1753853149,"voteup_count":0,"thanks_count":0,"comment_count":0,"is_copyable":true,"question":{"id":"35215759","type":"question","url":"https://api.zhihu.com/questions/35215759","author":{"id":"850ae8635c4e8de778a59779cf581918","url":"https://api.zhihu.com/people/850ae8635c4e8de778a59779cf581918","user_type":"people","url_token":"jasonmorgan","name":"逆毛","headline":"冷眼观世事，心怀真善美。","avatar_url":"https://pic1.zhimg.com/50/v2-242331946a71d04f97bad8bad32e79a8_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":2,"is_following":false,"is_followed":false},"title":"生活中有哪些行为是高情商的表现？","created":1441036842,"answer_count":0,"follower_count":0,"comment_count":61,"bound_topic_ids":[307,1576,3946,4467,16868],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"excerpt":"很多人觉得聊天嘛，很简单， 上下嘴皮子一碰，话就出来了。 可回想下自己有多少次聊着聊着就把天聊死了， 有时候觉得话说得挺溜，可人家就是没往心里去。 为什么会这样呢，其实很大程度上是对人性的理解程度不够。 01 理解人性：聊天中的定海神针啥是人性？ 简单粗暴点说：人这东西，复杂得很，又简单得可怜。 谁不巴望着被懂、被在意， 谁愿意自个儿掏心窝子说半天，对面儿像块木头桩子， 谁不怕被看不起、被晾在一边儿， 谁不…","excerpt_new":"很多人觉得聊天嘛，很简单， 上下嘴皮子一碰，话就出来了。 可回想下自己有多少次聊着聊着就把天聊死了， 有时候觉得话说得挺溜，可人家就是没往心里去。 为什么会这样呢，其实很大程度上是对人性的理解程度不够。 01 理解人性：聊天中的定海神针啥是人性？ 简单粗暴点说：人这东西，复杂得很，又简单得可怜。 谁不巴望着被懂、被在意， 谁愿意自个儿掏心窝子说半天，对面儿像块木头桩子， 谁不怕被看不起、被晾在一边儿， 谁不…","preview_type":"default","preview_text":"","reshipment_settings":"allowed","content":"\u003cp data-pid=\"J0__g8Kq\"\u003e很多人觉得聊天嘛，很简单，\u003c/p\u003e\u003cp data-pid=\"OmKVCi-V\"\u003e上下嘴皮子一碰，话就出来了。\u003c/p\u003e\u003cp data-pid=\"x-Rhmsks\"\u003e可回想下自己有多少次聊着聊着就把天聊死了，\u003c/p\u003e\u003cp data-pid=\"3E-G70mo\"\u003e有时候觉得话说得挺溜，可人家就是没往心里去。\u003c/p\u003e\u003cp data-pid=\"3NlBVTSy\"\u003e为什么会这样呢，其实很大程度上是对人性的理解程度不够。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"wZzui5Ep\"\u003e\u003cb\u003e01\u003c/b\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"6wqzlXIu\"\u003e\u003cb\u003e理解人性：聊天中的定海神针\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"3nnGiX0-\"\u003e啥是人性？\u003c/p\u003e\u003cp data-pid=\"71VosGAO\"\u003e简单粗暴点说：人这东西，复杂得很，又简单得可怜。\u003c/p\u003e\u003cp data-pid=\"hZ7fZ3b_\"\u003e谁不巴望着被懂、被在意， \u003c/p\u003e\u003cp data-pid=\"0ISpLDud\"\u003e谁愿意自个儿掏心窝子说半天，对面儿像块木头桩子，\u003c/p\u003e\u003cp data-pid=\"1OwC48De\"\u003e谁不怕被看不起、被晾在一边儿，\u003c/p\u003e\u003cp data-pid=\"74tlDf2A\"\u003e谁不想亮亮自己的本事、秀秀自己的小想法，\u003c/p\u003e\u003cp data-pid=\"hD5_Oku9\"\u003e可同时呢，心里那个小秘密又捂得严严实实，生怕被看透。\u003c/p\u003e\u003cp data-pid=\"5JBg0dMS\"\u003e有时候恨不得有人拉一把指条道，有时候又轴得不行，偏要自己闯一闯。\u003c/p\u003e\u003cp data-pid=\"lG8v-I7t\"\u003e聊天不懂这些底层的弯弯绕绕，就是在盲人摸象，说得再漂亮也是白搭。\u003c/p\u003e\u003cp data-pid=\"e3q1SZJv\"\u003e就像往棉花上砸拳头，劲大动静小，感觉不到，自然也谈不到心里去。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"mMdqnHlg\"\u003e\u003cb\u003e02\u003c/b\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"R0oRUBDn\"\u003e\u003cb\u003e察言观色：耳朵眼睛比嘴皮子更重要\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"yDcREUG2\"\u003e真会聊天的人，绝对不止靠一张嘴。\u003c/p\u003e\u003cp data-pid=\"Wy2EheiP\"\u003e耳朵得支棱起来，眼睛得贼亮。\u003c/p\u003e\u003cp data-pid=\"ByZChQPg\"\u003e人家眉头皱了，声量拔高了？叹口气？声音蔫了？\u003c/p\u003e\u003cp data-pid=\"eZ4T5bd-\"\u003e说话突然卡壳儿？眼神躲躲闪闪？\u003c/p\u003e\u003cp data-pid=\"YC7j9Clt\"\u003e搓个手、抠个桌角、不自觉地挪挪屁股？\u003c/p\u003e\u003cp data-pid=\"4IjtHkbS\"\u003e这些全是信号，比嘴里蹦出来的字实诚多了。\u003c/p\u003e\u003cp data-pid=\"jNnrOZ2k\"\u003e沉默不是金，沉默是你打开聊天的钥匙。\u003c/p\u003e\u003cp data-pid=\"foidCLjE\"\u003e那短暂的停顿、躲闪的眼神、无意识的小动作，都是没说出口的大实话。\u003c/p\u003e\u003cp data-pid=\"TeRSMn8I\"\u003e能把这些门道琢磨透了，你才算半只脚踏进聊天高手的门槛。\u003c/p\u003e\u003cp data-pid=\"PQ6njRUL\"\u003e这就跟老中医号脉一样，摸不准脉象，开再好的方子也没用。\u003c/p\u003e\u003cp data-pid=\"X082Ku6Y\"\u003e光听人家说了什么，顶多是个记话员，\u003c/p\u003e\u003cp data-pid=\"oXq_4Jat\"\u003e能看出人家没说什么、为什么这么说，才算摸着点门道。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"QgV4vYms\"\u003e\u003cb\u003e03\u003c/b\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"lArDBjuP\"\u003e\u003cb\u003e高情商聊天：不是技巧是走心\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"KIx3nyzF\"\u003e理解了人心里那些七上八下的需求，才算有资格谈谈 “高情商沟通”。\u003c/p\u003e\u003cp data-pid=\"JKYe-vH0\"\u003e这玩意听着玄乎，其实特实在，就是人精、通透、懂世故但不油腻，\u003c/p\u003e\u003cp data-pid=\"5-fNeyPu\"\u003e知道人的软肋在哪，说话办事都熨帖。\u003c/p\u003e\u003cp data-pid=\"5grss2BN\"\u003e咱举几个实在的例子，看看怎么把 “人性”落在具体话头里：\u003c/p\u003e\u003cp data-pid=\"Nm2W307E\"\u003e\u003cb\u003e1. 碰上火药桶咋整？\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"IH3p_bJQ\"\u003e人家正上头呢，火气冲天，你上去就一句 “你冷静点！”\u003c/p\u003e\u003cp data-pid=\"0P6ZnNY-\"\u003e这绝对是浇油！高情商的人不这么干。\u003c/p\u003e\u003cp data-pid=\"bcH7QkKd\"\u003e咱得先认情绪，不是说认他对错，是认他现在这火气憋屈是真实的。\u003c/p\u003e\u003cp data-pid=\"r1x_mVit\"\u003e“这事儿搁谁身上都得窝火！气坏了真不值当的…”\u003c/p\u003e\u003cp data-pid=\"RdqzWehl\"\u003e或者 “我能瞅出来你现在是真怄得慌…”\u003c/p\u003e\u003cp data-pid=\"DA46V-iU\"\u003e先给人情绪上个台阶下，让人觉着被理解了， \u003c/p\u003e\u003cp data-pid=\"XhhAX4YP\"\u003e那股子邪火儿才能慢慢消下去。\u003c/p\u003e\u003cp data-pid=\"pmfppFGk\"\u003e等那股气捋顺了，再掰扯事儿就容易多了。\u003c/p\u003e\u003cp data-pid=\"UylBKO0r\"\u003e这就是“顺毛捋”，等野马撒够欢了，牵缰绳才安全。\u003c/p\u003e\u003cp data-pid=\"_UYRAg48\"\u003e\u003cb\u003e2. 遇上闷葫芦咋办？\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"MnRuoSzH\"\u003e人家吞吞吐吐，欲言又止，眼珠儿乱转，一看就是有话憋着。\u003c/p\u003e\u003cp data-pid=\"C-AET7-j\"\u003e你咋整？追着问 “你到底想说什么呀？你说呀？”\u003c/p\u003e\u003cp data-pid=\"cr7X9Y-h\"\u003e给人更大压力？傻不傻呢？\u003c/p\u003e\u003cp data-pid=\"X3tHwTuy\"\u003e给个台阶，留好退路！ 轻飘飘一句点破，但给人留足面子：\u003c/p\u003e\u003cp data-pid=\"aP5dFMlN\"\u003e“看你这会好像有点儿走神？是我刚才哪句话让你觉得不自在了么？“\u003c/p\u003e\u003cp data-pid=\"NUA2kiiV\"\u003e”没事儿啊，要是不想说就甭说，别有负担。”\u003c/p\u003e\u003cp data-pid=\"6NTDU2D7\"\u003e这话多敞亮！既表达了关心（我看见你状态不对了），\u003c/p\u003e\u003cp data-pid=\"1NQGloHq\"\u003e又表明了包容（不说也成），没半点逼迫的意思。\u003c/p\u003e\u003cp data-pid=\"eDACHmrL\"\u003e这种体贴让人心里暖烘烘的，该说的话反而容易倒出来。\u003c/p\u003e\u003cp data-pid=\"lAuIDpnl\"\u003e这空间感给的，让人心里松快，嘴自然就松了。\u003c/p\u003e\u003cp data-pid=\"HMZkSbLI\"\u003e\u003cb\u003e3. 人家诉苦求安慰时该咋办？\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"z0xAeyPj\"\u003e朋友 / 爱人跟你倒苦水，满脸委屈巴巴。\u003c/p\u003e\u003cp data-pid=\"T398fNvH\"\u003e这时候你要是忍不住打断，摆出 “智多星” 的架势给人一二三四条出主意，\u003c/p\u003e\u003cp data-pid=\"btDZM_pK\"\u003e“我教你啊，你应该这样… 那样…”，\u003c/p\u003e\u003cp data-pid=\"NJPKUa2F\"\u003e这样多半儿好心办坏事。\u003c/p\u003e\u003cp data-pid=\"tnrqFyWV\"\u003e咱得先把人家那沉甸甸的情绪包袱接住。\u003c/p\u003e\u003cp data-pid=\"QqT4Hd10\"\u003e很多时候，人家要的不是你那锦囊妙计，人家心里门清该咋办，\u003c/p\u003e\u003cp data-pid=\"yOGIwj47\"\u003e要的就是那一刻的共鸣、那一声 “我懂”。\u003c/p\u003e\u003cp data-pid=\"C9-u1JT1\"\u003e你急吼吼献计，感觉像人家没招似的。\u003c/p\u003e\u003cp data-pid=\"aDE37EY_\"\u003e关键在这句话：“哎呀，这事儿是够憋屈人的！，\u003c/p\u003e\u003cp data-pid=\"7EXHoBDl\"\u003e摊上这么个事儿，换我也得气炸了！”\u003c/p\u003e\u003cp data-pid=\"vn7_tYTE\"\u003e让人觉着你不是站着说话不腰疼，是真跟他站一块儿的。\u003c/p\u003e\u003cp data-pid=\"xXOqQOFt\"\u003e这份儿感同身受比啥金玉良言都解渴。\u003c/p\u003e\u003cp data-pid=\"RT_YBubK\"\u003e理解万岁，理解到位了，劝解才有分量。\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"AAhIbvww\"\u003e\u003cb\u003e04\u003c/b\u003e\u003c/p\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cp data-pid=\"srCRXe2S\"\u003e\u003cb\u003e聊天是心碰心，不是话赶话\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"BdIL8wPF\"\u003e理解人性在聊天中的重要，\u003c/p\u003e\u003cp data-pid=\"9DaJcN7b\"\u003e不是什么高级话术手册能教你的技巧，\u003c/p\u003e\u003cp data-pid=\"QDyMwJ_b\"\u003e这是你跟人打交道的一个根本态度。\u003c/p\u003e\u003cp data-pid=\"pJie60LD\"\u003e你要老觉着聊天就是交换信息、谈判、分个输赢高下，\u003c/p\u003e\u003cp data-pid=\"KlxIxpVx\"\u003e把人当答题器、当谈判对手，那你这话永远是冷冰冰的。\u003c/p\u003e\u003cp data-pid=\"JVxuHXop\"\u003e反过来，咱要是把人当人看，\u003c/p\u003e\u003cp data-pid=\"gglVo4oY\"\u003e用心体会人家那点没说出来的小九九，\u003c/p\u003e\u003cp data-pid=\"YdgdGFnl\"\u003e体察那点情绪背后的弯弯绕，哪怕话说得糙点、直点，味也不一样。\u003c/p\u003e\u003cp data-pid=\"TV3mmtYP\"\u003e真诚的体谅就像太阳底下的暖流，能融化冰，也能浇灌信任的花。\u003c/p\u003e\u003cp data-pid=\"SHrnoLeg\"\u003e不用整天琢磨着怎么妙语连珠惊四座，\u003c/p\u003e\u003cp data-pid=\"KQKMsoaP\"\u003e关键是他人倾诉时你能安静听着，\u003c/p\u003e\u003cp data-pid=\"KoSwLjq5\"\u003e他人委屈时你能真替他堵心，\u003c/p\u003e\u003cp data-pid=\"pejnQJM6\"\u003e他人有口难开时你能替人搭好梯子。\u003c/p\u003e\u003cp data-pid=\"OM8mqo-v\"\u003e这份用心，才是让话语活起来的灵魂。\u003c/p\u003e\u003cp data-pid=\"4ADs9A7s\"\u003e等你能把话说到这份儿上，说到人心坎儿里，\u003c/p\u003e\u003cp data-pid=\"ImLq_jkC\"\u003e你就能体会到：语言的最高境界，是让人能互相 “看见”。\u003c/p\u003e\u003cp data-pid=\"I5ChnfKg\"\u003e不是看见华丽的辞藻，而是看清对方跳动的那颗心。\u003c/p\u003e\u003cp data-pid=\"GI8Rpon9\"\u003e当两个人真正能越过语言的沟坎，感受到彼此的存在，\u003c/p\u003e\u003cp data-pid=\"25xFWFjK\"\u003e那份理解和连接，可比任何华丽的辞藻都更有力、更温暖。\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":1,"favorite_count":0,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1933880954973290659}","attached_info":"CtwFCPaQ35yTk7bYuwEQBBoJNzM5NTk5NzY5IN3ZpsQGKAAwAEBqSiQKGVRTX1NPVVJDRV9XQVJNX1VQX05PUk1BTDESATAYACAAOgBKKAodVFNfU09VUkNFX1dBUk1VUF9QUkVUUkFJTl9JMkkSATAYACAAOgBaBzYyOTI5MTliIDViMDczNjM1MmY1MGExNTdmNTNmMDE4MWNlODIwMGMxchMxOTMzODgwOTU0OTczMjkwNjU5igEIMzUyMTU3NTmqAQlyZWNvbW1lbmTCASBlMjU0ZWUwYjUyZDVjOGEzZDcxODRmMTY5MzE3NDZlMfIBCggMEgZOb3JtYWzyASgIChIkZDZlNWNkNWYtMjE2NS00ODAyLTg3YzAtNDY5NjBlZmMwYWYw8gEGCAsSAjE4ggIAiAKsp77OhTOSAiBlMjU0ZWUwYjUyZDVjOGEzZDcxODRmMTY5MzE3NDZlMZoCAMoCFlNob3JJbnRlcmVzdFdlaWdodFJ1bGXKAhVVc2VyTGNuRXhpdFdlaWdodFJ1bGXKAhhDb250ZW50V2FybVVwQnJlYWtJblJ1bGXaAhlUU19TT1VSQ0VfV0FSTV9VUF9OT1JNQUwx6AID+gILTk9STUFMX0ZMT1eKAyAwOTJjZGFjNmU5NzY0NmZlYjRhODk4ZWEwNmYxMjdhYpoDDQoCdjIQABoFb3RoZXKoAwHYAwDqAxNwcmV0cmFpbl9pMmlfcmVjYWxs+gMfEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERYAEAIgEAJIEBk5vcm1hbJoEATOgBACoBACwBAC6BAJhacIEAzQwMMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAQLZukz+BBQAAAAAAAAAAiQW/uHcbq3PTP5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AUSkAYAoAZsqAYBkgIuCgk3Mzk1OTk3NjkSEzE5MzM4ODA5NTQ5NzMyOTA2NTkYBCIKSU1BR0VfVEVYVA==","action_card":false},{"id":"107_1753853432.883","type":"feed","offset":107,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1753853432,"updated_time":1753853432,"target":{"id":"4099225235","type":"answer","url":"https://api.zhihu.com/answers/4099225235","author":{"id":"e07ca5655f0dd310db2e29b23ab65682","url":"https://api.zhihu.com/people/e07ca5655f0dd310db2e29b23ab65682","user_type":"people","url_token":"da-meng-24-13","name":"大猛","headline":"南京资深婚姻介绍人，关注公众号“大时代的年轻人”发送“相亲”","avatar_url":"https://pic1.zhimg.com/50/af64cbee3ddd95d84f2c9c4474526022_l.jpg?source=b6762063","is_org":false,"gender":1,"badge":[{"type":"zhihu_yearly_answerer","description":"新知答主"},{"type":"best_answerer","description":"恋爱等 3 个话题下的优秀答主","topic_names":["恋爱","情感","婚姻"],"topic_ids":[4729,740,982]}],"followers_count":425412,"is_following":false,"is_followed":false},"created_time":1727951065,"updated_time":1727951065,"voteup_count":31484,"thanks_count":2116,"comment_count":1031,"is_copyable":true,"question":{"id":"25431302","type":"question","url":"https://api.zhihu.com/questions/25431302","author":{"id":"","url":"","user_type":"people","url_token":"","name":"匿名用户","headline":"","avatar_url":"https://pic1.zhimg.com/v2-d41c2ceaed8f51999522f903672a521f_l.jpg?source=b6762063","is_org":false,"gender":-1,"followers_count":0,"is_following":false,"is_followed":false},"title":"为什么现在感觉富二代比穷二代更努力？","created":1411174737,"answer_count":0,"follower_count":0,"comment_count":42,"bound_topic_ids":[5582,6142],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"excerpt":"真相大家不是都知道啊： 去年，某报社全国性的少儿作文比赛。一等奖1000元奖品和证书，二等奖500元奖品和证书，三等奖300元奖品和证书，还有优秀奖若干。 题目很简单，就是一年级小学生写一篇关于读书的小短作文，300字以内。 家里有孩子的都知道，这种题目其实就是孩子写一小半，家长改一大半。 而这家媒体的主编、主办都是和我互加过微信好友的粉丝。 那天聊天，我提了一嘴，我女儿能参加吗？ 主办直接告诉我了，闺女如果参加…","excerpt_new":"真相大家不是都知道啊： 去年，某报社全国性的少儿作文比赛。一等奖1000元奖品和证书，二等奖500元奖品和证书，三等奖300元奖品和证书，还有优秀奖若干。 题目很简单，就是一年级小学生写一篇关于读书的小短作文，300字以内。 家里有孩子的都知道，这种题目其实就是孩子写一小半，家长改一大半。 而这家媒体的主编、主办都是和我互加过微信好友的粉丝。 那天聊天，我提了一嘴，我女儿能参加吗？ 主办直接告诉我了，闺女如果参加…","preview_type":"default","preview_text":"","reshipment_settings":"allowed","content":"\u003cp data-pid=\"jo-6aYHQ\"\u003e真相大家不是都知道啊：\u003c/p\u003e\u003cp data-pid=\"V6wqaDOD\"\u003e去年，某报社全国性的少儿作文比赛。一等奖1000元奖品和证书，二等奖500元奖品和证书，三等奖300元奖品和证书，还有优秀奖若干。\u003c/p\u003e\u003cp data-pid=\"5Y-PHK0z\"\u003e题目很简单，就是一年级小学生写一篇关于读书的小短作文，300字以内。\u003c/p\u003e\u003cp data-pid=\"5SMpVCC9\"\u003e家里有孩子的都知道，这种题目其实就是孩子写一小半，家长改一大半。\u003c/p\u003e\u003cp data-pid=\"DlYFV2wl\"\u003e而这家媒体的主编、主办都是和我互加过微信好友的粉丝。\u003c/p\u003e\u003cp data-pid=\"Zdr4ydF1\"\u003e那天聊天，我提了一嘴，我女儿能参加吗？\u003c/p\u003e\u003cp data-pid=\"cUBnczic\"\u003e主办直接告诉我了，闺女如果参加，只要她认真写，我这个爸爸认真改。一等奖不敢说，二等奖三等奖绝对可以提前给我女儿预定！\u003c/p\u003e\u003cp data-pid=\"vbVpPZj_\"\u003e因为一年级的几百字小文章，除非有逆天的天才，否则那些内容，家长帮改一下，还得建立在一年级孩子的水平段位基础上，不能太假，一篇流水账300字文章，谁敢说谁写的一定不好？谁写的一定好？\u003c/p\u003e\u003cp data-pid=\"DEOhE2f-\"\u003e因为有了朋友的承诺。\u003c/p\u003e\u003cp data-pid=\"fVxGcynR\"\u003e我可以自信的让女儿好好写，告诉她努力一定有回报，我不用担心她失望，每一次正反馈都可以让她获得继续努力的动力！\u003c/p\u003e\u003cp data-pid=\"kfQ8gilC\"\u003e果然女儿认真写了好多遍，小丫头几个晚上灯火通明，很有精神！\u003c/p\u003e\u003cp data-pid=\"zs6bqeJ2\"\u003e看着她那么努力的样子，写的不错！\u003c/p\u003e\u003cp data-pid=\"2kbTUIPk\"\u003e二等奖也不行！\u003c/p\u003e\u003cp data-pid=\"KUBOaRxU\"\u003e必须一等奖！\u003c/p\u003e\u003cp data-pid=\"sNeHa9l7\"\u003e大家是不是很鄙视我？觉得我厚颜无耻？\u003c/p\u003e\u003cp data-pid=\"abRzW8jB\"\u003e不至于，不至于！\u003c/p\u003e\u003cp data-pid=\"3shK7k3S\"\u003e文章我压根就没投！我才不干这事呢。\u003c/p\u003e\u003cp data-pid=\"b27c_A4V\"\u003e我问朋友要了他们奖状的格式，找她一个“贾”叔叔给我ps彩印了一张一等奖奖状证书，然后我给她买了一张永辉超市1000元的卡，连同“奖状证书”一起邮寄给了我女儿。\u003c/p\u003e\u003cp data-pid=\"cDkMYUJ3\"\u003e我女儿收到后激动的拉着我媳妇去疯狂shopping！\u003c/p\u003e\u003cp data-pid=\"u9GnAck8\"\u003e我媳妇一顿彩虹屁，把她夸的人生巅峰了！\u003c/p\u003e\u003cp data-pid=\"y_M3Oswh\"\u003e她学习作文写作的积极性大幅度提高，二年级看图写话基本上都是班级样板卷。\u003c/p\u003e\u003cp data-pid=\"A7Ejvhca\"\u003e我用一个善意谎言让她自信心爆棚。我甚至可以厚脸皮让朋友给她发个真的。因为她那天慢工出细活文章质量非常好，哪怕得奖刊登也不会有什么违和感！\u003c/p\u003e\u003cp data-pid=\"pGC3RcdZ\"\u003e努力能得到回报，能得到正反馈！这种感觉真的非常好！会各种激励自己再接再厉！\u003c/p\u003e\u003cp data-pid=\"toifnKAL\"\u003e现在的富二代、官二代何尝不是？\u003c/p\u003e\u003cp data-pid=\"MgMiQhhA\"\u003e但这一切都这建立在努力可以得到回报的基础上！\u003c/p\u003e\u003cp data-pid=\"yWpPoqEF\"\u003e就说我女儿的例子，穷二代孩子通宵积极写作，人家父母没有认识主编的关系，人家父母也没有金钱外挂编制善意的谎言，大概率这种全国性的少儿文章都是石沉大海。\u003c/p\u003e\u003cp data-pid=\"wGngZNKw\"\u003e穷二代孩子，人家几次努力没声音没图像，也就不想努力了，人之常情。\u003c/p\u003e\u003cp data-pid=\"nCWvo7_T\"\u003e甚至未来明白一些规则后，再回忆自己曾经努力的样子，自己都会觉得自己幼稚。\u003c/p\u003e\u003cp data-pid=\"KkqbTaLv\"\u003e我不是传播负能量。\u003c/p\u003e\u003cp data-pid=\"l4_lIE1K\"\u003e我只是说一些社会真相。\u003c/p\u003e\u003cp data-pid=\"hmKW-9iu\"\u003e然后大家调整战术少走弯路。\u003c/p\u003e\u003cp data-pid=\"zoTE991k\"\u003e生活中、工作中，任何人给你唱高调、官话套话画大饼都可以内心一定要警惕，千万别被它们带沟里了。\u003c/p\u003e\u003cp data-pid=\"O60_4kXw\"\u003e记得一个数学教授和我聊天的时候，他为什么喜欢数学？\u003c/p\u003e\u003cp data-pid=\"0G8RSWRl\"\u003e因为数学比赛对了就是对了，错了就是错了。不是某些人评价的。\u003c/p\u003e\u003cp data-pid=\"G6ELsKO6\"\u003e还说过穷二代如何破局？\u003c/p\u003e\u003cp data-pid=\"0d3nT4u0\"\u003e其中最重要的一条就是：尽量不要参与一些成绩得分，人为评分评价权重高的项目。同时深耕自己的领域，成为真正的行业大佬，成为没人敢黑的行业顶流！\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\u003cp\u003e\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":1536100,"favorite_count":14036,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 4099225235}","attached_info":"CsgGCPaQ35yTk7bYuwEQBBoJNjkyMzU1NzA0INnh+bcGKPz1ATCHCEBrSigKHVRTX1NPVVJDRV9ORUFSTElORV9DT05URU5UX1YyEgEwGAAgADoASisKFlRTX1NPVVJDRV9GRUVEUkVfTVNfVjISATAYACAAOgp7InJhdyI6IiJ9SjAKG1RTX1NPVVJDRV9CQVNJQ19JTkZPX1JFQ0FMTBIBMBgAIAA6CnsicmF3IjoiIn1KSAofVFNfU09VUkNFX1pSRUNBTExfSVRFTUNGX1VQVk9URRIfZG9jX3R5cGU6IEFuc3dlcgppZDogNjA5OTM4ODQyChgAIAA6AFoHMjM1NTE0OGIgNWIwNzM2MzUyZjUwYTE1N2Y1M2YwMTgxY2U4MjAwYzFyCjQwOTkyMjUyMzWKAQgyNTQzMTMwMqoBCXJlY29tbWVuZMIBIGUwN2NhNTY1NWYwZGQzMTBkYjJlMjliMjNhYjY1Njgy8gEKCAwSBk5vcm1hbPIBKAgKEiQxYjU3NDdmYi0wYjhiLTQ0MWEtOTRhZC1jMGM4YTIxYWQxZmHyAQYICxICMTiCAgCIAqynvs6FM5ICIGUwN2NhNTY1NWYwZGQzMTBkYjJlMjliMjNhYjY1NjgymgIAygIWU2hvckludGVyZXN0V2VpZ2h0UnVsZcoCFVVzZXJMY25FeGl0V2VpZ2h0UnVsZcoCFENvbnRlbnRBZ2VXZWlnaHRSdWxl2gIdVFNfU09VUkNFX05FQVJMSU5FX0NPTlRFTlRfVjLoAgP6AgtOT1JNQUxfRkxPV4oDIDA5MmNkYWM2ZTk3NjQ2ZmViNGE4OThlYTA2ZjEyN2FimgMNCgJ2MhAAGgVvdGhlcqgD5OBd2AMA+gMfEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERYAEAIgEAJIEBk5vcm1hbJoEATOgBACoBACwBAC6BAZtYW51YWzCBAIzMMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAgNfsrz+BBQAAAAAAAAAAiQW/uHcbq3PTP5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AUSkAYAoAZtqAYAkgIlCgk2OTIzNTU3MDQSCjQwOTkyMjUyMzUYBCIKSU1BR0VfVEVYVA==","action_card":false}],"paging":{"is_end":false,"is_start":false,"next":"https://www.zhihu.com/api/v3/feed/topstory/recommend?action=down\u0026ad_interval=-10\u0026after_id=107\u0026desktop=true\u0026end_offset=109\u0026page_number=19\u0026session_token=5b0736352f50a157f53f0181ce8200c1","previous":"https://www.zhihu.com/api/v3/feed/topstory/recommend?action=pull\u0026ad_interval=-10\u0026before_id=107\u0026desktop=true\u0026end_offset=109\u0026page_number=19\u0026session_token=5b0736352f50a157f53f0181ce8200c1","totals":0},"fresh_text":"推荐已更新"}
