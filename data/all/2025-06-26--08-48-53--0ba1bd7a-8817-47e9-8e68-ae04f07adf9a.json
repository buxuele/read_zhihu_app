{"data":[{"id":"AD_3577104_17508989791670","type":"feed_advert","brief":"{\"source\":\"PR\",\"type\":\"feed_advert\",\"id\":3577104}","action_text":"","attached_info":"CqgBCOmzzf26tPPtvwFAZpABAdoBJDMyODAyMTA5LTc5ODEtNGQ0My1iN2MzLTgwOGZkYWZkNDg4N/IBBggMEgJBZIgC3+LYzfoy+gILQURWRVJUX0ZMT1eKAyBhODA0NDQwNmNjYTM0ZWZlOTM3ZWIyNmZjMzJhMDk2MoAEAZIEC0J1c2luZXNzX0Fk+QQAAAAAAADwP4EFAAAAAACwckCyBQExoAZmqAYBMhQtNDYyMTg3NDQ4OTY1NDU1MjA4Nw==","ad":{"count":0,"position":0,"ad_verb":"PROMOTE_URL_CARD","close_track":"https://sugar.zhihu.com/plutus_adreaper?nt=0\u0026idi=100010062\u0026di=tower\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\u0026s=34c92857-d989-47bf-ac33-a10192ed7075\u0026ar=0.0029964447021484375\u0026pf=4\u0026t=7\u0026pdi=1720689004062518\u0026ed=CjEEfR4wM319QzdQBmMpBEZyDSxcbm5ydxx_XwNmeh1TI10sCiZteHwQa1UXMTYNXGNYI1x-aXV5EmNXBXY8WVZ3DHIMdW1xaEY7WgJlfAhfdgFsWzdncGhGPVoIaGIJXXAIew16b3d3F2pQB3YuQFZ0CXoeLy99exdqUABjdQVNMFB3CndqeXQdM1ZUanpTXnQDeQx7anotHGtdVTJ8AFF8X34PeW13fUN0E0JtfQdedQFzAHpteGhEJVoBdi9YVnUfK01-bHR7E2ZXFyAtWVZ1Hz5LLGdxaEYiWgF2I1MYeAlsVyA9fX4DNAZCbXwWDSRLdwhlNyM8GGJBRCUlVFZ0DHMIc2h3fRVrVwZgfwdZY1gjW35qZjpQbw9FJDxDTnZ4bwoFf3IIRj4OUjtiUQcsQD9WbTkvIwBgIVx1fnZadQl6DHNucncRd1V3djxeVqyh9dHE1qT0tHQVVG1-CVJrD34Md21wfBRmXwVjewVNN1o4BXN8IigYYzQZ566WuYZS","revert_close_track":"https://sugar.zhihu.com/plutus_adreaper?pf=4\u0026s=34c92857-d989-47bf-ac33-a10192ed7075\u0026ed=CjEEch4wM319QzdQBmMpBEZyDSxcbm5ydxx_XwNmeh1TI10sCiZteHwQa1UXMTYNXGNYI1x-aXV5EmNXBXY8WVZ3DHIMdW1xaEY7WgJlfAhfdgFsWzdncGhGPVoIaGIJXXAIew16b3d3F2pQB3YuQFZ0CXoeLy99exdqUABjdQVNMFB3CndqeXQdM1ZUanpTXnQDeQx7anotHGtdVTJ8AFF8X34PeW13fUN0E0JtfQdedQFzAHpteGhEJVoBdi9YVnUfK01-bHR7E2ZXFyAtWVZ1Hz5LLGdxaEYiWgF2I1MYeAlsVyA9fX4DNAZCbXwWDSRLdwhlNyM8GGJBRCUlVFZ0DHMIc2h3fRVrVwZgfwdZY1gjW35qZjpQbw9FJDxDTnZ4bwoFf3IIRj4OUjtiUQcsQD9WbTkvIwBgIVx1fnZadQl6DHNucncRd1V3djxeVqyh9dHE1qT0tHQVVG1-CVJrD34Md21wfBRmXwVjewVNN1o4BXN8IigYY2suR31OdlRG\u0026pdi=1720689004062518\u0026ar=0.0029964447021484375\u0026idi=100010062\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\u0026nt=0\u0026t=8\u0026di=tower","template":"web_image_feed","load_tracks":["https://sugar.zhihu.com/plutus_adreaper?idi=100010062\u0026pdi=1720689004062518\u0026di=tower\u0026pf=4\u0026ar=0.0029964447021484375\u0026t=2\u0026ed=CjEEeB4wM319QzdQBmMpBEZyDSxcbm5ydxx_XwNmeh1TI10sCiZteHwQa1UXMTYNXGNYI1x-aXV5EmNXBXY8WVZ3DHIMdW1xaEY7WgJlfAhfdgFsWzdncGhGPVoIaGIJXXAIew16b3d3F2pQB3YuQFZ0CXoeLy99exdqUABjdQVNMFB3CndqeXQdM1ZUanpTXnQDeQx7anotHGtdVTJ8AFF8X34PeW13fUN0E0JtfQdedQFzAHpteGhEJVoBdi9YVnUfK01-bHR7E2ZXFyAtWVZ1Hz5LLGdxaEYiWgF2I1MYeAlsVyA9fX4DNAZCbXwWDSRLdwhlNyM8GGJBRCUlVFZ0DHMIc2h3fRVrVwZgfwdZY1gjW35qZjpQbw9FJDxDTnZ4bwoFf3IIRj4OUjtiUQcsQD9WbTkvIwBgIVx1fnZadQl6DHNucncRd1V3djxeVqyh9dHE1qT0tHQVVG1-CVJrD34Md21wfBRmXwVjewVNN1o4BXN8IigYYyDegEqpTJ9o\u0026s=34c92857-d989-47bf-ac33-a10192ed7075\u0026nt=0\u0026ut=075acd00a0774b9d9d2a3786e8226e3a"],"creatives":[{"landing_url":"https://click.aliyun.com/m/1000404294/?spu=biz%3D0%26ci%3D3508438%26si%3D32802109-7981-4d43-b7c3-808fdafd4887%26ts%3D1750898978%26zid%3D7","image":"https://pic2.zhimg.com/v2-73099e4ceab72520fd1d046079feb8d2_bh.jpg?source=d6434cab","image_2x":"","title":"阿里云创新季｜云服务器38元/年起+7000万Token免费体验","description":"618必囤云资源！阿里云AI创新加速季重磅开启，AI大模型7000万token免费体验，云服务器限时38元/年起。叠加至高1728元优惠券，百款产品折上折，企业轻量上云/智能算力需求一键解决！立即解锁数字化转型新动力！","button":"查看详情","action_button":false,"footer":{"value":""},"cta":{"value":"查看详情"},"brand":{"id":0,"name":"阿里云","logo":"https://pic4.zhimg.com/v2-1c5da37aa83c6231c6cd1540923243da_xl.jpg?source=d6434cab"},"app_promotion_url":"","native_url":"","deep_url":"","video_watch_num":46690,"za_ad_info":"CJCq2gEQByIBMV0yudBOYNaR1gE=","za_ad_info_json":"{\"ad_id\":3577104,\"ad_zone_id\":7,\"category\":\"1\",\"timestamp\":1750899000,\"creative_id\":3508438}","external_click_url":"","impression_tracks":["https://sugar.zhihu.com/plutus_adreaper?ar=0.0029964447021484375\u0026t=3\u0026pdi=1720689004062518\u0026ed=CjEEeR4wM319QzdQBmMpBEZyDSxcbm5ydxx_XwNmeh1TI10sCiZteHwQa1UXMTYNXGNYI1x-aXV5EmNXBXY8WVZ3DHIMdW1xaEY7WgJlfAhfdgFsWzdncGhGPVoIaGIJXXAIew16b3d3F2pQB3YuQFZ0CXoeLy99exdqUABjdQVNMFB3CndqeXQdM1ZUanpTXnQDeQx7anotHGtdVTJ8AFF8X34PeW13fUN0E0JtfQdedQFzAHpteGhEJVoBdi9YVnUfK01-bHR7E2ZXFyAtWVZ1Hz5LLGdxaEYiWgF2I1MYeAlsVyA9fX4DNAZCbXwWDSRLdwhlNyM8GGJBRCUlVFZ0DHMIc2h3fRVrVwZgfwdZY1gjW35qZjpQbw9FJDxDTnZ4bwoFf3IIRj4OUjtiUQcsQD9WbTkvIwBgIVx1fnZadQl6DHNucncRd1V3djxeVqyh9dHE1qT0tHQVVG1-CVJrD34Md21wfBRmXwVjewVNN1o4BXN8IigYY89WiSyfLHgZ\u0026di=tower\u0026idi=100010062\u0026s=34c92857-d989-47bf-ac33-a10192ed7075\u0026pf=4\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\u0026nt=0"],"click_tracks":["https://sugar.zhihu.com/plutus_adreaper?ar=0.0029964447021484375\u0026pdi=1720689004062518\u0026di=tower\u0026nt=0\u0026idi=100010062\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\u0026pf=4\u0026t=4\u0026s=34c92857-d989-47bf-ac33-a10192ed7075\u0026ed=CjEEfh4wM319QzdQBmMpBEZyDSxcbm5ydxx_XwNmeh1TI10sCiZteHwQa1UXMTYNXGNYI1x-aXV5EmNXBXY8WVZ3DHIMdW1xaEY7WgJlfAhfdgFsWzdncGhGPVoIaGIJXXAIew16b3d3F2pQB3YuQFZ0CXoeLy99exdqUABjdQVNMFB3CndqeXQdM1ZUanpTXnQDeQx7anotHGtdVTJ8AFF8X34PeW13fUN0E0JtfQdedQFzAHpteGhEJVoBdi9YVnUfK01-bHR7E2ZXFyAtWVZ1Hz5LLGdxaEYiWgF2I1MYeAlsVyA9fX4DNAZCbXwWDSRLdwhlNyM8GGJBRCUlVFZ0DHMIc2h3fRVrVwZgfwdZY1gjW35qZjpQbw9FJDxDTnZ4bwoFf3IIRj4OUjtiUQcsQD9WbTkvIwBgIVx1fnZadQl6DHNucncRd1V3djxeVqyh9dHE1qT0tHQVVG1-CVJrD34Md21wfBRmXwVjewVNN1o4BXN8IigYY-hkBAucJeDc"],"id":3577104,"name":"","conversion_tracks":["https://sugar.zhihu.com/plutus_adreaper?idi=100010062\u0026di=tower\u0026ar=0.0029964447021484375\u0026nt=0\u0026t=5\u0026ed=CjEEfx4wM319QzdQBmMpBEZyDSxcbm5ydxx_XwNmeh1TI10sCiZteHwQa1UXMTYNXGNYI1x-aXV5EmNXBXY8WVZ3DHIMdW1xaEY7WgJlfAhfdgFsWzdncGhGPVoIaGIJXXAIew16b3d3F2pQB3YuQFZ0CXoeLy99exdqUABjdQVNMFB3CndqeXQdM1ZUanpTXnQDeQx7anotHGtdVTJ8AFF8X34PeW13fUN0E0JtfQdedQFzAHpteGhEJVoBdi9YVnUfK01-bHR7E2ZXFyAtWVZ1Hz5LLGdxaEYiWgF2I1MYeAlsVyA9fX4DNAZCbXwWDSRLdwhlNyM8GGJBRCUlVFZ0DHMIc2h3fRVrVwZgfwdZY1gjW35qZjpQbw9FJDxDTnZ4bwoFf3IIRj4OUjtiUQcsQD9WbTkvIwBgIVx1fnZadQl6DHNucncRd1V3djxeVqyh9dHE1qT0tHQVVG1-CVJrD34Md21wfBRmXwVjewVNN1o4BXN8IigYY4VHrNg58_dn\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\u0026pdi=1720689004062518\u0026s=34c92857-d989-47bf-ac33-a10192ed7075\u0026pf=4"],"content_type":"","target_token":""}],"vote_up_count":0,"comment_count":0,"is_following":false,"category":1,"id":3577104,"can_interact":false,"user_id":0,"ctr":0,"display_advertising_tag":true,"debug_tracks":["https://sugar.zhihu.com/plutus_adreaper?ar=0.0029964447021484375\u0026ed=CjEEcx4wM319QzdQBmMpBEZyDSxcbm5ydxx_XwNmeh1TI10sCiZteHwQa1UXMTYNXGNYI1x-aXV5EmNXBXY8WVZ3DHIMdW1xaEY7WgJlfAhfdgFsWzdncGhGPVoIaGIJXXAIew16b3d3F2pQB3YuQFZ0CXoeLy99exdqUABjdQVNMFB3CndqeXQdM1ZUanpTXnQDeQx7anotHGtdVTJ8AFF8X34PeW13fUN0E0JtfQdedQFzAHpteGhEJVoBdi9YVnUfK01-bHR7E2ZXFyAtWVZ1Hz5LLGdxaEYiWgF2I1MYeAlsVyA9fX4DNAZCbXwWDSRLdwhlNyM8GGJBRCUlVFZ0DHMIc2h3fRVrVwZgfwdZY1gjW35qZjpQbw9FJDxDTnZ4bwoFf3IIRj4OUjtiUQcsQD9WbTkvIwBgIVx1fnZadQl6DHNucncRd1V3djxeVqyh9dHE1qT0tHQVVG1-CVJrD34Md21wfBRmXwVjewVNN1o4BXN8IigYY01rA0R4w8wi\u0026di=tower\u0026idi=100010062\u0026s=34c92857-d989-47bf-ac33-a10192ed7075\u0026pdi=1720689004062518\u0026nt=0\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\u0026pf=4\u0026t=9"],"land_prefetch":false,"native_prefetch":true,"is_new_webview":true,"experiment_info":"{}","download_silent":false,"is_speeding":false,"brand":{"name":"阿里云","logo":"https://pic4.zhimg.com/v2-1c5da37aa83c6231c6cd1540923243da_xl.jpg?source=d6434cab","type":"brand","action_text":""}},"ad_list":[],"adjson":"{\"ads\":[{\"id\":3577104,\"ad_zone_id\":7,\"template\":\"web_image_feed\",\"style\":\"psi_7\",\"impression_tracks\":[\"https://sugar.zhihu.com/plutus_adreaper?ed=CjEEeB4wM319QzdQBmMpBEZyDSxcbm5ydxx_XwNmeh1TI10sCiZteHwQa1UXMTYNXGNYI1x-aXV5EmNXBXY8WVZ3DHIMdW1xaEY7WgJlfAhfdgFsWzdncGhGPVoIaGIJXXAIew16b3d3F2pQB3YuQFZ0CXoeLy99exdqUABjdQVNMFB3CndqeXQdM1ZUanpTXnQDeQx7anotHGtdVTJ8AFF8X34PeW13fUN0E0JtfQdedQFzAHpteGhEJVoBdi9YVnUfK01-bHR7E2ZXFyAtWVZ1Hz5LLGdxaEYiWgF2I1MYeAlsVyA9fX4DNAZCbXwWDSRLdwhlNyM8GGJBRCUlVFZ0DHMIc2h3fRVrVwZgfwdZY1gjW35qZjpQbw9FJDxDTnZ4bwoFf3IIRj4OUjtiUQcsQD9WbTkvIwBgIVx1fnZadQl6DHNucncRd1V3djxeVqyh9dHE1qT0tHQVVG1-CVJrD34Md21wfBRmXwVjewVNN1o4BXN8IigYYyDegEqpTJ9o\\u0026pdi=1720689004062518\\u0026idi=100010062\\u0026di=tower\\u0026nt=0\\u0026s=90d18986-bd89-4599-97d2-f30faaf2f98f\\u0026pf=4\\u0026ar=0.0029964447021484375\\u0026t=2\\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\"],\"view_tracks\":[\"https://sugar.zhihu.com/plutus_adreaper?nt=0\\u0026s=90d18986-bd89-4599-97d2-f30faaf2f98f\\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\\u0026pdi=1720689004062518\\u0026pf=4\\u0026t=3\\u0026ed=CjEEeR4wM319QzdQBmMpBEZyDSxcbm5ydxx_XwNmeh1TI10sCiZteHwQa1UXMTYNXGNYI1x-aXV5EmNXBXY8WVZ3DHIMdW1xaEY7WgJlfAhfdgFsWzdncGhGPVoIaGIJXXAIew16b3d3F2pQB3YuQFZ0CXoeLy99exdqUABjdQVNMFB3CndqeXQdM1ZUanpTXnQDeQx7anotHGtdVTJ8AFF8X34PeW13fUN0E0JtfQdedQFzAHpteGhEJVoBdi9YVnUfK01-bHR7E2ZXFyAtWVZ1Hz5LLGdxaEYiWgF2I1MYeAlsVyA9fX4DNAZCbXwWDSRLdwhlNyM8GGJBRCUlVFZ0DHMIc2h3fRVrVwZgfwdZY1gjW35qZjpQbw9FJDxDTnZ4bwoFf3IIRj4OUjtiUQcsQD9WbTkvIwBgIVx1fnZadQl6DHNucncRd1V3djxeVqyh9dHE1qT0tHQVVG1-CVJrD34Md21wfBRmXwVjewVNN1o4BXN8IigYY89WiSyfLHgZ\\u0026idi=100010062\\u0026di=tower\\u0026ar=0.0029964447021484375\"],\"click_tracks\":[\"https://sugar.zhihu.com/plutus_adreaper?nt=0\\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\\u0026pf=4\\u0026t=4\\u0026ar=0.0029964447021484375\\u0026ed=CjEEfh4wM319QzdQBmMpBEZyDSxcbm5ydxx_XwNmeh1TI10sCiZteHwQa1UXMTYNXGNYI1x-aXV5EmNXBXY8WVZ3DHIMdW1xaEY7WgJlfAhfdgFsWzdncGhGPVoIaGIJXXAIew16b3d3F2pQB3YuQFZ0CXoeLy99exdqUABjdQVNMFB3CndqeXQdM1ZUanpTXnQDeQx7anotHGtdVTJ8AFF8X34PeW13fUN0E0JtfQdedQFzAHpteGhEJVoBdi9YVnUfK01-bHR7E2ZXFyAtWVZ1Hz5LLGdxaEYiWgF2I1MYeAlsVyA9fX4DNAZCbXwWDSRLdwhlNyM8GGJBRCUlVFZ0DHMIc2h3fRVrVwZgfwdZY1gjW35qZjpQbw9FJDxDTnZ4bwoFf3IIRj4OUjtiUQcsQD9WbTkvIwBgIVx1fnZadQl6DHNucncRd1V3djxeVqyh9dHE1qT0tHQVVG1-CVJrD34Md21wfBRmXwVjewVNN1o4BXN8IigYY-hkBAucJeDc\\u0026s=90d18986-bd89-4599-97d2-f30faaf2f98f\\u0026idi=100010062\\u0026pdi=1720689004062518\\u0026di=tower\"],\"close_tracks\":[\"https://sugar.zhihu.com/plutus_adreaper?pf=4\\u0026di=tower\\u0026ed=CjEEfR4wM319QzdQBmMpBEZyDSxcbm5ydxx_XwNmeh1TI10sCiZteHwQa1UXMTYNXGNYI1x-aXV5EmNXBXY8WVZ3DHIMdW1xaEY7WgJlfAhfdgFsWzdncGhGPVoIaGIJXXAIew16b3d3F2pQB3YuQFZ0CXoeLy99exdqUABjdQVNMFB3CndqeXQdM1ZUanpTXnQDeQx7anotHGtdVTJ8AFF8X34PeW13fUN0E0JtfQdedQFzAHpteGhEJVoBdi9YVnUfK01-bHR7E2ZXFyAtWVZ1Hz5LLGdxaEYiWgF2I1MYeAlsVyA9fX4DNAZCbXwWDSRLdwhlNyM8GGJBRCUlVFZ0DHMIc2h3fRVrVwZgfwdZY1gjW35qZjpQbw9FJDxDTnZ4bwoFf3IIRj4OUjtiUQcsQD9WbTkvIwBgIVx1fnZadQl6DHNucncRd1V3djxeVqyh9dHE1qT0tHQVVG1-CVJrD34Md21wfBRmXwVjewVNN1o4BXN8IigYYzQZ566WuYZS\\u0026t=7\\u0026ar=0.0029964447021484375\\u0026pdi=1720689004062518\\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\\u0026nt=0\\u0026s=90d18986-bd89-4599-97d2-f30faaf2f98f\\u0026idi=100010062\"],\"debug_tracks\":[\"https://sugar.zhihu.com/plutus_adreaper?ut=075acd00a0774b9d9d2a3786e8226e3a\\u0026t=9\\u0026pdi=1720689004062518\\u0026pf=4\\u0026ed=CjEEcx4wM319QzdQBmMpBEZyDSxcbm5ydxx_XwNmeh1TI10sCiZteHwQa1UXMTYNXGNYI1x-aXV5EmNXBXY8WVZ3DHIMdW1xaEY7WgJlfAhfdgFsWzdncGhGPVoIaGIJXXAIew16b3d3F2pQB3YuQFZ0CXoeLy99exdqUABjdQVNMFB3CndqeXQdM1ZUanpTXnQDeQx7anotHGtdVTJ8AFF8X34PeW13fUN0E0JtfQdedQFzAHpteGhEJVoBdi9YVnUfK01-bHR7E2ZXFyAtWVZ1Hz5LLGdxaEYiWgF2I1MYeAlsVyA9fX4DNAZCbXwWDSRLdwhlNyM8GGJBRCUlVFZ0DHMIc2h3fRVrVwZgfwdZY1gjW35qZjpQbw9FJDxDTnZ4bwoFf3IIRj4OUjtiUQcsQD9WbTkvIwBgIVx1fnZadQl6DHNucncRd1V3djxeVqyh9dHE1qT0tHQVVG1-CVJrD34Md21wfBRmXwVjewVNN1o4BXN8IigYY01rA0R4w8wi\\u0026nt=0\\u0026s=90d18986-bd89-4599-97d2-f30faaf2f98f\\u0026idi=100010062\\u0026di=tower\\u0026ar=0.0029964447021484375\"],\"conversion_tracks\":[\"https://sugar.zhihu.com/plutus_adreaper?ar=0.0029964447021484375\\u0026di=tower\\u0026pdi=1720689004062518\\u0026pf=4\\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\\u0026idi=100010062\\u0026s=90d18986-bd89-4599-97d2-f30faaf2f98f\\u0026ed=CjEEfx4wM319QzdQBmMpBEZyDSxcbm5ydxx_XwNmeh1TI10sCiZteHwQa1UXMTYNXGNYI1x-aXV5EmNXBXY8WVZ3DHIMdW1xaEY7WgJlfAhfdgFsWzdncGhGPVoIaGIJXXAIew16b3d3F2pQB3YuQFZ0CXoeLy99exdqUABjdQVNMFB3CndqeXQdM1ZUanpTXnQDeQx7anotHGtdVTJ8AFF8X34PeW13fUN0E0JtfQdedQFzAHpteGhEJVoBdi9YVnUfK01-bHR7E2ZXFyAtWVZ1Hz5LLGdxaEYiWgF2I1MYeAlsVyA9fX4DNAZCbXwWDSRLdwhlNyM8GGJBRCUlVFZ0DHMIc2h3fRVrVwZgfwdZY1gjW35qZjpQbw9FJDxDTnZ4bwoFf3IIRj4OUjtiUQcsQD9WbTkvIwBgIVx1fnZadQl6DHNucncRd1V3djxeVqyh9dHE1qT0tHQVVG1-CVJrD34Md21wfBRmXwVjewVNN1o4BXN8IigYY4VHrNg58_dn\\u0026nt=0\\u0026t=5\"],\"extra_conversion_tracks\":{\"call_back\":[\"https://sugar.zhihu.com/plutus_adreaper_callback?si=3fe773e4-74fd-4299-8266-8fdf2e782592\\u0026os=3\\u0026zid=7\\u0026zaid=3577104\\u0026zcid=3508438\\u0026cid=3508438\\u0026event=__EVENTTYPE__\\u0026value=__EVENTVALUE__\\u0026ts=__TIMESTAMP__\\u0026cts=__TS__\\u0026mh=0d4c67703d44506b579057ff6733c754\\u0026adv=645640\\u0026ocg=0\\u0026cp=0\\u0026ocs=0\\u0026aic=0\\u0026ct=0\"]},\"za_ad_info\":\"CJCq2gEQByIBMV0yudBOYNaR1gE=\",\"za_ad_info_json\":\"{\\\"ad_id\\\":3577104,\\\"ad_zone_id\\\":7,\\\"category\\\":\\\"1\\\",\\\"timestamp\\\":1750899000,\\\"creative_id\\\":3508438}\",\"creatives\":[{\"id\":3508438,\"asset\":{\"brand_name\":\"阿里云\",\"brand_logo\":\"https://pic4.zhimg.com/v2-1c5da37aa83c6231c6cd1540923243da_xl.jpg?source=d6434cab\",\"title\":\"阿里云创新季｜云服务器38元/年起+7000万Token免费体验\",\"desc\":\"618必囤云资源！阿里云AI创新加速季重磅开启，AI大模型7000万token免费体验，云服务器限时38元/年起。叠加至高1728元优惠券，百款产品折上折，企业轻量上云/智能算力需求一键解决！立即解锁数字化转型新动力！\",\"imgs\":[\"https://pic2.zhimg.com/v2-73099e4ceab72520fd1d046079feb8d2_bh.jpg?source=d6434cab\"],\"landing_url\":\"https://click.aliyun.com/m/1000404294/?spu=biz%3D0%26ci%3D3508438%26si%3D32802109-7981-4d43-b7c3-808fdafd4887%26ts%3D1750898978%26zid%3D7\",\"img_size\":1,\"cta\":\"查看详情\",\"image_ratio_extra\":{\"width\":25,\"height\":14},\"native_asset\":{\"plugin_type\":\"\"},\"img_full_screen\":false,\"animate_style_config\":{\"switch_tag\":1,\"type\":1,\"file\":\"https://zhstatic.zhihu.com/brand-ad/image/499a-240116/2b475255-b44d-11ee-ac84-52aba93487ab-9xg.pag\",\"duration\":4,\"tips\":\"擦一擦解锁更多精彩\",\"distance\":30,\"delay\":2},\"zm_landing_url\":\"https://click.aliyun.com/m/1000404294/?spu=biz%3D0%26ci%3D3508438%26si%3D32802109-7981-4d43-b7c3-808fdafd4887%26ts%3D1750898978%26zid%3D7\"},\"video_watch_num\":46690,\"fact_ctr\":0.0029964447021484375,\"fact_cvr\":-1}],\"expand\":{\"display_advertising_tag\":true,\"download_silent\":false,\"is_new_webview\":true,\"is_cdn_speeding\":false,\"extra\":{\"parameters\":\"plugcb=https%3A%2F%2Fsugar.zhihu.com%2Fplutus_adreaper_callback%3Fcid%3D3508438%26ccid%3D2584671%26adid%3D3577104%26zoneid%3D7%26adsource%3Deffect%26sid%3D32802109-7981-4d43-b7c3-808fdafd4887\",\"sign\":\"3fe773e4-74fd-4299-8266-8fdf2e782592\"},\"is_apk_market_direct\":false,\"interactive\":{\"deliver_time\":\"25 分钟前\",\"browse_string\":\"3.9 万\",\"participate_string\":\"19 \",\"slide_time_one\":3,\"slide_time_two\":10,\"slide_end\":true,\"deep_link_jump_time\":3},\"launch_timeout\":600},\"experiment_info\":\"{}\",\"view_x_tracks\":[\"https://sugar.zhihu.com/plutus_adreaper?di=tower\\u0026ar=0.0029964447021484375\\u0026pdi=1720689004062518\\u0026s=90d18986-bd89-4599-97d2-f30faaf2f98f\\u0026nt=0\\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\\u0026idi=100010062\\u0026pf=4\\u0026t=10\\u0026ed=CjEEewhlKSlzFjQCBmd_VV9oDn5eJ3d0fBxrSgliegZGfV8uXnE_d3YXZ14Ddi1KVnIfK1EnZ3N7EmVWAWRqQAJ4C38Ad2x3fwMxDgxjeQBTcQpyHiAufX4DMQgMaXQeUnMMewl2Y3V5HGBfBmZqUht4CHoIZTY1cxBgXwZhfwleY0wjBXFucHcfagYANXYGCHAIcAt3YnB0RmteCzQuAFt_ACwMdGB3eRY0QUUjcQFccAlyAXtjd3YDMxAMYGpTA3gJbFk2Z3Z6EGRTAXY8UQJ4CWxMMDV9fwMxFwxgal8INgR6Hiw5J3MVdAFQI3EATSNYOAVzfC0tV29XFyU5WQ94CH8Bc2pyeRZiXgFnfANcdx8rUSBncGhRJ1pZJDhAGGAKCx1xHGV8YzELWDMnHgopUDNNLXQjIUh3VXc9aQItdAl6CHdqdHwcZkIDFmpABXjQ0oeq3cyqn8NBQzVxAlJ8F3wMd253fhdjUwlkfwdeY0spSn5qZixDb1Ycr6NoUGhBWA%3D%3D\"],\"mobile_experiment\":{\"feed_card_exp\":\"\"},\"traffic_source\":1,\"party_id\":-2,\"deliver_tracks\":[\"http://proxy-ad-track-plutus.pek01.rack.zhihu.com:10000/ad-track/plutus_log?ut=075acd00a0774b9d9d2a3786e8226e3a\\u0026rui=32802109-7981-4d43-b7c3-808fdafd4887\\u0026nt=0\\u0026ri=32802109-7981-4d43-b7c3-808fdafd4887\\u0026pf=4\\u0026ar=0.0029964447021484375\\u0026pdi=1720689004062518\\u0026bn=0\\u0026di=tower\\u0026pty=50\\u0026s=90d18986-bd89-4599-97d2-f30faaf2f98f\\u0026idi=100010062\\u0026ed=CjEEewplKSlzFjQCBmd_VV9oDn5eJ3d0fBxrSgliegZGfV8uXnE_d3YXZ14Ddi1KVnIfK1EnZ3N7EmVWAWRqQAJ4C38Ad2x3fwMxDgxjeQBTcQpyHiAufX4DMQgMaXQeUnMMewl2Y3V5HGBfBmZqUht4CHoIZTY1cxBgXwZhfwleY0wjBXFucHcfagYANXYGCHAIcAt3YnB0RmteCzQuAFt_ACwMdGB3eRY0QUUjcQFccAlyAXtjd3YDMxAMYGpTA3gJbFk2Z3Z6EGRTAXY8UQJ4CWxMMDV9fwMxFwxgal8INgR6Hiw5J3MVdAFQI3EATSNYOAVzfC0tV29XFyU5WQ94CH8Bc2pyeRZiXgFnfANcdx8rUSBncGhRJ1pZJDhAGGAKCx1xHGV8YzELWDMnHgopUDNNLXQjIUh3VXc9aQItdAl6CHdqdHwcZkIDFmpABXjQ0oeq3cyqn8NBQzVxAlJ8F3wMd253fhdjUwlkfwdeY0spSn5qZixDb1bTK-N58-6Zjw%3D%3D\\u0026t=12\"],\"product_uuid\":1590027309070372}]}","pcontent":"","ncontent":"https://zhuanlan.zhihu.com/p/1921269148916351042","ext_info":{"content_type":"","content_id":"","question_id":-1,"auction_type":1,"ecpm":299.0,"type":1,"fact_bid_price":100.0,"fact_ctr":0.0029964447021484375,"fact_cvr":-1.0,"deliver_tracks":["http://proxy-ad-track-plutus.pek01.rack.zhihu.com:10000/ad-track/plutus_log?ed=CjEEewllKSlzFjQCBmd_VV9oDn5eJ3d0fBxrSgliegZGfV8uXnE_d3YXZ14Ddi1KVnIfK1EnZ3N7EmVWAWRqQAJ4C38Ad2x3fwMxDgxjeQBTcQpyHiAufX4DMQgMaXQeUnMMewl2Y3V5HGBfBmZqUht4CHoIZTY1cxBgXwZhfwleY0wjBXFucHcfagYANXYGCHAIcAt3YnB0RmteCzQuAFt_ACwMdGB3eRY0QUUjcQFccAlyAXtjd3YDMxAMYGpTA3gJbFk2Z3Z6EGRTAXY8UQJ4CWxMMDV9fwMxFwxgal8INgR6Hiw5J3MVdAFQI3EATSNYOAVzfC0tV29XFyU5WQ94CH8Bc2pyeRZiXgFnfANcdx8rUSBncGhRJ1pZJDhAGGAKCx1xHGV8YzELWDMnHgopUDNNLXQjIUh3VXc9aQItdAl6CHdqdHwcZkIDFmpABXjQ0oeq3cyqn8NBQzVxAlJ8F3wMd253fhdjUwlkfwdeY0spSn5qZixDb1bnsz_LDXik_w%3D%3D\u0026ut=075acd00a0774b9d9d2a3786e8226e3a\u0026idi=100010062\u0026t=11\u0026nt=0\u0026s=90d18986-bd89-4599-97d2-f30faaf2f98f\u0026ar=0.0029964447021484375\u0026ft=2\u0026pdi=1720689004062518\u0026di=tower\u0026pf=4"],"zfeature_content_info":null,"author_id":0,"parent_id":0,"title":null,"content_embedding":null,"media_type":null,"party_id":"EFFECT","creative_id":3508438}},{"id":"102_1750898979.844","type":"feed","offset":102,"verb":"TOPIC_ACKNOWLEDGED_ARTICLE","created_time":1750898979,"updated_time":1750898979,"target":{"id":"1921269148916351042","type":"article","url":"https://api.zhihu.com/articles/1921269148916351042","author":{"id":"6d4af1e42c72f1c656159d5b4c6dced8","url":"https://api.zhihu.com/people/6d4af1e42c72f1c656159d5b4c6dced8","user_type":"people","url_token":"huan-hao-ba-62-94","name":"江豆","headline":"","avatar_url":"https://pic1.zhimg.com/50/v2-7512ccc28766c67b26c514b8d3f091d7_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":3842,"is_following":false,"is_followed":false},"title":"巴菲特最经典的演讲！没有之一！","comment_permission":"all","created":1750847413,"updated":1750847413,"voteup_count":4,"voting":0,"comment_count":0,"linkbox":{"category":"","pic":"","title":"","url":""},"excerpt":"1998年，巴菲特在佛罗里达大学商学院做了一个超有内涵的演讲。 有读者说，这是巴菲特最经典的演讲，没有之一~“请各位提问时一定要刁钻。你们问的问题越难，才越好玩。” 巴菲特在演讲之前是这样要求的，但他自己提的问题就有够刁钻， “假如可以从认识的人中选一个，买入他今后一生10% 的收入，你会选谁？” 以下是演讲原文，经典值得珍藏，欢迎转发分享。   巴菲特在佛罗里达大学商学院的演讲 1998年10月15日 巴菲特：（手持麦克…","excerpt_new":"1998年，巴菲特在佛罗里达大学商学院做了一个超有内涵的演讲。 有读者说，这是巴菲特最经典的演讲，没有之一~“请各位提问时一定要刁钻。你们问的问题越难，才越好玩。” 巴菲特在演讲之前是这样要求的，但他自己提的问题就有够刁钻， “假如可以从认识的人中选一个，买入他今后一生10% 的收入，你会选谁？” 以下是演讲原文，经典值得珍藏，欢迎转发分享。   巴菲特在佛罗里达大学商学院的演讲 1998年10月15日 巴菲特：（手持麦克…","preview_type":"default","preview_text":"","content":"\u003cp data-pid=\"vUD-ZyYv\"\u003e1998年，巴菲特在佛罗里达大学商学院做了一个超有内涵的演讲。\u003c/p\u003e\u003cp data-pid=\"0RzE9R9-\"\u003e\u003cb\u003e有读者说，这是巴菲特最经典的演讲，没有之一~\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"OCGk-CVb\"\u003e“请各位提问时一定要刁钻。你们问的问题越难，才越好玩。”\u003c/p\u003e\u003cp data-pid=\"DSpco5yw\"\u003e巴菲特在演讲之前是这样要求的，但他自己提的问题就有够刁钻，\u003c/p\u003e\u003cp data-pid=\"oaAfwMB_\"\u003e“假如可以从认识的人中选一个，买入他今后一生10% 的收入，你会选谁？”\u003c/p\u003e\u003cp data-pid=\"zc2g-deY\"\u003e\u003cb\u003e以下是演讲原文，经典值得珍藏，欢迎转发分享。\u003c/b\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic2.zhimg.com/v2-a5dcf05dd6071bb2ed5f7104ab9378d9_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"800\" data-rawheight=\"450\" data-original-token=\"v2-2a523f97bda37cf9506b43d0f551e4b4\" class=\"origin_image zh-lightbox-thumb\" width=\"800\" data-original=\"https://pic2.zhimg.com/v2-a5dcf05dd6071bb2ed5f7104ab9378d9_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"WB7Tamn1\"\u003e巴菲特在佛罗里达大学商学院的演讲\u003c/p\u003e\u003cp data-pid=\"k8iIqWCx\"\u003e1998年10月15日\u003c/p\u003e\u003cp data-pid=\"_F5k6us1\"\u003e巴菲特：（手持麦克风）测试，1 百万、2 百万、3 百万。\u003c/p\u003e\u003cp data-pid=\"9oUl5F3y\"\u003e我先简单说几句，把大部分时间留下来回答大家的问题。我想聊聊大家关心的话题。\u003c/p\u003e\u003cp data-pid=\"O9or-hVK\"\u003e\u003cb\u003e请各位提问的时候一定要刁钻。你们问的问题越难，才越好玩。什么都可以问，就是不能问上个月我交了多少税，这个问题我无可奉告。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"8e9SZKjx\"\u003e各位同学，你们毕业之后未来会怎样？我简单说说我的想法。各位在这所大学能学到大量关于投资的知识，你们将拥有成功所需的知识。\u003c/p\u003e\u003cp data-pid=\"3YjF1cCP\"\u003e既然各位能坐在这里，你们也拥有成功所需的智商，你们还有成功所需的拼劲。你们大多数人都会成功地实现自己的理想。\u003c/p\u003e\u003cp data-pid=\"Kub3E-A2\"\u003e\u003cb\u003e但是最后你到底能否成功，不只取决于你的头脑和勤奋。我简单讲一下这个道理。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"X6MyHN_3\"\u003e奥马哈有个叫彼得•基威特的人，他说他招人的时候看三点：\u003cb\u003e品行、头脑和勤奋\u003c/b\u003e。\u003c/p\u003e\u003cblockquote data-pid=\"DR999Tz4\"\u003e他说一个人要是头脑聪明、勤奋努力，但品行不好，肯定是个祸害。品行不端的人，最好又懒又蠢。\u003c/blockquote\u003e\u003cp data-pid=\"O6UG_mPD\"\u003e\u003cb\u003e我知道各位都头脑聪明、勤奋努力，所以我今天只讲品行。为了更好地思考这个问题，我们不妨一起做个游戏。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"Doq-Err9\"\u003e各位都是 MBA 二年级的学生，应该很了解自己周围的同学了。假设现在你可以选一个同学，买入他今后一生之内 10% 的收入。\u003c/p\u003e\u003cp data-pid=\"qvwWFTF7\"\u003e你不能选富二代，只能选靠自己奋斗的人。请各位仔细想一下，你会选班里的哪位同学，买入他今后一生之内 10% 的收入。\u003c/p\u003e\u003cp data-pid=\"xiMbGyQp\"\u003e你会给所有同学做个智商测试，选智商最高的吗？未必。你会选考试成绩最高的吗？未必。你会选最有拼劲的吗？不一定。因为大家都很聪明，也都很努力，我觉得你会主要考虑定性方面的因素。\u003c/p\u003e\u003cp data-pid=\"-RAQmVLC\"\u003e好好想想，你会把赌注压在谁的身上？也许你会选你最有认同感的那个人，那个拥有领导能力，能把别人组织起来的人。\u003c/p\u003e\u003cp data-pid=\"qbUHVtwj\"\u003e\u003cb\u003e这样的人应该是慷慨大方的、诚实正直的，他们自己做了贡献，却说是别人的功劳。我觉得让你做出决定的应该是这样的品质。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"3-Fl0vX_\"\u003e找到了你最钦佩的这位同学之后，想一想他身上有哪些优秀品质，拿一张纸，把这些品质写在纸的左边。\u003c/p\u003e\u003cp data-pid=\"eYLOn5Y2\"\u003e下面我要加大难度了。为了拥有这位同学今后一生 10% 的收入，你还要同时做空另一位同学今后一生 10% 的收入，这个更好玩。\u003c/p\u003e\u003cp data-pid=\"X-tSri0k\"\u003e想想你会做空谁？你不会选智商最低的。你会想到那些招人烦的人，他们可能学习成绩优秀，但你就是不想和他们打交道，不但你烦他们，别人也烦他们。\u003c/p\u003e\u003cp data-pid=\"J8p6hop8\"\u003e\u003cb\u003e为什么有人会招人烦？原因很多，这样的人可能自私自利、贪得无厌、投机取巧或者弄虚作假。类似这样的品质，你想想还有什么，请把它们写在刚才那张纸的右边。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"9h5HdLjS\"\u003e看看左右两边分别列出来的品质，你发现了吗？这些品质不是把橄榄球扔出 60 米，不是 10 秒钟跑完 100 米，不是相貌在全班最出众。左边的这些品质，你真想拥有的话，你可以有。\u003c/p\u003e\u003cp data-pid=\"CVL3B9_y\"\u003e这些是关于行为、脾气和性格的品质，是能培养出来的。在座的各位，只要你想要获得这些品质，没一个是你得不到的。\u003c/p\u003e\u003cp data-pid=\"52c2mGN-\"\u003e再看一下右边的那些品质，那些令人生厌的品质，没一个是你非有不可的，你身上要是有，想改的话，可以改掉。\u003c/p\u003e\u003cp data-pid=\"0qqj-7Hn\"\u003e大多数行为都是习惯成自然。我已经老了，但你们还年轻，想摆脱恶习，你们年轻人做起来更容易。\u003c/p\u003e\u003cp data-pid=\"A_EKeCOH\"\u003e\u003cb\u003e常言道，习惯的枷锁，开始的时候轻的难以察觉，到后来却重的无法摆脱。这话特别在理。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"W4V98uRa\"\u003e我在生活中见过一些人，他们有的和我年纪差不多，有的比我年轻十几二十几岁，但是他们染上了一些坏习性，把自己毁了，改也改不掉，走到哪都招人烦。他们原来不是这样的，但是习惯成自然，积累到一定程度，根本改不了了。\u003c/p\u003e\u003cp data-pid=\"ZsmJp0NI\"\u003e你们还年轻，想养成什么习惯、想形成什么品格，都可以，就看你自己怎么想了。\u003c/p\u003e\u003cp data-pid=\"Va-MKegB\"\u003e本•格雷厄姆，还有他之前的本•富兰克林，他们都这么做过。\u003c/p\u003e\u003cp data-pid=\"wuWL6JHn\"\u003e本•格雷厄姆十几岁的时候就观察自己周围那些令人敬佩的人，他对自己说：“我也想成为一个被别人敬佩的人，我要向他们学习。”格雷厄姆发现学习他敬佩的人，像他们一样为人处世，是完全做得到的。\u003c/p\u003e\u003cp data-pid=\"NeHGTFWm\"\u003e他同样观察周围遭人厌恶的人，摆脱他们身上的缺点。我建议大家把这些品质写下来，好好想想，把好品质养成习惯，最后你想买谁 10% 的收入，就会变成他。\u003c/p\u003e\u003cp data-pid=\"vqP2uw_5\"\u003e你已经确定拥有自己 100% 的收入，再有别人的 10%，这多好。你选择了谁，你都可以学得像他一样。\u003c/p\u003e\u003ch2\u003eQ1：有传言说您是救赎长期资本管理公司的买家之一，到底发生了什么，能给我们讲讲吗？\u003c/h2\u003e\u003cp data-pid=\"DKxvPROL\"\u003e巴菲特：这件事非常耐人寻味。长期资本管理公司的由来，相信在座的大多人都知道，实在太令人感慨了。\u003c/p\u003e\u003cp data-pid=\"CU9SXIMK\"\u003e约翰•梅里韦瑟、艾瑞克•罗森菲尔德、拉里•希利布兰德、格雷格•霍金斯、维克多•哈格哈尼，还有两位诺贝尔奖桂冠得主罗伯特•默顿和迈伦•舒尔兹，把他们这 16 个人加起来，他们的智商该多高，随便从哪家公司挑 16 个人出来，包括微软，都没法和他们比。\u003c/p\u003e\u003cp data-pid=\"09Togznb\"\u003e\u003cb\u003e第一，他们的智商高得不得了。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"e16RsMQL\"\u003e\u003cb\u003e第二，他们这 16 个人都是投资领域的老手。他们不是倒卖服装发的家，然后来搞证券的。他们这 16 个人加起来，有三四百年的经验了，一直都在投资这行摸爬滚打。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"TMSwO-2U\"\u003e\u003cb\u003e第三，他们大多数人都几乎把自己的整个身家财产都投入到了长期资本管理公司，他们把自己的钱也投进去了。他们自己投了几亿的钱，而且智商高超，经验老道。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"VyZqWTNp\"\u003e\u003cb\u003e结果却破产了，真是让人感慨。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"zLkZbs7h\"\u003e要让我写一本书的话，书名我都想好了，就叫《聪明人怎么做蠢事》，我的合伙人说我的自传可以叫这个名字。\u003c/p\u003e\u003cp data-pid=\"wx-RHTxd\"\u003e但是，我们从长期资本这件事能得到很多启发。长期资本的人都是好人。我尊重他们。当我在所罗门焦头烂额的时候，他们帮过我。他们根本不是坏人。\u003c/p\u003e\u003cp data-pid=\"4InCwgIs\"\u003e但是他们为了赚更多的钱，为了赚自己不需要的钱，把自己手里的钱，把自己需要的钱都搭进去了。这不是傻是什么？绝对是傻，不管智商多高，都是傻。\u003c/p\u003e\u003cp data-pid=\"B_tTeo3c\"\u003e\u003cb\u003e为了得到对自己不重要的东西，甘愿拿对自己重要的东西去冒险，哪能这么干？我不管成功的概率是 100 比 1，还是 1000 比 1，我都不做这样的事。\u003c/b\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-3df44f9ac7754641eb26a79e9ceae4f7_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"900\" data-rawheight=\"500\" data-original-token=\"v2-903e69ff4589e7193c69c45ab5ca0590\" class=\"origin_image zh-lightbox-thumb\" width=\"900\" data-original=\"https://picx.zhimg.com/v2-3df44f9ac7754641eb26a79e9ceae4f7_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"OtHSptrU\"\u003e假设你递给我一把枪，里面有 1000 个弹仓、100 万个弹仓，其中只有一个弹仓里有一颗子弹，你说：“把枪对准你的太阳穴，扣一下扳机，你要多少钱？”我不干。你给我多少钱，我都不干。\u003c/p\u003e\u003cp data-pid=\"2FlqMlUS\"\u003e\u003cb\u003e要是我赢了，我不需要那些钱；要是我输了，结果不用说了。这样的事，我一点都不想做，但是在金融领域，人们经常做这样的事，都不经过大脑。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"M_BSQQRH\"\u003e有一本很好的书，不是书好，是书名好。这是一本烂书，但是书名起得很好，是沃尔特•古特曼写的，书名是《一生只需富一次》。这个道理难道不是很简单吗？\u003c/p\u003e\u003cp data-pid=\"TgJakVX1\"\u003e假设年初你有 1 亿美元，如果不上杠杆，能赚 10%，上杠杆的成功率是 99%，能赚 20%，年末时你有 1.1 亿美元，还是 1.2 亿美元，有区别吗？没一点区别。\u003c/p\u003e\u003cp data-pid=\"3KzAPKqA\"\u003e要是年末你死了，写讣告的人可能有个笔误，虽然你有 1.2 亿，但他写成了 1.1 亿。多赚的钱有什么用？一点用没有。对你、对你的家人，对别人，都没用。\u003c/p\u003e\u003cp data-pid=\"e25KmoGR\"\u003e要是亏钱了的话，特别是给别人管钱，亏的不但是钱，而且颜面扫地、无地自容，把朋友的钱都亏了，没脸见人。\u003c/p\u003e\u003cp data-pid=\"QqxD6xI1\"\u003e我真理解不了，怎么有人会像这 16 个人一样，智商很高、人品也好，却做这样的事，一定是疯了。他们吃到了苦果，因为他们太依赖外物了。\u003c/p\u003e\u003cp data-pid=\"EU5edYKu\"\u003e我临时掌管所罗门的时候，他们和我说，六西格玛的事件、七西格玛的事件伤不着他们。他们错了。只看过去的情况，无法确定未来金融事件发生的概率。\u003c/p\u003e\u003cp data-pid=\"6NE3EHj-\"\u003e他们太依赖数学了，以为知道了一只股票的贝塔系数，就知道了这只股票的风险。要我说，贝塔系数和股票的风险根本是八竿子打不着。\u003c/p\u003e\u003cp data-pid=\"B5oH1Qjp\"\u003e\u003cb\u003e会计算西格玛，不代表你就知道破产的风险。\u003c/b\u003e我是这么想的，不知道现在他们是不是也这么想了。说真的，我都不愿意以长期资本为例。我们都有一定的概率会摊上类似的事，我们都有盲点，或许是因为我们了解了太多的细枝末节，把最关键的地方忽略了。\u003c/p\u003e\u003cblockquote data-pid=\"QEQYa6Et\"\u003e亨利•考夫曼说过一句话：“破产的有两种人，一种是什么都不知道的，一种是什么都知道的。”说起来，真是令人扼腕叹息。\u003c/blockquote\u003e\u003cp data-pid=\"180YGHA0\"\u003e同学们，引以为戒。我们基本上没借过钱，当然我们的保险公司里有浮存金。但是我压根没借过钱。\u003c/p\u003e\u003cp data-pid=\"KJJKb1cb\"\u003e\u003cb\u003e我只有 1 万块钱的时候都不借钱，不借钱不一样吗？我钱少的时候做投资也很开心。我根本不在乎我到底是有 1 万、10 万，还是 100 万。除非遇上了急事，比如生了大病急需用钱。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"mxBiSZcw\"\u003e当年我钱很少，但我也没盼着以后钱多了要过不一样的生活。\u003c/p\u003e\u003cp data-pid=\"kQZHSQdy\"\u003e从衣食住行来看，你我之间有什么差别吗？我们穿一样的衣服，我们都能喝天赐的可口可乐，我们都能吃上麦当劳，还有更美味的 DQ 冰淇淋，我们都住在冬暖夏凉的房子里，我们都在大屏幕上看橄榄球赛。你在大电视上看，我也在大电视上看。我们的生活完全一样，没多大差别。\u003c/p\u003e\u003cp data-pid=\"z_cWEPTl\"\u003e要是你生了大病，会得到良好的治疗。如果我得了大病，也会得到良好的治疗。我们唯一不一样的地方是我们出行的方式不同。\u003c/p\u003e\u003cp data-pid=\"FL-h8aVg\"\u003e我有一架小飞机，可以飞来飞去，我特别喜欢这架飞机，这是要花钱的。除了我们出行的方式不同，你说有什么是我能做，但你做不了的吗？\u003c/p\u003e\u003cp data-pid=\"2INyCioq\"\u003e我有一份我热爱的工作，但我一直都在做我喜欢的工作。当年我觉得赚 1000 美元是一大笔钱的时候，我就喜欢我的工作。\u003c/p\u003e\u003cp data-pid=\"69BpISwF\"\u003e同学们，做你们喜欢的工作。要是你总做那些自己不喜欢的工作，只是为了让简历上的工作经历更漂亮，那你真是糊涂了。\u003c/p\u003e\u003cp data-pid=\"J1p7t_bh\"\u003e有一次，我去做一个演讲，来接我的是一个 28 岁的哈佛大学的学生。我听他讲完了他的工作经历，觉得他很了不起。\u003c/p\u003e\u003cp data-pid=\"5RehSNR5\"\u003e我问他：“以后你有什么打算？”他说：“等我 MBA 毕业后，可能先进一家咨询公司，这样能给简历增加一些分量。”\u003c/p\u003e\u003cp data-pid=\"gB23X2lF\"\u003e我说：“你才 28 岁，已经有这么漂亮的工作经历了，你的简历比一般人的漂亮 10 倍。你还接着做自己不喜欢的工作，不觉得有点像年轻的时候把性生活省下来，留到岁数大的时候再用吗？\u003c/p\u003e\u003cp data-pid=\"5P-ULNQO\"\u003e\u003cb\u003e或早或晚，你们都应该开始做自己真心想做的事。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"p-R7hDhj\"\u003e我觉得我说的话，大家都听明白了。各位毕业之后，挑一个自己真心喜欢的工作，别为了让自己的简历更漂亮而工作，要做自己真心喜欢的。\u003c/p\u003e\u003cp data-pid=\"ySiPB02p\"\u003e时间久了，你的喜好可能会变，但在做自己喜欢的事的时候，早晨你会从床上跳起来。\u003c/p\u003e\u003cp data-pid=\"YO4ShNFB\"\u003e我刚从哥伦比亚大学商学院毕业，就迫不及待地希望立刻为格雷厄姆工作。我说我不要工资，格雷厄姆说我要的薪水太高了。我一直骚扰他。回到奥马哈后，我做了三年股票经纪人，一直给格雷厄姆写信，告诉他我发现的投资机会。\u003c/p\u003e\u003cp data-pid=\"oEFMSFTL\"\u003e最后，我终于得到了机会，在他手下工作了一两年。那是一段宝贵的经历。总之，我做的工作始终都是我喜欢的。\u003c/p\u003e\u003cp data-pid=\"thRCCPbp\"\u003e\u003cb\u003e你财富自由之后想做什么工作，现在就该做什么工作，这样的工作才是理想的工作。做这样的工作，你会很开心，能学到东西，能充满激情。每天会从床上跳起来，一天不工作都不行。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"T_HL_x4e\"\u003e或许以后你喜欢的东西会变，但是现在做你喜欢的工作，你会收获很多。我根本不在乎工资是多少。不知怎么，扯得有点远了。\u003c/p\u003e\u003cp data-pid=\"bZxxf6cQ\"\u003e总之，如果你现在有1块钱，以为将来有2块钱的时候，自己能比现在过得更幸福，你可能想错了。你应该找到自己真心喜欢做的事情，投入地去做。\u003c/p\u003e\u003cp data-pid=\"iocGNHOK\"\u003e\u003cb\u003e别以为赚10倍或20倍能解决生活中的所有问题，这样的想法很容易把你带到沟里去。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"Fe29Y8n2\"\u003e在不该借钱的时候借钱，或者急功近利、投机取巧，做自己不该做的事，将来都没地方买后悔药。\u003c/p\u003e\u003ch2\u003eQ2：您喜欢什么样的公司？\u003c/h2\u003e\u003cp data-pid=\"pltUWJTI\"\u003e巴菲特：我喜欢我能看懂的生意。\u003cb\u003e先从能不能看懂开始，\u003c/b\u003e我用这一条筛选，90% 的公司都被过滤掉了。\u003c/p\u003e\u003cp data-pid=\"UhntPblc\"\u003e我不懂的东西很多，好在我懂的东西足够用了。世界如此之大，几乎所有公司都是公众持股的。所有的美国公司，随便挑。首先，有些东西明知道自己不懂，不懂的，不能做。\u003c/p\u003e\u003cp data-pid=\"G-jFJcsc\"\u003e有些东西是你能看懂的。可口可乐，是我们都能看懂的，谁都能看懂。可口可乐这个产品从 1886 年起基本没变过。可口可乐的生意很简单，但是不容易。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-a65ea3543a6413bf7778b41e32f570d7_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"900\" data-rawheight=\"500\" data-original-token=\"v2-2e28e86b3cda17c87783cafcfdcf552a\" class=\"origin_image zh-lightbox-thumb\" width=\"900\" data-original=\"https://picx.zhimg.com/v2-a65ea3543a6413bf7778b41e32f570d7_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"RRohDXNx\"\u003e我不喜欢很容易的生意，生意很容易，会招来竞争对手。我喜欢有护城河的生意。\u003cb\u003e我希望拥有一座价值连城的城堡，守护城堡的公爵德才兼备。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"wBZZRe8P\"\u003e有的生意，我看不出来十年后会怎样，我不买。一只股票，假设从明天起纽约股票交易所关门五年，我就不愿意持有了，这样的股票，我不买。\u003c/p\u003e\u003cp data-pid=\"XimfxstW\"\u003e我买一家农场，五年里没人给我的农场报价，只要农场的生意好，我就开心。我买一个房子，五年里没人给我的房子报价，只要房子的回报率达到了我的预期，我就开心。\u003c/p\u003e\u003cp data-pid=\"Uq_tje5Y\"\u003e人们买完股票后，第二天一早就盯着股价，看股价决定自己的投资做得好不好。糊涂到家了。买股票就是买公司，这是格雷厄姆教给我的最基本的道理。\u003c/p\u003e\u003cp data-pid=\"87Ctbv12\"\u003e\u003cb\u003e买的不是股票，是公司的一部分所有权。只要公司生意好，而且你买的价格不是高得离谱，你的收益也差不了。\u003c/b\u003e投资股票就这么简单。要买你能看懂的公司，就像买农场，你肯定买自己觉得合适的。没什么复杂的。\u003c/p\u003e\u003cp data-pid=\"aMSM4t8k\"\u003e这个思想不是我发明的，都是格雷厄姆提出来的。我特别走运。19 岁的时候，我有幸读到了《聪明的投资者》。我六七岁的时候就对股票感兴趣，11 岁时第一次买股票。我一直都在自己摸索，看走势图、看成交量，做各种技术分析的计算，什么路子都试过。\u003c/p\u003e\u003cp data-pid=\"res3OFyq\"\u003e后来，我读到了《聪明的投资者》，书里说，买股票，买的不是代码，不是上蹿下跳的报价，买股票就是买公司。我转变到这种思维方式以后，一切都理顺了。道理很简单。所以说，我们买我们能看懂的公司。\u003c/p\u003e\u003cp data-pid=\"WoRCh9Yv\"\u003e在座的各位，没有看不懂可口可乐公司的，但是某些新兴的互联网公司呢，我敢说，在座的各位，没一个能看懂的。\u003c/p\u003e\u003cp data-pid=\"XbMQ2k0x\"\u003e今年在伯克希尔的股东大会上，我说要是我在商学院教课，期末考试时，我会出这样的题目，告诉学生一家互联网公司的信息，让他们给这家公司估值。哪个学生给出了估值，我就给他不及格。（笑）\u003c/p\u003e\u003cp data-pid=\"Nzca9PSi\"\u003e\u003cb\u003e无论什么时候，都要知道自己在做什么，这样才能做好投资。必须把生意看懂了，有的生意是我们能看懂的，但不是所有生意我们都能看懂。\u003c/b\u003e\u003c/p\u003e\u003ch2\u003eQ3：能否讲讲您在商业中犯的错误？\u003c/h2\u003e\u003cp data-pid=\"4IjPhlAK\"\u003e巴菲特：对于我和我的合伙人查理•芒格来说，\u003cb\u003e我们犯过的最大的错误不是做错了什么，而是该做的没做。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"WVnnscA1\"\u003e在这些错误中，我们对生意很了解，本来应该行动，但不知道怎么了，我们就在那犹豫来犹豫去，什么都没做。\u003c/p\u003e\u003cp data-pid=\"xQv6xaTr\"\u003e\u003cb\u003e有些东西我们不明白就算了，但有些东西是我们能看明白的，本来可以赚几十亿、几百亿的，却眼睁睁看着机会溜走了。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"ZOivMAe6\"\u003e我本来可以买微软赚几十亿，但这不算数，因为我一直搞不懂微软。但是医药股，我本来是可以赚到几十亿的，这些钱是我该赚到的，我却没赚到。\u003c/p\u003e\u003cp data-pid=\"DtOvx_T8\"\u003e当克林顿当局提出医疗改革方案后，所有的医药股都崩盘了。我们本来可以买入医药股大赚特赚的，因为我能看懂医药股，我却没做这笔投资。\u003c/p\u003e\u003cp data-pid=\"_O9EtaT8\"\u003e至于各位能看到的错误，几年前我买入美国航空优先股是个错误。当时我手里闲钱很多。手里一有闲钱，我就容易犯错。\u003c/p\u003e\u003cp data-pid=\"zy76SSHJ\"\u003e查理让我去酒吧喝酒去，别在办公室里待着。但我还是留在办公室，兜里有钱，就做了傻事。每次都这样。当时我买了美国航空的优先股。没人逼我，是我自己要买的。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-98dcd906e82fb36074fadcc99c363c71_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"900\" data-rawheight=\"500\" data-original-token=\"v2-58d760a5c8c2c231873424bac3919955\" class=\"origin_image zh-lightbox-thumb\" width=\"900\" data-original=\"https://picx.zhimg.com/v2-98dcd906e82fb36074fadcc99c363c71_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"4C0XcNc3\"\u003e现在我有一个 800 热线电话，每次我一想买航空股，就打这个电话。电话那边的人会安抚我。我说：“我是沃伦，又犯了想买航空公司的老毛病。”他们说：“继续讲，别停下，别挂电话，别冲动。”最后那股劲就过去了。\u003c/p\u003e\u003cp data-pid=\"h_oKEQRb\"\u003e我买了美国航空以后，差点把所有钱都亏进去，真是差一点全亏了。我活该亏钱。\u003c/p\u003e\u003cp data-pid=\"K8htKw7U\"\u003e\u003cb\u003e我买入美国航空，是因为它是一只很合适的证券，但它的生意不好。对所罗门的投资也一样。我根本不想买它的生意，只是觉得它的证券便宜。这也算是一种错误。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"--8YtQBq\"\u003e本来不太喜欢公司的生意，却因为喜欢证券的条款而买了。这样的错误我过去犯过，将来可能还会犯。最大的错误还是该做的没做。\u003c/p\u003e\u003cp data-pid=\"pgx5Odzy\"\u003e我想告诉大家，\u003cb\u003e人们总说通过错误学习，我觉得最好是尽量从别人的错误里学习。\u003c/b\u003e不过，在伯克希尔，我们的处事原则是，过去的事就让它过去。\u003c/p\u003e\u003cp data-pid=\"Av7ybds7\"\u003e我有个合伙人，查理•芒格，我们一起合作 40 年了，我们从来没红过脸。我们对很多东西看法不一样，但是我们不争不吵。\u003c/p\u003e\u003cp data-pid=\"WTvKeN-A\"\u003e我们从来不想已经过去的事。我们觉得未来有那么多值得期待的，何必对过去耿耿于怀。不纠结过去的事，纠结也没用。人生只能向前看。\u003c/p\u003e\u003cp data-pid=\"--FUra1Z\"\u003e\u003cb\u003e你们从错误里或许能学到东西，但最重要的是只投资自己能看懂的生意。\u003c/b\u003e如果你像很多人一样，跳出了自己的能力圈，听别人的消息买了自己毫不了解的股票，犯了这样的错，你需要反省，要记得只投资自己能看懂的。\u003c/p\u003e\u003cp data-pid=\"0YwENn5E\"\u003e你做投资决策的时候，就应该对着镜子，自言自语：“我要用每股 55 美元的价格买入 100 股通用汽车，理由是……”自己要买什么，得对自己负责。一定要有个理由，说不出来理由，别买。\u003c/p\u003e\u003cp data-pid=\"sDqCuIxP\"\u003e是因为别人在和你闲聊时告诉你这只股票能涨吗？这个理由不行。是因为成交量异动或者走势图发出了信号吗？这样的理由不行。你的理由，一定是你为什么要买这个生意。我们恪守这个原则，这是本•格雷厄姆教我的。\u003c/p\u003e\u003ch2\u003eQ4：和身处华尔街相比，住在偏远的小城市有什么好处？\u003c/h2\u003e\u003cp data-pid=\"OxMaDHZe\"\u003e巴菲特：我在华尔街工作过一两年，我在东西海岸都有朋友。我喜欢拜访他们。每次和他们见面，都能得到一些灵感。\u003c/p\u003e\u003cp data-pid=\"l5ppfWKb\"\u003e\u003cb\u003e思考投资的最佳方法还是独自一人待在房间里，静静地想。要是这样不行，别的办法也都没用。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"TsJWaNQK\"\u003e在任何类似市场的环境中，你都很容易受到影响，做出过激的反应，华尔街是个典型的市场环境。在华尔街，你觉得每天不做点什么都不行。\u003c/p\u003e\u003cp data-pid=\"fhinYOL8\"\u003e钱德勒家族花了 2000 美元买下了可口可乐公司，选中了可口可乐这样的公司，别的什么都不用做了，该做的事就是不做别的。1919 年都不应该卖，但是钱德勒家族后来把他们的股票卖了。\u003c/p\u003e\u003cp data-pid=\"73uMSVhJ\"\u003e\u003cb\u003e你该怎么做呢？一年找到一个好的投资机会，然后一直持有，等待它的潜力充分释放出来。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"JGo3EMp0\"\u003e在一个人们每五分钟就来回喊报价的环境里，在一个别人总把各种报告塞到你面前的环境里，很难做到持有不动。华尔街靠折腾赚钱。你靠不折腾赚钱。\u003c/p\u003e\u003cp data-pid=\"zCLGfvzT\"\u003e要是在座的各位每天都相互交易自己的投资组合，所有人最后都会破产，所有的钱最后都会进到中间商的口袋里。\u003c/p\u003e\u003cp data-pid=\"ILe8gm9i\"\u003e换个做法，你们都持有一般公司组成的投资组合，\u003cb\u003e50 年里你们都一动不动，最后你们都会很有钱，你们的券商会破产。\u003c/b\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-d4267e565c45471688e1109e63c895df_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"900\" data-rawheight=\"500\" data-original-token=\"v2-a389e62e8bf89f851f088ece54fe62fd\" class=\"origin_image zh-lightbox-thumb\" width=\"900\" data-original=\"https://picx.zhimg.com/v2-d4267e565c45471688e1109e63c895df_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"6fQaPBg6\"\u003e券商像这样一个医生，他让你换药的次数越多，他赚的越多。他要是给你一种药，把你的病根治了，他只能做成一笔买卖，一笔交易，然后就没了。如果他能让你相信每天换各种药吃对健康有益，这对他有好处，对卖药的有好处，你会亏很多钱。你的身体好不了，还会破财。\u003c/p\u003e\u003cp data-pid=\"5HocT2wQ\"\u003e\u003cb\u003e任何刺激你瞎折腾的环境，都要远离。华尔街无疑就是这样的环境。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"_6RDgaAz\"\u003e我回到奥马哈之后，每半年都去大城市一次。我每次都列一个清单，把自己要做的事写下来，比如要调研的公司等等。这些路费都没白花，该做完的事，做完了，我就回到奥马哈思考。\u003c/p\u003e\u003ch2\u003eQ5：请讲讲您对分散投资的看法？\u003c/h2\u003e\u003cp data-pid=\"VvpuBQaT\"\u003e巴菲特：这个要看情况了。\u003cb\u003e如果不是职业投资者，不追求通过管理资金实现超额收益率的目标，我觉得应该高度分散。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"9sVb54cO\"\u003e我认为 98% 到 99% 的投资者应该高度分散，但不能频繁交易，他们的投资应该和成本极低的指数型基金差不多。只要持有美国的一部分就可以了，这样投资，是相信持有美国的一部分会得到很好的回报，我对这样的做法毫无异议。对于普通投资者来说，这么投资是正路。\u003c/p\u003e\u003cp data-pid=\"Rt7XiNOv\"\u003e\u003cb\u003e如果想积极参与投资活动，研究公司并主动做投资决策，那就不一样了。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"C7UmNnPz\"\u003e既然你走上研究公司这条路，既然你决定投入时间和精力把投资做好，我觉得分散投资是大错特错的。那天我在 SunTrust 的时候，说到过这个问题。要是你真能看懂生意，你拥有的生意不应该超过六个。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic3.zhimg.com/v2-3b44b077866dd17b896a64609909979a_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"900\" data-rawheight=\"500\" data-original-token=\"v2-4fd8ebde4fc67d274fb59552c61846ed\" class=\"origin_image zh-lightbox-thumb\" width=\"900\" data-original=\"https://pic3.zhimg.com/v2-3b44b077866dd17b896a64609909979a_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"WUCPY3d9\"\u003e\u003cb\u003e要是你能找到六个好生意，就已经足够分散了，用不着再分散了，而且你能赚很多钱。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"GtsqekCU\"\u003e我敢保证，你不把钱投到你最看好的那个生意，而是再去做第七个生意，肯定会掉到沟里。靠第七个最好的主意发家的人很少，靠最好的主意发家的人很多。\u003c/p\u003e\u003cp data-pid=\"UCQvgVdZ\"\u003e所以，我说任何人，在资金量一般的情况下，要是对自己要投资的生意确实了解，六个就很多了，换了是我的话，我可能就选三个我最看好的。\u003c/p\u003e\u003cp data-pid=\"izO00GF-\"\u003e\u003cb\u003e我本人不搞分散。我认识的投资比较成功的人，都不搞分散，沃尔特•施洛斯是个例外，\u003c/b\u003e沃尔特的投资非常分散，他什么东西都买一点，我说他是挪亚，什么东西都来两个。\u003c/p\u003e\u003ch2\u003eQ6：如果能重新活一次，为了让生活更幸福，您会怎么做？\u003c/h2\u003e\u003cp data-pid=\"WwSTSOGZ\"\u003e巴菲特：希望我的回答，大家听了不会觉得不舒服。要是我重新活一次的话，我只想做一件事，选能活到 120 岁的基因。\u003c/p\u003e\u003cp data-pid=\"Vh-by4uL\"\u003e我其实是非常幸运的。我经常举一个例子，觉得可能会对各位有启发，所以花两分钟时间讲讲。\u003c/p\u003e\u003cp data-pid=\"N5Wv1k2j\"\u003e假设现在是你出生前 24 小时，一个神仙出现了，他说：“孩子，我看你前途无量，我现在手里有个难题，我得设计你出生后生活的世界，我觉得太难了，你来设计吧。\u003c/p\u003e\u003cp data-pid=\"by5DzZot\"\u003e你有 24 小时的时间，社会规则、经济规则、政府规则，这些都给你设计，你还有你的子孙后代都在这些规则的约束下生活。”\u003c/p\u003e\u003cp data-pid=\"jJxgh2Zd\"\u003e你问了：“我什么都能设计？”神仙说：“对，什么都能设计。”你说：“没什么附加条件？”\u003c/p\u003e\u003cp data-pid=\"mEPP_VVN\"\u003e神仙说：“有一个附加条件。你不知道自己出生后是黑人还是白人，是富有还是贫穷，是男人还是女人，是身体健壮还是体弱多病，是聪明过人还是头脑迟钝。你知道的就一点，你要从一个装着 58 亿个球的桶里选一个球。”\u003c/p\u003e\u003cp data-pid=\"YFfw4vz4\"\u003e我把这个叫\u003cb\u003e娘胎彩票。你要从这 58 亿个球里选一个，这是你一生之中最重大的决定，它会决定你是出生在美国还是阿富汗，智商是 130 还是 70。选出来之后，很多东西都注定了。你会设计一个怎样的世界？\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"ISJ10mVu\"\u003e我觉得用这种思维方式可以很好地看待社会问题。\u003c/p\u003e\u003cp data-pid=\"_GLp54h8\"\u003e因为你不知道自己会选到哪个球，所以在设计世界的时候，你会希望这个世界能提供大量产品和服务，你希望所有人都能过上好日子。你会希望这个世界的产品越来越丰富，将来你的子孙后代能越过越好。\u003c/p\u003e\u003cp data-pid=\"tJlOmjno\"\u003e在希望世界能提供大量产品和服务的同时，还要考虑到有的人手气太差，拿到的球不好，天生不适合这个世界的体系，你希望他们不会被这个世界抛弃。\u003c/p\u003e\u003cp data-pid=\"cuTFP5OZ\"\u003e我天生非常适合我们现在的这个世界。我一生下来就具备了分配资金的天赋。这其实没什么了不起的。\u003c/p\u003e\u003cp data-pid=\"VQNTOrge\"\u003e如果我们都被困在荒岛上，永远回不来，我们所有人里，谁最会种地，谁最有本事。我再怎么说我多擅长分配资金，你们也不会理我。\u003c/p\u003e\u003cp data-pid=\"iiyzP-Sm\"\u003e我赶上了好时候。盖茨说，要是我生在几百万年前，早成了动物的盘中餐。他说：“你跑不快，也不会爬树，什么都不行，刚生下来就得被吃了。\u003cb\u003e你生在今天是走运。\u003c/b\u003e”\u003c/p\u003e\u003cp data-pid=\"Uo2xWa6d\"\u003e\u003cb\u003e既然我运气这么好，我就要把自己的天分发挥出来，一辈子都做自己喜欢的事，交自己喜欢的人。只和自己喜欢的人共事。\u003c/b\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic4.zhimg.com/v2-80685f576ce1e65de4af2f8d0615ff07_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"900\" data-rawheight=\"500\" data-original-token=\"v2-4f70c3b5fd37aeb1b35f67bd11d7940b\" class=\"origin_image zh-lightbox-thumb\" width=\"900\" data-original=\"https://pic4.zhimg.com/v2-80685f576ce1e65de4af2f8d0615ff07_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"pqIM7T-p\"\u003e要是有个人让我倒胃口，但是和他走到一起，我能赚 1 亿美元，我会断然拒绝，要不和为了钱结婚有什么两样？\u003c/p\u003e\u003cp data-pid=\"oXJJxPO8\"\u003e\u003cb\u003e无论什么时候，都不能为了钱结婚，要是已经很有钱了，更不能这样了，你们说是不是？我不为了钱结婚。\u003c/b\u003e\u003c/p\u003e\u003cp data-pid=\"HVblNSr6\"\u003e我还是会一如既往地生活，只是不想再买美国航空了！\u003c/p\u003e\u003cp data-pid=\"h0nWn3f9\"\u003e谢谢。\u003c/p\u003e","is_labeled":false,"visited_count":290,"favorite_count":19,"article_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"article\", \"id\": 1921269148916351042}","attached_info":"CogJCOmzzf26tPPtvwEQBxoJMjU5NTUwMzA1ILWf78IGKAQwAEBmSiMKGFRTX1NPVVJDRV9XQVJNX1VQX0JPT1NUMhIBMBgAIAA6AEovCiRUU19TT1VSQ0VfV0FSTVVQX1RXT1RPV0VSX0VYUFYyX1RFWFQSATAYACAAOgBiIDZhNWYzZmQ0OWI2NzQwOGU3MzM3ZmZlOTkzODdlODE2chMxOTIxMjY5MTQ4OTE2MzUxMDQyqgEJcmVjb21tZW5kwgEgNmQ0YWYxZTQyYzcyZjFjNjU2MTU5ZDViNGM2ZGNlZDjyAQoIDBIGTm9ybWFs8gEoCAoSJGMzMzYwZWVlLTE1OGItNGYzYS04MzkwLTQxOWE5ZjMyYWM5OPIBBggLEgIxOIICAIgC3+LYzfoykgIgNmQ0YWYxZTQyYzcyZjFjNjU2MTU5ZDViNGM2ZGNlZDiaAgDKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygIWQWN0aW9uU2hvckludGVyZXN0UnVsZcoCG0ludGVyYWN0aW9uU2hvckludGVyZXN0UnVsZcoCGFBlcmlvZEludGVyZXN0V2VpZ2h0UnVsZcoCFVVzZXJMY25FeGl0V2VpZ2h0UnVsZcoCG0hpZ2hMZXZlbENyZWF0b3JXZWlnaHRSdWxlNNoCGFRTX1NPVVJDRV9XQVJNX1VQX0JPT1NUMugCA/oCC05PUk1BTF9GTE9XigMgYTgwNDQ0MDZjY2EzNGVmZTkzN2ViMjZmYzMyYTA5NjKaAw0KAnYyEAAaBW90aGVyqAOiAtgDAOoDLmNvbnRlbnRXYXJtdXBUd29Ub3dlclR2cFRleHRCb29zdEV4cFYyUmVjYWxsZXL6A+gCEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERTotCAMQoAYYwgMiI3YyLTJhNTIzZjk3YmRhMzdjZjk1MDZiNDNkMGY1NTFlNGI0Oi0IAhCEBxj0AyIjdjItOTAzZTY5ZmY0NTg5ZTcxOTNjNjljNDVhYjVjYTA1OTA6LQgDEIQHGPQDIiN2Mi0yZTI4ZTg2YjNjZGExN2M4Nzc4M2NhZmNmZGNmNTUyYTotCAIQhAcY9AMiI3YyLTU4ZDc2MGE1YzhjMmMyMzE4NzM0MjRiYWMzOTE5OTU1Oi0IAhCEBxj0AyIjdjItYTM4OWU2MmU4YmY4OWY4NTFmMDg4ZWNlNTRmZTYyZmQ6LQgCEIQHGPQDIiN2Mi00ZmQ4ZWJkZTRmYzY3ZDI3NGZiNTk1NTJjNjE4NDZlZDotCAIQhAcY9AMiI3YyLTRmNzBjM2I1ZmQzN2FlYjFiMzVmNjdiZDExZDc5NDBigAQAiAQAkgQGTm9ybWFsmgQBM6AEAKgEALAEALoEAmFpwgQDNDAwyAQA0gQP5o6o6I2Q5bey5pu05paw2AQA8AQA+QQAAABgGq27P4EFAAAAAAAAAACJBampCjb8hNI/kgUAmgUDZGZ0ogUDZGZ0sgUBMbkFAAAAAAAAAADQBQDgBQDoBQDwBRKQBgCgBmeoBgOSAi4KCTI1OTU1MDMwNRITMTkyMTI2OTE0ODkxNjM1MTA0MhgHIgpJTUFHRV9URVhU","action_card":false},{"id":"103_1750898979.217","type":"feed","offset":103,"verb":"TOPIC_ACKNOWLEDGED_ARTICLE","created_time":1750898979,"updated_time":1750898979,"target":{"id":"1920520833442506050","type":"article","url":"https://api.zhihu.com/articles/1920520833442506050","author":{"id":"e2b532b27e4c37f108547a8794870d47","url":"https://api.zhihu.com/people/e2b532b27e4c37f108547a8794870d47","user_type":"people","url_token":"wo-shi-ren-lao-mao","name":"永荣带你玩转昇腾","headline":"没有什么模型是在昇腾上跑不了的","avatar_url":"https://picx.zhimg.com/50/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":18,"is_following":false,"is_followed":false},"title":"PyTorch 语音信号预处理实战","image_url":"https://pic1.zhimg.com/v2-c2caecb9cebb9263c95981706e09a427.jpg?source=7e7ef6e2\u0026needBackground=1","comment_permission":"all","created":1750668732,"updated":1750669266,"voteup_count":0,"voting":0,"comment_count":0,"linkbox":{"category":"","pic":"","title":"","url":""},"excerpt":"PyTorch 语音信号预处理实战深度学习的模型训练隶属于监督学习过程，通常是给定训练输入及对应的标签，然后使用某种损失计算方式与反向传播算法使得算法收敛。对于图片而言，分类任务与检测任务其制作标签就是需要在对数据集物体的类别与位置进行标记；而对于语音任务来说则截然不同。 本实验以语音领域比较常见的\u0026#39;yesno\u0026#39;与\u0026#39;ashell\u0026#39;两个数据集为例，分别来介绍语音分类任务与语音识别任务的数据预处理过程。 实验目录如下： 数据…","excerpt_new":"PyTorch 语音信号预处理实战深度学习的模型训练隶属于监督学习过程，通常是给定训练输入及对应的标签，然后使用某种损失计算方式与反向传播算法使得算法收敛。对于图片而言，分类任务与检测任务其制作标签就是需要在对数据集物体的类别与位置进行标记；而对于语音任务来说则截然不同。 本实验以语音领域比较常见的\u0026#39;yesno\u0026#39;与\u0026#39;ashell\u0026#39;两个数据集为例，分别来介绍语音分类任务与语音识别任务的数据预处理过程。 实验目录如下： 数据…","preview_type":"default","preview_text":"","content":"\u003ch2\u003ePyTorch 语音信号预处理实战\u003c/h2\u003e\u003cp data-pid=\"muWtFDE-\"\u003e深度学习的模型训练隶属于监督学习过程，通常是给定训练输入及对应的标签，然后使用某种损失计算方式与反向传播算法使得算法收敛。对于图片而言，分类任务与检测任务其制作标签就是需要在对数据集物体的类别与位置进行标记；而对于语音任务来说则截然不同。\u003c/p\u003e\u003cp data-pid=\"YCiNvIIq\"\u003e本实验以语音领域比较常见的\u0026#39;yesno\u0026#39;与\u0026#39;ashell\u0026#39;两个数据集为例，分别来介绍语音分类任务与语音识别任务的数据预处理过程。\u003c/p\u003e\u003cp data-pid=\"ioTySnPY\"\u003e实验目录如下：\u003c/p\u003e\u003cul\u003e\u003cli data-pid=\"pjQRg6Ma\"\u003e数据集下载\u003c/li\u003e\u003cli data-pid=\"UjawpAIB\"\u003e  - yesno数据集下载\u003c/li\u003e\u003cli data-pid=\"l0oyzqY8\"\u003e  - ashell数据集下载\u003c/li\u003e\u003cli data-pid=\"SxYA8hg2\"\u003e语音信号分类预处理过程\u003c/li\u003e\u003cli data-pid=\"xUHrlOR9\"\u003e  - 音频信号分割处理\u003c/li\u003e\u003cli data-pid=\"DBEwPA2m\"\u003e  - 音频信号长度对齐处理\u003c/li\u003e\u003cli data-pid=\"hMIQKmE6\"\u003e语音信号识别预处理过程\u003c/li\u003e\u003cli data-pid=\"svFEhWLX\"\u003e  - 读取音频文件读取\u003c/li\u003e\u003cli data-pid=\"Choko-Br\"\u003e  - CMVN(Cepstral Mean and Variance Normalization)计算方法，针对训练数据\u003c/li\u003e\u003cli data-pid=\"P44krbD7\"\u003e  - 词典生成\u003c/li\u003e\u003cli data-pid=\"anl8NTQq\"\u003e  - 文本序列切词\u003c/li\u003e\u003cli data-pid=\"emNYZ53Q\"\u003e  - 音频信号过滤\u003c/li\u003e\u003cli data-pid=\"f5ZME9od\"\u003e  - 重采样\u003c/li\u003e\u003cli data-pid=\"0oQWtk4b\"\u003e  - 语速变换\u003c/li\u003e\u003cli data-pid=\"qMt2alee\"\u003e  - 特征信息提取\u003c/li\u003e\u003cli data-pid=\"ttvKvfQY\"\u003e  - 谱增强(spec_aug)\u003c/li\u003e\u003cli data-pid=\"gWLIzezt\"\u003e  - 数据打乱与排序(shuffle与sort)\u003c/li\u003e\u003cli data-pid=\"eLFU85e_\"\u003e  - 数据打包\u003c/li\u003e\u003cli data-pid=\"xaH1Qvwr\"\u003e  - 音频信号对齐（padding）\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e数据集下载\u003c/h3\u003e\u003ch3\u003eyesno数据集下载\u003c/h3\u003e\u003cp data-pid=\"xuLkFGL5\"\u003e由于yesno数据集被集成在torchaudio中，因此下载该模块以前需要先安装好torchaudio，可以使用\u0026#39;pip install torchaudio\u0026#39;命令安装。\u003c/p\u003e\u003cp data-pid=\"hk3Xut5H\"\u003e数据集包含60个音频文件，文件命名格式类似0_0_1_1_0_1_0_1.wav，每个音频中包含与文件名对应的八个单词（yes或no），1代表yes，0代表no。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pica.zhimg.com/v2-af4e1b81c5bcaffbed0210612a09d24c_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"643\" data-rawheight=\"1042\" data-original-token=\"v2-a50b9f592567f26bb15e25769b4c2260\" class=\"origin_image zh-lightbox-thumb\" width=\"643\" data-original=\"https://pica.zhimg.com/v2-af4e1b81c5bcaffbed0210612a09d24c_r.jpg\"/\u003e\u003c/figure\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003etorchaudio\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003etorchaudio.dataset\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eYESNO\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# YESNO数据集会被下载到data_sava_path文件夹中\u003c/span\u003e\n\u003cspan class=\"n\"\u003edata_path\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eYESNO\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eroot\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;data_sava_path\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edownload\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003eashell数据集下载\u003c/h3\u003e\u003cp data-pid=\"4vXjnNNA\"\u003e官网下载：\u003ca href=\"https://link.zhihu.com/?target=https%3A//www.openslr.org/33/\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003e\u003cspan class=\"invisible\"\u003ehttps://www.\u003c/span\u003e\u003cspan class=\"visible\"\u003eopenslr.org/33/\u003c/span\u003e\u003cspan class=\"invisible\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003ch3\u003e语音信号分类预处理过程\u003c/h3\u003e\u003cp data-pid=\"9LbgXX45\"\u003e在深度学习的音频处理领域，音频分类是一种常见的应用场景，音频分类是指将音频信号划分为不同类别的过程。例如，可以将音频信号分为人声、背景音乐、噪音等不同类别。音频分类可以应用于多种场景，例如语音识别、音乐推荐、噪音消除等。\u003c/p\u003e\u003cp data-pid=\"1qovdG54\"\u003e在深度学习领域，音频分类可以通过使用神经网络来实现。神经网络是一种模拟人脑神经元工作方式的计算模型，它可以用于解决各种复杂问题。在音频分类任务中，可以使用卷积神经网络（CNN）、递归神经网络（RNN）或者其他类型的神经网络来进行音频信号的处理和分类。对语音信号进行进行预处理可以使音频信号更符合神经网络的输入要求。\u003c/p\u003e\u003cp data-pid=\"eAB1yplV\"\u003e本节以\u0026#39;torchaudio.dataset\u0026#39;中的yesno数据集为例对语音分类的预处理过程进行介绍，主要分为信号音频分割与信号音频长度对齐两部分。\u003c/p\u003e\u003ch3\u003eyesno信号音频分割\u003c/h3\u003e\u003cp data-pid=\"Q0FqRI7M\"\u003e我们下载的音频文件中每个均包含了多个单词语义，每个单词是yes或no，因此，可以对数据预处理后拆分成单个单词使得一个音频文件对应一个单词，这样可以将音频分类问题转换为二分类问题，具体的分割流程如下：\u003c/p\u003e\u003cblockquote data-pid=\"zR7bCtqt\"\u003e 对于个别音频文件，使用上述方法分割音频时并不能刚好将音频文件分割成8份，因此文件的编号并不能简单的用序号×8来计算，而是需要记录前一个文件分割成了几份。因此使用变量pre_len来存储前一个文件的分割份数。\u003c/blockquote\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"n\"\u003epre_len\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e8\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e#获取音频的频率随时间变化的序列及音频不同部分的标签（0 / 1）\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003efi\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003efilename\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"nb\"\u003eenumerate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eos\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elistdir\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;./data_path\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)):\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003elabel\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorchaudio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eload\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;./data_path/{filename}\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e#设置阈值，本实验中阈值由均值与标准差之和得到\u003c/span\u003e\n\u003cspan class=\"n\"\u003ethreshold\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emean\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estd\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e#遍历频率序列，记录每个单词起止时的采样点。基于以下规则记录采样点：当频率高于阈值时，记此时的采样点为起始点，当多个采样点（如1000个采样点）的频率连续低于阈值时，记此时的采样点为终止点\u003c/span\u003e\n\u003cspan class=\"n\"\u003estart_times\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n\u003cspan class=\"n\"\u003eend_times\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n\u003cspan class=\"n\"\u003esegment_start\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\n\u003cspan class=\"n\"\u003ecount\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"nb\"\u003erange\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e])):\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003eabs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ethreshold\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ecount\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003esegment_start\u003c/span\u003e \u003cspan class=\"ow\"\u003eis\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esegment_start\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eelif\u003c/span\u003e \u003cspan class=\"nb\"\u003eabs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003ethreshold\u003c/span\u003e \u003cspan class=\"ow\"\u003eand\u003c/span\u003e \u003cspan class=\"n\"\u003esegment_start\u003c/span\u003e \u003cspan class=\"ow\"\u003eis\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003ecount\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e1000\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ecount\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecount\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\n            \u003cspan class=\"k\"\u003econtinue\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003estart_times\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esegment_start\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eend_times\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esegment_start\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ecount\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 根据起止采样点分割音频\u003c/span\u003e\n\u003cspan class=\"n\"\u003esegments\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"nb\"\u003erange\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estart_times\u003c/span\u003e\u003cspan class=\"p\"\u003e)):\u003c/span\u003e\n    \u003cspan class=\"n\"\u003esegment\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"n\"\u003estart_times\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e\u003cspan class=\"n\"\u003eend_times\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\n    \u003cspan class=\"n\"\u003esegments\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esegment\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003elabels\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003efilename\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;.\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;_\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"nb\"\u003erange\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elabels\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esegments\u003c/span\u003e\u003cspan class=\"p\"\u003e)):\u003c/span\u003e\n    \u003cspan class=\"n\"\u003elabels\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 存储音频，音频文件的命名格式为：音频编号_音频标签.wav\u003c/span\u003e\n\u003cspan class=\"n\"\u003efi\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003efi\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003epre_len\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esegment\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"nb\"\u003eenumerate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esegments\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"n\"\u003etorchaudio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esave\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;./data_path/waves_yesno_seg/{fi}_{labels[i]}.wav\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esegment\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eview\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esegment\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e()[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]),\u003c/span\u003e \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e8000\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003efi\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003efi\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003epre_len\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esegments\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"wZLBsVFN\"\u003e分割后一个数据就会被拆分成8份，这样就可以得到480个只含有yes或no的数据集合。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic3.zhimg.com/v2-83b7ebf8da5a694b6b4674023aa3a010_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"645\" data-rawheight=\"151\" data-original-token=\"v2-8c5c815abadfda8dd1247c1bbb4cdbb8\" class=\"origin_image zh-lightbox-thumb\" width=\"645\" data-original=\"https://pic3.zhimg.com/v2-83b7ebf8da5a694b6b4674023aa3a010_r.jpg\"/\u003e\u003c/figure\u003e\u003ch3\u003eyesno信号音频长度对齐\u003c/h3\u003e\u003cp data-pid=\"AUsJysEG\"\u003e由于输入层的大小需要人为设定并且在训练过程中不可更改，因此需要输入的数据的长度想等，由于分割后的音频长度必然存在不相等的情况，因此使用PyTorch提供的pad_sequence方法来对齐音频，对齐后可以看到每个文件大小均为最大的14k。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic4.zhimg.com/v2-ba9940584a535eccb9f7c2c9f542424f_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"670\" data-rawheight=\"177\" data-original-token=\"v2-d30bd3e652b0fcbf535ade8cc1190b06\" class=\"origin_image zh-lightbox-thumb\" width=\"670\" data-original=\"https://pic4.zhimg.com/v2-ba9940584a535eccb9f7c2c9f542424f_r.jpg\"/\u003e\u003c/figure\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"n\"\u003ewaveforms\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n\u003cspan class=\"n\"\u003elabels\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003efi\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003efilename\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"nb\"\u003eenumerate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eos\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003elistdir\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;./data_path/waves_yesno_seg/\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)):\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorchaudio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eload\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;./data_path/waves_yesno_seg/{filename}\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ewaveforms\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eview\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n    \u003cspan class=\"n\"\u003elabels\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efilename\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;.\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;_\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)[\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003ewaveforms\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epad_sequence\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewaveforms\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ebatch_first\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# 13283为对齐后的音频长度,可以根据需要动态设置，选一般是取最大的音频长度进行对齐\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"nb\"\u003eenumerate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewaveforms\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"n\"\u003etorchaudio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esave\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;./data_path/waves_yesno_pad/{i}_{labels[i]}.wav\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eview\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e13283\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"mi\"\u003e8000\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003e语音信号识别预处理过程\u003c/h3\u003e\u003cp data-pid=\"RAJT4ZLe\"\u003e我们从ashell数据集中选取了4个样本来分析整个语音识别信号的预处理过程。一个音频文件的输入部分包含两部分，一个是wav.scp格式语音内容，另一个是该语音内容对应的text文件。由于训练过程中是批量化训练一批数据，因此需要对文件做映射。  \u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic4.zhimg.com/v2-fe4877486d7744c236d97518a755926b_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"418\" data-rawheight=\"73\" data-original-token=\"v2-e54cb8279c2128843b0fa9ab4e84961c\" class=\"content_image\" width=\"418\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"_DznkZKN\"\u003e\u003cb\u003ewav.scp\u003c/b\u003e文件保存了语音编号和该语音在系统中的绝对路径，该文件的作用在于将语音编号和该语音的绝对路径对应起来，使得在声学特征提取以及数据增强阶段能够访问到该条语音，进而对语音进行处理。 \u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://picx.zhimg.com/v2-e0012e99b8eb98c3533a1ea975caf4e7_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"978\" data-rawheight=\"110\" data-original-token=\"v2-e0012e99b8eb98c3533a1ea975caf4e7\" class=\"origin_image zh-lightbox-thumb\" width=\"978\" data-original=\"https://picx.zhimg.com/v2-e0012e99b8eb98c3533a1ea975caf4e7_r.jpg\"/\u003e\u003c/figure\u003e\u003cp data-pid=\"bGYrSOZJ\"\u003e\u003cb\u003etext\u003c/b\u003e文件保存了语音编号和该语音对应的转录文本。 \u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic2.zhimg.com/v2-8dad5ebdc6a5f6b8da933bf06c17e1cf_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"619\" data-rawheight=\"105\" data-original-token=\"v2-c52526b2c28af1ff42c3f122496aea9c\" class=\"origin_image zh-lightbox-thumb\" width=\"619\" data-original=\"https://pic2.zhimg.com/v2-8dad5ebdc6a5f6b8da933bf06c17e1cf_r.jpg\"/\u003e\u003c/figure\u003e\u003ch3\u003eCMVN(Cepstral Mean and Variance Normalization)计算方法，针对训练数据\u003c/h3\u003e\u003cp data-pid=\"OeDYwJBM\"\u003e由于训练过程中是将数据按照batch的方式送入模型，因此需要自定义AudioDataset方法用来解析scp文件中的内容。其中\u0026#39;arr = line.strip().split(\u0026#34;,\u0026#34;)\u0026#39;这里是按照\u0026#39;,\u0026#39;切分的，与上述文本中\u0026#39;,\u0026#39;分隔符相对应，解析以后的内容保存在\u0026#39;self.items\u0026#39;中供\u0026#39;\u003cb\u003egetitem\u003c/b\u003e\u0026#39;方法调用，该方法重写了基类Dataset的\u0026#39;\u003cb\u003egetitem\u003c/b\u003e\u0026#39;。\u0026#39;torchaudio.set_audio_backend(\u0026#34;sox_io\u0026#34;)\u0026#39;设置音频信号加载的后端，提供音频文件 I/O 功能的实现，在Linux/macOS 上的默认设置“sox_io”，在windows下设置“soundfile” 。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003etorch\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003etorchaudio\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003etorchaudio.compliance.kaldi\u003c/span\u003e \u003cspan class=\"kn\"\u003eas\u003c/span\u003e \u003cspan class=\"nn\"\u003ekaldi\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003etorch.utils.data\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eDataset\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eDataLoader\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003etorchaudio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eset_audio_backend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;sox_io\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eAudioDataset\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eDataset\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"fm\"\u003e__init__\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edata_file\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitems\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ewith\u003c/span\u003e \u003cspan class=\"n\"\u003ecodecs\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eopen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata_file\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;r\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eencoding\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;utf-8\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003eline\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"n\"\u003earr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eline\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estrip\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;,\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitems\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003earr\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003earr\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"fm\"\u003e__len__\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitems\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"fm\"\u003e__getitem__\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitems\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eidx\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"R6edyVYo\"\u003eCMVN针对训练集合中的所有wav，假设每个wav是80个梅尔谱维度，在每个维度上做均值，方差操作，统计出所有batch的80个梅尔谱维度的均值、方差与总的帧数（mean_stat、var_stat与frame_num）。\u003c/p\u003e\u003cp data-pid=\"2yZjB71v\"\u003e通过定义了一个CollateFunc类实现，可以通过重设\u0026#39;resample_rate\u0026#39;来对数据设置新的采样频率, \u0026#39;waveform = waveform * (1 \u0026lt;\u0026lt; 15)\u0026#39;，这里对波形数据进行了放大。入参\u0026#39;feat_dim\u0026#39;为提取的特征维度，resample_rate为提取特征过程中的重采样频率，该函数主要的功能是对所有输入的训练batch数据计算提取特征的均值与方差。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eCollateFunc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eobject\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"fm\"\u003e__init__\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003efeat_dim\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eresample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efeat_dim\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003efeat_dim\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eresample_rate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresample_rate\u003c/span\u003e\n        \u003cspan class=\"k\"\u003epass\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"fm\"\u003e__call__\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ebatch\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"n\"\u003emean_stat\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ezeros\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efeat_dim\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003evar_stat\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ezeros\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efeat_dim\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003enumber\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003eitem\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003ebatch\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003evalue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estrip\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;,\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e \u003cspan class=\"ow\"\u003eor\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ewav_path\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e# 采样率会被覆盖掉，因此外部的sample_rate设置是无效的\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorchaudio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ebackend\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esox_io_backend\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003einfo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewav_path\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eresample_rate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e# len(value) == 3 means segmented wav.scp,\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e# len(value) == 1 means original wav.scp\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"n\"\u003estart_frame\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003efloat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eend_frame\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003efloat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorchaudio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ebackend\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esox_io_backend\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eload\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003efilepath\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003ewav_path\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003enum_frames\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eend_frame\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003estart_frame\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eframe_offset\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003estart_frame\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorchaudio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eload\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e15\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eresample_rate\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e \u003cspan class=\"ow\"\u003eand\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eresample_rate\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eresample_rate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eresample_rate\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorchaudio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etransforms\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResample\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eorig_freq\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003enew_freq\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eresample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n            \u003cspan class=\"n\"\u003emat\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ekaldi\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efbank\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                              \u003cspan class=\"n\"\u003enum_mel_bins\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efeat_dim\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                              \u003cspan class=\"n\"\u003edither\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                              \u003cspan class=\"n\"\u003eenergy_floor\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                              \u003cspan class=\"n\"\u003esample_frequency\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eresample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003emean_stat\u003c/span\u003e \u003cspan class=\"o\"\u003e+=\u003c/span\u003e \u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esum\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eaxis\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003evar_stat\u003c/span\u003e \u003cspan class=\"o\"\u003e+=\u003c/span\u003e \u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esum\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esquare\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emat\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003eaxis\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003enumber\u003c/span\u003e \u003cspan class=\"o\"\u003e+=\u003c/span\u003e \u003cspan class=\"n\"\u003emat\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eshape\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emean_stat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003evar_stat\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp data-pid=\"w7HaU9dd\"\u003e设置特征提取维度\u0026#39;feat_dim=80\u0026#39;、\u0026#39;resample_rate = 16000\u0026#39;并调用\u0026#39;CollateFunc\u0026#39;与\u0026#39;AudioDataset\u0026#39;在上述4个语音数据上，data_loader的方差、均值与帧数情况如下：\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic1.zhimg.com/v2-1bc5ba07eae40aef4d19eea8827ae504_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2543\" data-rawheight=\"390\" data-original-token=\"v2-1bc5ba07eae40aef4d19eea8827ae504\" class=\"origin_image zh-lightbox-thumb\" width=\"2543\" data-original=\"https://pic1.zhimg.com/v2-1bc5ba07eae40aef4d19eea8827ae504_r.jpg\"/\u003e\u003c/figure\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"n\"\u003efeat_dim\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e80\u003c/span\u003e\n \u003cspan class=\"n\"\u003eresample_rate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e16000\u003c/span\u003e  \u003cspan class=\"n\"\u003ecollate_func\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCollateFunc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efeat_dim\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eresample_rate\u003c/span\u003e   \u003cspan class=\"n\"\u003edataset\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eAudioDataset\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ein_sc\u003c/span\u003e    \u003cspan class=\"n\"\u003ebatch_size\u003c/span\u003e \n    \u003cspan class=\"n\"\u003edata_loader\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eDataLoader\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edat\u003c/span\u003e       \u003cspan class=\"n\"\u003ebatch_size\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003ebatch\u003c/span\u003e        \u003cspan class=\"n\"\u003eshuffl\u003c/span\u003e         \u003cspan class=\"n\"\u003esampl\u003c/span\u003e          \u003cspan class=\"n\"\u003enum_workers\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enum\u003c/span\u003e           \u003cspan class=\"n\"\u003ecollate_fn\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003ecol\u003c/span\u003e\n\u003cspan class=\"n\"\u003eall_number\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e \u003cspan class=\"c1\"\u003e#所有帧的数量\u003c/span\u003e\n\u003cspan class=\"n\"\u003eall_mean_stat\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ezeros\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efeat_dim\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003eall_var_stat\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ezeros\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efeat_dim\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003ewav_number\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e \u003cspan class=\"c1\"\u003e#所有wav文件的数量\u003c/span\u003e\n\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ebatch\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"nb\"\u003eenumerate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata_loader\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"n\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emean_stat\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003evar_stat\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ebatch\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eall_mean_stat\u003c/span\u003e \u003cspan class=\"o\"\u003e+=\u003c/span\u003e \u003cspan class=\"n\"\u003emean_stat\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eall_var_stat\u003c/span\u003e \u003cspan class=\"o\"\u003e+=\u003c/span\u003e \u003cspan class=\"n\"\u003evar_stat\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eall_number\u003c/span\u003e \u003cspan class=\"o\"\u003e+=\u003c/span\u003e \u003cspan class=\"n\"\u003enumber\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ewav_number\u003c/span\u003e \u003cspan class=\"o\"\u003e+=\u003c/span\u003e \u003cspan class=\"n\"\u003ebatch_size\u003c/span\u003e\n\u003cspan class=\"n\"\u003elate_func\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003e词典生成\u003c/h3\u003e\u003cp data-pid=\"06-N637J\"\u003e我们知道训练集中的语音信号对应的标签是一段的文字，实际训练过程中计算loss的时候不能以文字的形式直接对比，而是通过映射的方式将一个复杂的问题转化为一个数学问题，得到每个字符符的唯一表示数字。在训练过程中，我们会通过这个词典，将每条语音对应的转录文本转换为数字，我们将其称为token。\u003c/p\u003e\u003cp data-pid=\"OiXy7qu-\"\u003e通过脚本转换对上述四个文本内容进行转换以后，生成的symbol_table词典如下：\u003c/p\u003e\u003cp data-pid=\"j7brKCc7\"\u003e[产: 2, 亿: 3, 付: 4, 令: 5, 估: 6, 低: 7, 体: 8, 例: 9, 值: 10, 偏: 11, 元: 12, 公: 13, 出: 14, 分: 15, 前: 16, 区: 17, 去: 18, 喜: 19, 国: 20, 地: 21, 场: 22, 外: 23, 州: 24, 已: 25, 市: 26, 广: 27, 总: 28, 息: 29, 我: 30, 房: 31, 报: 32, 据: 33, 日: 34, 昨: 35, 望: 36, 款: 37, 比: 38, 消: 39, 的: 40, 目: 41, 积: 42, 紧: 43, 者: 44, 购: 45, 贷: 46, 过: 47, 道: 48, 部: 49, 金: 50, 降: 51, 首: 52]\u003c/p\u003e\u003cp data-pid=\"u-O45Fwf\"\u003e词典生成的核心作用是制作标签，将训练集中所有不重复的词生成唯一的数字表示。\u003c/p\u003e\u003cblockquote data-pid=\"YWeCDx1D\"\u003e 注意：参考wenet网络中text2token.py文件，链接：\u003ca href=\"https://link.zhihu.com/?target=https%3A//github.com/wenet-e2e/wenet/blob/main/tools/text2token.py\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003e\u003cspan class=\"invisible\"\u003ehttps://\u003c/span\u003e\u003cspan class=\"visible\"\u003egithub.com/wenet-e2e/we\u003c/span\u003e\u003cspan class=\"invisible\"\u003enet/blob/main/tools/text2token.py\u003c/span\u003e\u003cspan class=\"ellipsis\"\u003e\u003c/span\u003e\u003c/a\u003e,  执行python text2token.py -s 1 -n 1 data/train/text | cut -f 2- -d\u0026#34; \u0026#34; \\ | tr \u0026#34; \u0026#34; \u0026#34;\\n\u0026#34; | sort | uniq | grep -a -v -e \u0026#39;^\\s*$\u0026#39; | awk \u0026#39;{print $0 \u0026#34; \u0026#34; NR+1}\u0026#39; \u0026gt;\u0026gt; a.txt\u003c/blockquote\u003e\u003ch3\u003e读取音频文件读取\u003c/h3\u003e\u003cp data-pid=\"48eR7zo8\"\u003e对于aishell-1数据集，使用raw格式即可(raw主要是针对于小规模数据集)。\u0026#39;parse_raw\u0026#39;中data格式要求如下：\u003c/p\u003e\u003cp data-pid=\"V20Gs2e5\"\u003e{\u0026#34;key\u0026#34;: \u0026#34;BAC009S0002W0122\u0026#34;, \u0026#34;wav\u0026#34;: \u0026#34;/data1/data/aishell_1/data_aishell/wav/train/S0002/BAC009S0002W0122.wav\u0026#34;, \u0026#34;txt\u0026#34;: \u0026#34;而对楼市成交抑制作用最大的限购\u0026#34;}\u003c/p\u003e\u003cp data-pid=\"shZbDhLi\"\u003e其中包含音频id、音频路径和其对应的转录文本，对应代码中key、wav与txt。\u003c/p\u003e\u003cp data-pid=\"lmVK890N\"\u003e函数通过\u0026#39;start\u0026#39;与\u0026#39;end\u0026#39;来设置开始采样与结束的采样帧用来设置截取整段音频中的某个片段。采集后的结果存在\u0026#39;example\u0026#39;中。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eparse_raw\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34; Parse key/wav/txt from json line\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Args:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            data: Iterable[str], str is a json line has key/wav/txt\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Returns:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            Iterable[{key, wav, txt, sample_rate}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e    \u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;src\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ejson_line\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;src\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eobj\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ejson\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eloads\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ejson_line\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;key\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eobj\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;wav\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eobj\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;txt\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eobj\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ekey\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eobj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;key\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewav_file\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eobj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;wav\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003etxt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eobj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;txt\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"k\"\u003etry\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;start\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eobj\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;end\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eobj\u003c/span\u003e\n                \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorchaudio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ebackend\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esox_io_backend\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003einfo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ewav_file\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\n                \u003cspan class=\"n\"\u003estart_frame\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eobj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;start\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eend_frame\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eobj\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;end\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003e_\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorchaudio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ebackend\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esox_io_backend\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eload\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003efilepath\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003ewav_file\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003enum_frames\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eend_frame\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003estart_frame\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003eframe_offset\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003estart_frame\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorchaudio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eload\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewav_file\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eexample\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003edict\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ekey\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                           \u003cspan class=\"n\"\u003etxt\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003etxt\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                           \u003cspan class=\"n\"\u003ewav\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                           \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"n\"\u003eexample\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eexcept\u003c/span\u003e \u003cspan class=\"ne\"\u003eException\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003eex\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elogging\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewarning\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;Failed to read {}\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eformat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewav_file\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003e文本序列切词\u003c/h3\u003e\u003cp data-pid=\"Odh1t2Rt\"\u003e对data中标签文字进行切词并根据词表映射表symbol_table来计算label向量，转化为模型能够识别到标签，例如，\u0026#34;而对楼市成交抑制作用最大的限购\u0026#34;每个词都会被当成一个token，每个token会通过symbol_table转化为对应的数值并存储到label中。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003etokenize\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n             \u003cspan class=\"n\"\u003esymbol_table\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n             \u003cspan class=\"n\"\u003ebpe_model\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n             \u003cspan class=\"n\"\u003enon_lang_syms\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n             \u003cspan class=\"n\"\u003esplit_with_space\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003eFalse\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34; Decode text to chars or BPE\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Inplace operation\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Args:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            data: Iterable[{key, wav, txt, sample_rate}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Returns:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            Iterable[{key, wav, txt, tokens, label, sample_rate}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e    \u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003enon_lang_syms\u003c/span\u003e \u003cspan class=\"ow\"\u003eis\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003enon_lang_syms_pattern\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ere\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecompile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"sa\"\u003er\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;(\\[[^\\[\\]]+\\]|\u0026lt;[^\u0026lt;\u0026gt;]+\u0026gt;|{[^{}]+})\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003enon_lang_syms\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n        \u003cspan class=\"n\"\u003enon_lang_syms_pattern\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003ebpe_model\u003c/span\u003e \u003cspan class=\"ow\"\u003eis\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003esentencepiece\u003c/span\u003e \u003cspan class=\"kn\"\u003eas\u003c/span\u003e \u003cspan class=\"nn\"\u003espm\u003c/span\u003e\n        \u003cspan class=\"n\"\u003esp\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003espm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSentencePieceProcessor\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"n\"\u003esp\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eload\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebpe_model\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003esp\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;txt\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"n\"\u003etxt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;txt\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estrip\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003enon_lang_syms_pattern\u003c/span\u003e \u003cspan class=\"ow\"\u003eis\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eparts\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enon_lang_syms_pattern\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etxt\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eupper\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eparts\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ew\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ew\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eparts\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ew\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estrip\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eparts\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etxt\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003elabel\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003etokens\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003epart\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eparts\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003epart\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003enon_lang_syms\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"n\"\u003etokens\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epart\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003ebpe_model\u003c/span\u003e \u003cspan class=\"ow\"\u003eis\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003etokens\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eextend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e__tokenize_by_bpe_model\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esp\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003epart\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003esplit_with_space\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003epart\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epart\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34; \u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ech\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003epart\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003ech\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39; \u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                            \u003cspan class=\"n\"\u003ech\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;▁\u0026#34;\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003etokens\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ech\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ech\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003etokens\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003ech\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esymbol_table\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elabel\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esymbol_table\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ech\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelif\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;\u0026lt;unk\u0026gt;\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esymbol_table\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"n\"\u003elabel\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esymbol_table\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\u0026lt;unk\u0026gt;\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;tokens\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etokens\u003c/span\u003e\n        \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;label\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elabel\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003e音频信号过滤\u003c/h3\u003e\u003cp data-pid=\"UUGfHO9-\"\u003e每个语音片段会被采集成若干帧，这里会设置frame的最大最小值、token数量最大最小值，及token数/frame数比值的最大与最小区间来过滤掉一些噪音或者杂质语音信号。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003efilter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n           \u003cspan class=\"n\"\u003emax_length\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e10240\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n           \u003cspan class=\"n\"\u003emin_length\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n           \u003cspan class=\"n\"\u003etoken_max_length\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n           \u003cspan class=\"n\"\u003etoken_min_length\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n           \u003cspan class=\"n\"\u003emin_output_input_ratio\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.0005\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n           \u003cspan class=\"n\"\u003emax_output_input_ratio\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34; Filter sample according to feature and label length\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Inplace operation.\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Args::\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            data: Iterable[{key, wav, label, sample_rate}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            max_length: drop utterance which is greater than max_length(10ms)\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            min_length: drop utterance which is less than min_length(10ms)\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            token_max_length: drop utterance which is greater than\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e                token_max_length, especially when use char unit for\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e                english modeling\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            token_min_length: drop utterance which is\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e                less than token_max_length\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            min_output_input_ratio: minimal ration of\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e                token_length / feats_length(10ms)\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            max_output_input_ratio: maximum ration of\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e                token_length / feats_length(10ms)\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Returns:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            Iterable[{key, wav, label, sample_rate}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e    \u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;sample_rate\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;wav\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;label\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e# sample[\u0026#39;wav\u0026#39;] is torch.Tensor, we have 100 frames every second\u003c/span\u003e\n        \u003cspan class=\"n\"\u003enum_frames\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;wav\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;sample_rate\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003enum_frames\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003emin_length\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003econtinue\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003enum_frames\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003emax_length\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003econtinue\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;label\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003etoken_min_length\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003econtinue\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;label\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003etoken_max_length\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003econtinue\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003enum_frames\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;label\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003enum_frames\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003emin_output_input_ratio\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"k\"\u003econtinue\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;label\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u003c/span\u003e \u003cspan class=\"n\"\u003enum_frames\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003emax_output_input_ratio\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"k\"\u003econtinue\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003e重采样\u003c/h3\u003e\u003cp data-pid=\"_u5c2J-t\"\u003e一般来说语音信号采集会有一个默认的采集频率，这里可以通过resample来设置语音采样频率从而对语音信号进行重新采样。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eresample\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eresample_rate\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e16000\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34; Resample data.\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Inplace operation.\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Args:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            data: Iterable[{key, wav, label, sample_rate}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            resample_rate: target resample rate\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Returns:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            Iterable[{key, wav, label, sample_rate}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e    \u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;sample_rate\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;wav\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;sample_rate\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;wav\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"n\"\u003eresample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;sample_rate\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eresample_rate\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;wav\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorchaudio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etransforms\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eResample\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eorig_freq\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003enew_freq\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eresample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003e语速变换\u003c/h3\u003e\u003cp data-pid=\"uBH76PYc\"\u003e假如话语比较流畅，中间没有经常的或较长的无声停顿， 那么音速快语速就快，音速慢语速也就慢。 相反，如果 中间有许多无声停顿，或者无声停顿较长，那么，即使 音速较快，总体语速也可能是较慢的。因此，可以通过\u0026#39;speed_perturb\u0026#39;来设置语音的语速进行设置，类似于加速或者减缓语音的速度，这里支持三种倍率\u0026#39;0.9\u0026#39;, \u0026#39;1.0\u0026#39;与\u0026#39;1.1\u0026#39;。其中\u0026#39;0.9\u0026#39;：0.9倍语速。\u0026#39;1.0\u0026#39;:语速不变，\u0026#39;1.1\u0026#39;: 1.1倍语速。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003espeed_perturb\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003espeeds\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34; Apply speed perturb to the data.\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Inplace operation.\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Args:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            data: Iterable[{key, wav, label, sample_rate}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            speeds(List[float]): optional speed\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Returns:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            Iterable[{key, wav, label, sample_rate}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e    \u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003espeeds\u003c/span\u003e \u003cspan class=\"ow\"\u003eis\u003c/span\u003e \u003cspan class=\"bp\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003espeeds\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.9\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;sample_rate\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;wav\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;sample_rate\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;wav\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003espeed\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003erandom\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003echoice\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003espeeds\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003espeed\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"mf\"\u003e1.0\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ewav\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003e_\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorchaudio\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esox_effects\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eapply_effects_tensor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e[[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;speed\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003espeed\u003c/span\u003e\u003cspan class=\"p\"\u003e)],\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;rate\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e)]])\u003c/span\u003e\n            \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;wav\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ewav\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003e特征信息提取\u003c/h3\u003e\u003cp data-pid=\"ikSWzvtG\"\u003e语音信号送入神经网络进行训练也需要进行特征提取，这里提供了两种比较常见的特征提取方法用于提取 fbank或mfcc特征。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ecompute_fbank\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                  \u003cspan class=\"n\"\u003enum_mel_bins\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e23\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                  \u003cspan class=\"n\"\u003eframe_length\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e25\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                  \u003cspan class=\"n\"\u003eframe_shift\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                  \u003cspan class=\"n\"\u003edither\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34; Extract fbank\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Args:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            data: Iterable[{key, wav, label, sample_rate}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Returns:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            Iterable[{key, feat, label}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e    \u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;sample_rate\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;wav\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;key\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;label\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;sample_rate\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;wav\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e15\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e# Only keep key, feat, label\u003c/span\u003e\n        \u003cspan class=\"n\"\u003emat\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ekaldi\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efbank\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                          \u003cspan class=\"n\"\u003enum_mel_bins\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003enum_mel_bins\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                          \u003cspan class=\"n\"\u003eframe_length\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eframe_length\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                          \u003cspan class=\"n\"\u003eframe_shift\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eframe_shift\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                          \u003cspan class=\"n\"\u003edither\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003edither\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                          \u003cspan class=\"n\"\u003eenergy_floor\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                          \u003cspan class=\"n\"\u003esample_frequency\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"nb\"\u003edict\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ekey\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;key\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003elabel\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;label\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003efeat\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003emat\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ecompute_mfcc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                 \u003cspan class=\"n\"\u003enum_mel_bins\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e23\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                 \u003cspan class=\"n\"\u003eframe_length\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e25\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                 \u003cspan class=\"n\"\u003eframe_shift\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                 \u003cspan class=\"n\"\u003edither\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                 \u003cspan class=\"n\"\u003enum_ceps\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                 \u003cspan class=\"n\"\u003ehigh_freq\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mf\"\u003e0.0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                 \u003cspan class=\"n\"\u003elow_freq\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mf\"\u003e20.0\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34; Extract mfcc\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Args:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            data: Iterable[{key, wav, label, sample_rate}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Returns:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            Iterable[{key, feat, label}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e    \u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;sample_rate\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;wav\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;key\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;label\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;sample_rate\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;wav\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e15\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e# Only keep key, feat, label\u003c/span\u003e\n        \u003cspan class=\"n\"\u003emat\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ekaldi\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emfcc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewaveform\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                         \u003cspan class=\"n\"\u003enum_mel_bins\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003enum_mel_bins\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                         \u003cspan class=\"n\"\u003eframe_length\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eframe_length\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                         \u003cspan class=\"n\"\u003eframe_shift\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eframe_shift\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                         \u003cspan class=\"n\"\u003edither\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003edither\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                         \u003cspan class=\"n\"\u003enum_ceps\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003enum_ceps\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                         \u003cspan class=\"n\"\u003ehigh_freq\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003ehigh_freq\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                         \u003cspan class=\"n\"\u003elow_freq\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003elow_freq\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                         \u003cspan class=\"n\"\u003esample_frequency\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003esample_rate\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"nb\"\u003edict\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ekey\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;key\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003elabel\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;label\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003efeat\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003emat\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003e谱增强(spec_aug)\u003c/h3\u003e\u003cp data-pid=\"XyJdhUxC\"\u003e该方法是数据增强的一种方式，主要是在时域与频域上分别随机的删除几个小的连续范围，让模型预测整个序列，类似于充当一个在线噪音的功能。这里可以采用\u0026#39;torchlibrosa.augmentation\u0026#39;中的\u0026#39;SpecAugmentation\u0026#39;进行替换。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003espec_aug\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003enum_t_mask\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003enum_f_mask\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emax_t\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e50\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emax_f\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emax_w\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e80\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34; Do spec augmentation\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Inplace operation\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Args:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            data: Iterable[{key, feat, label}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            num_t_mask: number of time mask to apply\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            num_f_mask: number of freq mask to apply\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            max_t: max width of time mask\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            max_f: max width of freq mask\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            max_w: max width of time warp\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Returns\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            Iterable[{key, feat, label}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e    \u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;feat\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;feat\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"nb\"\u003eisinstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTensor\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ey\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eclone\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edetach\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"n\"\u003emax_frames\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003emax_freq\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e# time mask\u003c/span\u003e\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"nb\"\u003erange\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003enum_t_mask\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n            \u003cspan class=\"n\"\u003estart\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003erandom\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erandint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emax_frames\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elength\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003erandom\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erandint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emax_t\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eend\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003emin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emax_frames\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003estart\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elength\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003estart\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003eend\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e:]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e# freq mask\u003c/span\u003e\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"nb\"\u003erange\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003enum_f_mask\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n            \u003cspan class=\"n\"\u003estart\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003erandom\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erandint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emax_freq\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elength\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003erandom\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003erandint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emax_f\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eend\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003emin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emax_freq\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003estart\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003elength\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e[:,\u003c/span\u003e \u003cspan class=\"n\"\u003estart\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003eend\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n        \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;feat\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ey\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003e数据打乱与排序(shuffle与sort)\u003c/h3\u003e\u003cp data-pid=\"g_ATySbT\"\u003eshuffle函数作用是将buf中凑够1500个样本以后，重新洗牌得到新的随机序列信息。sort函数椒等到buf中凑够500个样本以后，按照fram数量排序。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eshuffle\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eshuffle_size\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e10000\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34; Local shuffle the data\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Args:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            data: Iterable[{key, feat, label}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            shuffle_size: buffer size for shuffle\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Returns:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            Iterable[{key, feat, label}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e    \u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan class=\"n\"\u003eshuffle_size\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003erandom\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eshuffle\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e# The sample left over\u003c/span\u003e\n    \u003cspan class=\"n\"\u003erandom\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eshuffle\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\n\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003esort\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esort_size\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e500\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34; Sort the data by feature length.\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Sort is used after shuffle and before batch, so we can group\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        utts with similar lengths into a batch, and `sort_size` should\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        be less than `shuffle_size`\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Args:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            data: Iterable[{key, feat, label}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            sort_size: buffer size for sort\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Returns:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            Iterable[{key, feat, label}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e    \u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan class=\"n\"\u003esort_size\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esort\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ekey\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003elambda\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;feat\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n            \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e# The sample left over\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esort\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ekey\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003elambda\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;feat\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003e数据打包\u003c/h3\u003e\u003cp data-pid=\"3liChajQ\"\u003e该模块主要是提供给训练过程使用，将输入数据按照指定大小输入到模型中，这里提供了\u0026#39;static_batch\u0026#39;与\u0026#39;dynamic_batch\u0026#39;两种数据打包方式。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003estatic_batch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ebatch_size\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e16\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34; Static batch the data by `batch_size`\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Args:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            data: Iterable[{key, feat, label}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            batch_size: batch size\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Returns:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            Iterable[List[{key, feat, label}]]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e    \u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;=\u003c/span\u003e \u003cspan class=\"n\"\u003ebatch_size\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\n\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003edynamic_batch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emax_frames_in_batch\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e12000\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34; Dynamic batch the data until the total frames in batch\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        reach `max_frames_in_batch`\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Args:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            data: Iterable[{key, feat, label}]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            max_frames_in_batch: max_frames in one batch\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Returns:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            Iterable[List[{key, feat, label}]]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e    \u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n    \u003cspan class=\"n\"\u003elongest_frames\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;feat\u0026#39;\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"nb\"\u003eisinstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;feat\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eTensor\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003enew_sample_frames\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;feat\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003elongest_frames\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003emax\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elongest_frames\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003enew_sample_frames\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eframes_after_padding\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003elongest_frames\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003eframes_after_padding\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003emax_frames_in_batch\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n            \u003cspan class=\"n\"\u003elongest_frames\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enew_sample_frames\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eappend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"n\"\u003ebuf\u003c/span\u003e\n\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ebatch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ebatch_type\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;static\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ebatch_size\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e16\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emax_frames_in_batch\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e12000\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34; Wrapper for static/dynamic batch\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e    \u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003ebatch_type\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;static\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003estatic_batch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ebatch_size\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelif\u003c/span\u003e \u003cspan class=\"n\"\u003ebatch_type\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;dynamic\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003edynamic_batch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003emax_frames_in_batch\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003elogging\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efatal\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;Unsupported batch type {}\u0026#39;\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eformat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ebatch_type\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3\u003e音频信号对齐（padding）\u003c/h3\u003e\u003cp data-pid=\"nAjEW4bH\"\u003e由于输入语音信号语速、大小均参差不齐，因此需要对输入进行以便送入至模型的size维度一致，padding作用就是对一个batch中的feat和labels的长度进行pad对齐。\u003c/p\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003epadding\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u0026#34; Padding the data into training data\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Args:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            data: Iterable[List[{key, feat, label}]]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e        Returns:\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e            Iterable[Tuple(keys, feats, labels, feats lengths, label lengths)]\n\u003c/span\u003e\u003cspan class=\"s2\"\u003e    \u0026#34;\u0026#34;\u0026#34;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eassert\u003c/span\u003e \u003cspan class=\"nb\"\u003eisinstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003elist\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003efeats_length\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etensor\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;feat\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n                                    \u003cspan class=\"n\"\u003edtype\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eint32\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eorder\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eargsort\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efeats_length\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edescending\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003efeats_lengths\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etensor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;feat\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eorder\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003edtype\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eint32\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003esorted_feats\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;feat\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eorder\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003esorted_keys\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;key\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eorder\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003esorted_labels\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n            \u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etensor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esample\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;label\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"n\"\u003edtype\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eint64\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ei\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eorder\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"n\"\u003elabel_lengths\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etensor\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003esorted_labels\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n                                     \u003cspan class=\"n\"\u003edtype\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003etorch\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eint32\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003epadded_feats\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epad_sequence\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esorted_feats\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                                    \u003cspan class=\"n\"\u003ebatch_first\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                                    \u003cspan class=\"n\"\u003epadding_value\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003epadding_labels\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epad_sequence\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esorted_labels\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                                      \u003cspan class=\"n\"\u003ebatch_first\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                                      \u003cspan class=\"n\"\u003epadding_value\u003c/span\u003e\u003cspan class=\"o\"\u003e=-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esorted_keys\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003epadded_feats\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003epadding_labels\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003efeats_lengths\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n               \u003cspan class=\"n\"\u003elabel_lengths\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003c/p\u003e","is_labeled":false,"visited_count":30,"thumbnails":["https://pic1.zhimg.com/v2-c2caecb9cebb9263c95981706e09a427.jpg?source=7e7ef6e2\u0026needBackground=1","https://pic1.zhimg.com/50/v2-dda32d6383c419fbde7c94bb67cfa25d_720w.jpg?source=b6762063"],"favorite_count":8,"article_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"article\", \"id\": 1920520833442506050}","attached_info":"CqUJCOmzzf26tPPtvwEQBxoJMjU5NDQ5MjkxILyr5MIGKAAwAEBnSiMKGFRTX1NPVVJDRV9XQVJNX1VQX0JPT1NUMhIBMBgAIAA6AEovCiRUU19TT1VSQ0VfV0FSTVVQX1RXT1RPV0VSX0VYUFYyX1RFWFQSATAYACAAOgBiIDZhNWYzZmQ0OWI2NzQwOGU3MzM3ZmZlOTkzODdlODE2chMxOTIwNTIwODMzNDQyNTA2MDUwggFfaHR0cHM6Ly9waWMxLnpoaW1nLmNvbS92Mi1jMmNhZWNiOWNlYmI5MjYzYzk1OTgxNzA2ZTA5YTQyNy5qcGc/c291cmNlPTdlN2VmNmUyJm5lZWRCYWNrZ3JvdW5kPTGqAQlyZWNvbW1lbmTCASBlMmI1MzJiMjdlNGMzN2YxMDg1NDdhODc5NDg3MGQ0N/IBCggMEgZOb3JtYWzyASgIChIkY2NjZWZjNTItZjhlZS00ZDYzLThjMzItNDhjZmYwMWNjZGY58gEGCAsSAjE4ggIAiALf4tjN+jKSAiBlMmI1MzJiMjdlNGMzN2YxMDg1NDdhODc5NDg3MGQ0N5oCAMoCFlNob3JJbnRlcmVzdFdlaWdodFJ1bGXKAhVVc2VyTGNuRXhpdFdlaWdodFJ1bGXaAhhUU19TT1VSQ0VfV0FSTV9VUF9CT09TVDLoAgL6AgtOT1JNQUxfRkxPV4oDIGE4MDQ0NDA2Y2NhMzRlZmU5MzdlYjI2ZmMzMmEwOTYymgMNCgJ2MhAAGgVvdGhlcqgDHtgDAOoDLmNvbnRlbnRXYXJtdXBUd29Ub3dlclR2cFRleHRCb29zdEV4cFYyUmVjYWxsZXL6A5QDEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERTotCAIQgwUYkggiI3YyLWE1MGI5ZjU5MjU2N2YyNmJiMTVlMjU3NjliNGMyMjYwOi0IAhCFBRiXASIjdjItOGM1YzgxNWFiYWRmZGE4ZGQxMjQ3YzFiYmI0Y2RiYjg6LQgCEJ4FGLEBIiN2Mi1kMzBiZDNlNjUyYjBmY2JmNTM1YWRlOGNjMTE5MGIwNjosCAIQogMYSSIjdjItZTU0Y2I4Mjc5YzIxMjg4NDNiMGZhOWFiNGU4NDk2MWM6LAgCENIHGG4iI3YyLWUwMDEyZTk5YjhlYjk4YzM1MzNhMWVhOTc1Y2FmNGU3OiwIARDrBBhpIiN2Mi1jNTI1MjZiMmMyOGFmMWZmNDJjM2YxMjI0OTZhZWE5YzotCAIQ7xMYhgMiI3YyLTFiYzViYTA3ZWFlNDBhZWY0ZDE5ZWVhODgyN2FlNTA0Oi0IAhDDCBjBAyIjdjItYzJjYWVjYjljZWJiOTI2M2M5NTk4MTcwNmUwOWE0MjeABACIBACSBAZOb3JtYWyaBAEyoAQAqAQAsAQAugQCYWnCBAM0MDDIBADSBA/mjqjojZDlt7Lmm7TmlrDYBADwBAD5BAAAAADNX38/gQUAAAAAAAAAAIkFqakKNvyE0j+SBQCaBQNkZnSiBQNkZnSyBQExuQUAAAAAAAAAANAFAOAFAOgFAPAFEpAGAKAGaKgGAJICLgoJMjU5NDQ5MjkxEhMxOTIwNTIwODMzNDQyNTA2MDUwGAciCklNQUdFX1RFWFQ=","action_card":false},{"id":"104_1750898979.502","type":"feed","offset":104,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1750898979,"updated_time":1750898979,"target":{"id":"71144444011","type":"answer","url":"https://api.zhihu.com/answers/71144444011","author":{"id":"3ab8104fc7fd2ab90d05c8d08dc38706","url":"https://api.zhihu.com/people/3ab8104fc7fd2ab90d05c8d08dc38706","user_type":"people","url_token":"fu-yang-xi-ren-fei","name":"俯仰昔人非","headline":"学会独处，是终极浪漫。","avatar_url":"https://pic1.zhimg.com/50/v2-17b3e34bdc485a514d090ceda3e6dd39_l.jpg?source=b6762063","is_org":false,"gender":0,"followers_count":2666,"is_following":false,"is_followed":false},"created_time":1735951351,"updated_time":1735951445,"voteup_count":2951,"thanks_count":142,"comment_count":190,"is_copyable":true,"question":{"id":"534864097","type":"question","url":"https://api.zhihu.com/questions/534864097","author":{"id":"a0e41413e0a81a814e26aa4c4129c3c5","url":"https://api.zhihu.com/people/a0e41413e0a81a814e26aa4c4129c3c5","user_type":"people","url_token":"a654341","name":"路茫茫奈何","headline":"路漫漫其修远兮","avatar_url":"https://picx.zhimg.com/50/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":1,"is_following":false,"is_followed":false},"title":"怎么评价郭德纲的书房？","created":1653655593,"answer_count":0,"follower_count":0,"comment_count":34,"bound_topic_ids":[6134,6354,325165],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"excerpt":"真正爱读书人人的书房。 毛主席的书房和卧室。","excerpt_new":"真正爱读书人人的书房。 毛主席的书房和卧室。","preview_type":"default","preview_text":"","reshipment_settings":"allowed","content":"\u003cp data-pid=\"xfQ0qCF1\"\u003e真正爱读书人人的书房。\u003c/p\u003e\u003cp data-pid=\"7aJfhHmb\"\u003e毛主席的书房和卧室。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic3.zhimg.com/v2-9c4e7fc557fa8c051e3158929d0da936_1440w.gif\" data-rawwidth=\"1280\" data-rawheight=\"576\" data-size=\"normal\" data-original-token=\"v2-9c4e7fc557fa8c051e3158929d0da936\" data-thumbnail=\"https://pic3.zhimg.com/v2-9c4e7fc557fa8c051e3158929d0da936_b.jpg\" data-default-watermark-src=\"https://pic3.zhimg.com/v2-9c4e7fc557fa8c051e3158929d0da936_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1280\" data-original=\"https://pic3.zhimg.com/v2-9c4e7fc557fa8c051e3158929d0da936_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pica.zhimg.com/v2-92b8c7c606be8f234840c4ab823d4db8_1440w.gif\" data-rawwidth=\"888\" data-rawheight=\"400\" data-size=\"normal\" data-original-token=\"v2-92b8c7c606be8f234840c4ab823d4db8\" data-thumbnail=\"https://pica.zhimg.com/v2-92b8c7c606be8f234840c4ab823d4db8_b.jpg\" data-default-watermark-src=\"https://pica.zhimg.com/v2-92b8c7c606be8f234840c4ab823d4db8_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"888\" data-original=\"https://pica.zhimg.com/v2-92b8c7c606be8f234840c4ab823d4db8_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic2.zhimg.com/v2-24c5a9999da7003a2fdba50030035cd7_1440w.gif\" data-rawwidth=\"888\" data-rawheight=\"400\" data-size=\"normal\" data-original-token=\"v2-24c5a9999da7003a2fdba50030035cd7\" data-thumbnail=\"https://pic2.zhimg.com/v2-24c5a9999da7003a2fdba50030035cd7_b.jpg\" data-default-watermark-src=\"https://pic2.zhimg.com/v2-24c5a9999da7003a2fdba50030035cd7_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"888\" data-original=\"https://pic2.zhimg.com/v2-24c5a9999da7003a2fdba50030035cd7_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic3.zhimg.com/v2-ea83990b641d6b8d31f4f5ae7a1e08c4_1440w.gif\" data-rawwidth=\"888\" data-rawheight=\"400\" data-size=\"normal\" data-original-token=\"v2-ea83990b641d6b8d31f4f5ae7a1e08c4\" data-thumbnail=\"https://pic3.zhimg.com/v2-ea83990b641d6b8d31f4f5ae7a1e08c4_b.jpg\" data-default-watermark-src=\"https://pic3.zhimg.com/v2-ea83990b641d6b8d31f4f5ae7a1e08c4_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"888\" data-original=\"https://pic3.zhimg.com/v2-ea83990b641d6b8d31f4f5ae7a1e08c4_r.jpg\"/\u003e\u003c/figure\u003e\u003cp class=\"ztext-empty-paragraph\"\u003e\u003cbr/\u003e\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic4.zhimg.com/v2-ab6daa2edd37d884e45bf60673362817_1440w.gif\" data-rawwidth=\"888\" data-rawheight=\"400\" data-size=\"normal\" data-original-token=\"v2-ab6daa2edd37d884e45bf60673362817\" data-thumbnail=\"https://pic4.zhimg.com/v2-ab6daa2edd37d884e45bf60673362817_b.jpg\" data-default-watermark-src=\"https://pic4.zhimg.com/v2-ab6daa2edd37d884e45bf60673362817_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"888\" data-original=\"https://pic4.zhimg.com/v2-ab6daa2edd37d884e45bf60673362817_r.jpg\"/\u003e\u003c/figure\u003e\u003cp\u003e\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":578439,"favorite_count":354,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 71144444011}","attached_info":"CuYHCOmzzf26tPPtvwEQBBoJNzA3MzQ0ODE3IPeH4rsGKIcXML4BQGhKKAoTVFNfU09VUkNFX0ZFRURSRV9WORIBMBgAIAA6CnsicmF3IjoiIn1KPwoqVFNfU09VUkNFX1pSRUNBTExfRkVFRFJFX05FV0JJRV9IT1VSTFlfUlVNEgEwGAAgADoKeyJyYXciOiIifVoIODExNDA3NjZiIDZhNWYzZmQ0OWI2NzQwOGU3MzM3ZmZlOTkzODdlODE2cgs3MTE0NDQ0NDAxMYoBCTUzNDg2NDA5N6oBCXJlY29tbWVuZMIBIDNhYjgxMDRmYzdmZDJhYjkwZDA1YzhkMDhkYzM4NzA28gEKCAwSBk5vcm1hbPIBKAgKEiRmMzUwODkzZi0zNDM3LTRjNTItYjc5Zi1lM2VhMTgwYjBmM2byAQYICxICMTiCAgCIAt/i2M36MpICIDNhYjgxMDRmYzdmZDJhYjkwZDA1YzhkMDhkYzM4NzA2mgIAygIWUmV2aXNpdFZhbHVlV2VpZ2h0UnVsZcoCEkNsaXBQZWFrV2VpZ2h0UnVsZcoCFVVzZXJMY25FeGl0V2VpZ2h0UnVsZcoCFENvbnRlbnRBZ2VXZWlnaHRSdWxl2gITVFNfU09VUkNFX0ZFRURSRV9WOegCAvoCC05PUk1BTF9GTE9XigMgYTgwNDQ0MDZjY2EzNGVmZTkzN2ViMjZmYzMyYTA5NjKaAw0KAnYyEAAaBW90aGVyqAOHpyPYAwDqAwlmZWVkcmVfdjn6A4oCEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERTotCAAQgAoYwAQiI3YyLTljNGU3ZmM1NTdmYThjMDUxZTMxNTg5MjlkMGRhOTM2Oi0IABD4BhiQAyIjdjItOTJiOGM3YzYwNmJlOGYyMzQ4NDBjNGFiODIzZDRkYjg6LQgAEPgGGJADIiN2Mi0yNGM1YTk5OTlkYTcwMDNhMmZkYmE1MDAzMDAzNWNkNzotCAAQ+AYYkAMiI3YyLWVhODM5OTBiNjQxZDZiOGQzMWY0ZjVhZTdhMWUwOGM0Oi0IABD4BhiQAyIjdjItYWI2ZGFhMmVkZDM3ZDg4NGU0NWJmNjA2NzMzNjI4MTeABACIBACSBAZOb3JtYWyaBAEyoAQAqAQAsAQAugQGbWFudWFswgQDMTcwyAQA0gQP5o6o6I2Q5bey5pu05paw2AQA8AQA+QQAAAAA1CbMP4EFAAAAAAAAAACJBampCjb8hNI/kgUAmgUDZGZ0ogUDZGZ0sgUBMbkFAAAAAAAAAADQBQDgBQDoBQDwBRKQBgCgBmmoBgCSAiYKCTcwNzM0NDgxNxILNzExNDQ0NDQwMTEYBCIKSU1BR0VfVEVYVA==","action_card":false},{"id":"105_1750898979.574","type":"feed","offset":105,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1750898979,"updated_time":1750898979,"target":{"id":"1920667613463291341","type":"answer","url":"https://api.zhihu.com/answers/1920667613463291341","author":{"id":"f3b048a0212072511e1bca8e7025b3d4","url":"https://api.zhihu.com/people/f3b048a0212072511e1bca8e7025b3d4","user_type":"people","url_token":"nongfuyufu","name":"十二点的知更鸟","headline":"不主动使用双重标准评判事件的佛系坐家","avatar_url":"https://pic1.zhimg.com/50/v2-60bb567a0fa8a8d4b406b68afae26311_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":10290,"is_following":false,"is_followed":false},"created_time":1750702843,"updated_time":1750706797,"voteup_count":1295,"thanks_count":23,"comment_count":754,"is_copyable":true,"question":{"id":"316286203","type":"question","url":"https://api.zhihu.com/questions/316286203","author":{"id":"d38ea2001da1bfc0b77bc63a66d0a8ed","url":"https://api.zhihu.com/people/d38ea2001da1bfc0b77bc63a66d0a8ed","user_type":"people","url_token":"tang-wen-zheng-kai","name":"知乎用户YJNpnc","headline":"","avatar_url":"https://pica.zhimg.com/50/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=b6762063","is_org":false,"gender":0,"followers_count":1125,"is_following":false,"is_followed":false},"title":"雷军，是真的如表现的那么真诚吗？","created":1552799663,"answer_count":0,"follower_count":0,"comment_count":25,"bound_topic_ids":[976],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"thumbnail":"https://picx.zhimg.com/50/v2-1261b15e24f0998a9814c7d98a48993d_720w.jpg?source=b6762063","excerpt":"最近有个采访，大家可以去看看。 猫王音响的创始人回忆当年的一段往事。 大概意思是，他们是当年国内做智能音响最早的，被顺为资本发现，然后邀请去北京见雷神。 然后人家在会议室等了半个小时后，雷神到了会议室就是问投资经理，今天谈什么项目，投资经理回答是智能音箱。 雷神直接说，智能音箱有什么用，不要浪费时间，然后走了。 是的，连正眼看人家老总一眼都没有。 所以，真不真诚，大家自己评估。 人家转门跑到北京，浪费…","excerpt_new":"最近有个采访，大家可以去看看。 猫王音响的创始人回忆当年的一段往事。 大概意思是，他们是当年国内做智能音响最早的，被顺为资本发现，然后邀请去北京见雷神。 然后人家在会议室等了半个小时后，雷神到了会议室就是问投资经理，今天谈什么项目，投资经理回答是智能音箱。 雷神直接说，智能音箱有什么用，不要浪费时间，然后走了。 是的，连正眼看人家老总一眼都没有。 所以，真不真诚，大家自己评估。 人家转门跑到北京，浪费…","preview_type":"default","preview_text":"","reshipment_settings":"allowed","content":"\u003cp data-pid=\"SnINZuXB\"\u003e最近有个采访，大家可以去看看。\u003c/p\u003e\u003cp data-pid=\"8-PuR79O\"\u003e猫王音响的创始人回忆当年的一段往事。\u003c/p\u003e\u003cp data-pid=\"PfpXdmle\"\u003e大概意思是，他们是当年国内做智能音响最早的，被顺为资本发现，然后邀请去北京见雷神。\u003c/p\u003e\u003cp data-pid=\"GjJWN96z\"\u003e然后人家在会议室等了半个小时后，雷神到了会议室就是问投资经理，今天谈什么项目，投资经理回答是智能音箱。\u003c/p\u003e\u003cp data-pid=\"17Yc4BI1\"\u003e雷神直接说，智能音箱有什么用，不要浪费时间，然后走了。\u003c/p\u003e\u003cp data-pid=\"Xh848hXi\"\u003e是的，连正眼看人家老总一眼都没有。\u003c/p\u003e\u003cp data-pid=\"Gx1WSPUc\"\u003e所以，真不真诚，大家自己评估。\u003c/p\u003e\u003cp data-pid=\"6LoG9pwD\"\u003e人家转门跑到北京，浪费多少时间精力，就这么轻飘飘的被无视了，连最基本的婉拒都没有。\u003c/p\u003e\u003cp data-pid=\"487wErUA\"\u003e正常老总有点人品的，都会最基本的婉拒：“不好意思，我们内部可能没沟通清楚，现阶段公司不考虑这方面的投资，麻烦你跑这一趟了，以后有机会再合作。”\u003c/p\u003e\u003cp data-pid=\"1D168GaB\"\u003e这句话，很难说出口吗？还是说本来就一直是这样的为人，所以压根无所谓照顾别人的情绪？\u003c/p\u003e\u003cp data-pid=\"eQQZFyM4\"\u003e如果会点人情事故的，起码再补多两句请吃饭之类的，尽尽地主之谊，毕竟人家路费住宿费都是自掏腰包，而不是最基本的尊重都没有。\u003c/p\u003e\u003cp data-pid=\"E81Qlqwm\"\u003e难怪这么多年，我没见过任何供应商或者被投资的企业公开感谢粗粮。\u003c/p\u003e\u003cp data-pid=\"JV2Sow5C\"\u003e这个视频不知道能存在多久，感兴趣的自己去看看。\u003c/p\u003e\u003cfigure data-size=\"normal\"\u003e\u003cimg src=\"https://pic4.zhimg.com/v2-59aca4540ede312bcbc8f7bb1bce34c9_1440w.jpg\" data-rawwidth=\"1284\" data-rawheight=\"2778\" data-size=\"normal\" data-original-token=\"v2-59aca4540ede312bcbc8f7bb1bce34c9\" data-default-watermark-src=\"https://pic3.zhimg.com/v2-2de02363a53764ef1015d0a1c4136ddc_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1284\" data-original=\"https://pic4.zhimg.com/v2-59aca4540ede312bcbc8f7bb1bce34c9_r.jpg\"/\u003e\u003c/figure\u003e\u003cp\u003e\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":167589,"thumbnails":["https://picx.zhimg.com/50/v2-1261b15e24f0998a9814c7d98a48993d_720w.jpg?source=b6762063"],"favorite_count":134,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1920667613463291341}","attached_info":"CuAGCOmzzf26tPPtvwEQBBoJNzMzNjg0NjQyIPu15sIGKI8KMPIFQGlKKAoTVFNfU09VUkNFX0ZFRURSRV9WORIBMBgAIAA6CnsicmF3IjoiIn1KLwodVFNfU09VUkNFX0ZFRURfVVNFUl9FWFBFUlRfQ0YSCDYwODE4Mzg1GAAgADoAWggzMjU2MjE3MWIgNmE1ZjNmZDQ5YjY3NDA4ZTczMzdmZmU5OTM4N2U4MTZyEzE5MjA2Njc2MTM0NjMyOTEzNDGKAQkzMTYyODYyMDOqAQlyZWNvbW1lbmTCASBmM2IwNDhhMDIxMjA3MjUxMWUxYmNhOGU3MDI1YjNkNPIBCggMEgZOb3JtYWzyASgIChIkYThmYjViMTMtNzljYS00ZDQ1LWI4ZDItNzg0OTY5ZTU0YWZl8gEGCAsSAjE4ggIAiALf4tjN+jKSAiBmM2IwNDhhMDIxMjA3MjUxMWUxYmNhOGU3MDI1YjNkNJoCAMoCFlNob3JJbnRlcmVzdFdlaWdodFJ1bGXKAhZBY3Rpb25TaG9ySW50ZXJlc3RSdWxlygIbSW50ZXJhY3Rpb25TaG9ySW50ZXJlc3RSdWxlygIWUmV2aXNpdFZhbHVlV2VpZ2h0UnVsZcoCGFBlcmlvZEludGVyZXN0V2VpZ2h0UnVsZcoCFVVzZXJMY25FeGl0V2VpZ2h0UnVsZdoCE1RTX1NPVVJDRV9GRUVEUkVfVjnoAgL6AgtOT1JNQUxfRkxPV4oDIGE4MDQ0NDA2Y2NhMzRlZmU5MzdlYjI2ZmMzMmEwOTYymgMNCgJ2MhAAGgVvdGhlcqgDpZ0K2AMA6gMJZmVlZHJlX3Y5+gNOEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERTotCAIQhAoY2hUiI3YyLTU5YWNhNDU0MGVkZTMxMmJjYmM4ZjdiYjFiY2UzNGM5gAQAiAQAkgQGTm9ybWFsmgQBMqAEAKgEALAEALoEBm1hbnVhbMIEAzE3MMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAYHVZ0j+BBQAAAAAAAAAAiQWpqQo2/ITSP5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AUSkAYAoAZqqAYBkgIuCgk3MzM2ODQ2NDISEzE5MjA2Njc2MTM0NjMyOTEzNDEYBCIKSU1BR0VfVEVYVA==","action_card":false},{"id":"106_1750898979.271","type":"feed","offset":106,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1750898979,"updated_time":1750898979,"target":{"id":"1921431783678931312","type":"answer","url":"https://api.zhihu.com/answers/1921431783678931312","author":{"id":"c33b4345d6e11af2472bcf3d1d267404","url":"https://api.zhihu.com/people/c33b4345d6e11af2472bcf3d1d267404","user_type":"people","url_token":"wen-suo-wei-wen-80","name":"闻所未闻","headline":"","avatar_url":"https://picx.zhimg.com/50/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=b6762063","is_org":false,"gender":-1,"followers_count":675,"is_following":false,"is_followed":false},"created_time":1750885035,"updated_time":1750885602,"voteup_count":0,"thanks_count":0,"comment_count":0,"is_copyable":false,"question":{"id":"1914132448385687930","type":"question","url":"https://api.zhihu.com/questions/1914132448385687930","author":{"id":"07fa6c1c17f31039ae0eb764c6b8c66d","url":"https://api.zhihu.com/people/07fa6c1c17f31039ae0eb764c6b8c66d","user_type":"people","url_token":"97-57-63-89","name":"我是那谁WSNS","headline":"","avatar_url":"https://picx.zhimg.com/50/v2-4e0f0abe7d42d3eb669bcfee954ab59b_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":6,"is_following":false,"is_followed":false},"title":"事实更重要还是立场更重要？","created":1749144738,"answer_count":0,"follower_count":0,"comment_count":12,"bound_topic_ids":[215,2026,12488,18353,102233],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"excerpt":"事实与立场，这两个既不是比较级，也不是对立的。把这两个孤立、对立起来而放弃对立与统一的分析方法，就是形而上学。 虽然人们“罗生门”叙事的例子比比皆是，但用立场决定事实或者用事实影响立场，都是错误和片面的认识论。前者会歪曲事实，后者会浮云遮望眼。 立场重要，事实也同样重要。一个在主观认识上重要，一个在客观依据上重要，这两个并不在一个维度上，非要较高低，那是钻牛角尖。 一件事实摆在那儿，不同的人会有不…","excerpt_new":"事实与立场，这两个既不是比较级，也不是对立的。把这两个孤立、对立起来而放弃对立与统一的分析方法，就是形而上学。 虽然人们“罗生门”叙事的例子比比皆是，但用立场决定事实或者用事实影响立场，都是错误和片面的认识论。前者会歪曲事实，后者会浮云遮望眼。 立场重要，事实也同样重要。一个在主观认识上重要，一个在客观依据上重要，这两个并不在一个维度上，非要较高低，那是钻牛角尖。 一件事实摆在那儿，不同的人会有不…","preview_type":"default","preview_text":"","reshipment_settings":"disallowed","content":"\u003cp data-pid=\"zaQVzaGf\"\u003e事实与立场，这两个既不是比较级，也不是对立的。把这两个孤立、对立起来而放弃对立与统一的分析方法，就是形而上学。\u003c/p\u003e\u003cp data-pid=\"XDTtAPnW\"\u003e虽然人们“罗生门”叙事的例子比比皆是，但用立场决定事实或者用事实影响立场，都是错误和片面的认识论。前者会歪曲事实，后者会浮云遮望眼。\u003c/p\u003e\u003cp data-pid=\"TuB2Y0i3\"\u003e立场重要，事实也同样重要。一个在主观认识上重要，一个在客观依据上重要，这两个并不在一个维度上，非要较高低，那是钻牛角尖。\u003c/p\u003e\u003cp data-pid=\"khc0T7Vq\"\u003e一件事实摆在那儿，不同的人会有不同的看法，因为人们看待事实天然会代入个人立场，所以会有讨论，甚至需要争论，去辨明事实。\u003c/p\u003e\u003cp data-pid=\"HRFe3tb_\"\u003e立场重要是指树立正确的立场重要，而不是“屁股决定脑袋”的庸俗论，认为屁股决定脑袋的人没有立场只有利害。事实重要是指实事要去求是，即怎么正确认识事实和从本质上认清事实的目标与过程。\u003c/p\u003e\u003cp data-pid=\"nwww8RVh\"\u003e没有立场，只论事实，不去求是，那事实就是一头永远摸不清的大象；立场错了，事实就会被选择性使用、曲解甚至是颠倒黑白。带着正确的立场去认识和分析事实，才不会忘了研究事实的目的与解决问题的初衷。教员的《中国社会各阶级分析》为我们作了一个正确的示范，而梁晓声模仿的《中国社会各阶层分析》只是一次邯郸学步。因为前者解决了革命为了谁、依靠谁、信任谁、团结谁的重要问题；而后者只是给读者介绍了高低贵贱和贫富分化的事实，并没有从事实中升华出理论分析。当然，即便只是介绍，梁晓声也很厉害了。\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":49,"favorite_count":0,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1921431783678931312}","attached_info":"CoQGCOmzzf26tPPtvwEQBBoJNzM0MDM0MzU2IKvF8cIGKAAwAEBqSiQKGVRTX1NPVVJDRV9XQVJNX1VQX05PUk1BTDISATAYACAAOgBKKAodVFNfU09VUkNFX1dBUk1VUF9QUkVUUkFJTl9JMkkSATAYACAAOgBaCTExNTI1Nzc1M2IgNmE1ZjNmZDQ5YjY3NDA4ZTczMzdmZmU5OTM4N2U4MTZyEzE5MjE0MzE3ODM2Nzg5MzEzMTKKARMxOTE0MTMyNDQ4Mzg1Njg3OTMwqgEJcmVjb21tZW5kwgEgYzMzYjQzNDVkNmUxMWFmMjQ3MmJjZjNkMWQyNjc0MDTyAQoIDBIGTm9ybWFs8gEoCAoSJDgzNTJjZWMyLTk2MzQtNGIzYS1hMjZhLWYzNzkzM2NjNzkxMvIBBggLEgIxOIICAIgC4OLYzfoykgIgYzMzYjQzNDVkNmUxMWFmMjQ3MmJjZjNkMWQyNjc0MDSaAgDKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygIYUGVyaW9kSW50ZXJlc3RXZWlnaHRSdWxlygIVVXNlckxjbkV4aXRXZWlnaHRSdWxlygIYQ29udGVudFdhcm1VcEJyZWFrSW5SdWxl2gIZVFNfU09VUkNFX1dBUk1fVVBfTk9STUFMMugCAvoCC05PUk1BTF9GTE9XigMgYTgwNDQ0MDZjY2EzNGVmZTkzN2ViMjZmYzMyYTA5NjKaAw0KAnYyEAAaBW90aGVyqAMx2AMA6gMTcHJldHJhaW5faTJpX3JlY2FsbPoDHxIMVU5LTk9XTl9NT0RFIAAqDU5PX0lNQUdFX01PREWABACIBACSBAZOb3JtYWyaBAEyoAQAqAQAsAQAugQCYWnCBAM0MDDIBADSBA/mjqjojZDlt7Lmm7TmlrDYBADwBAD5BAAAAEDEYJ8/gQUAAAAAAAAAAIkFqakKNvyE0j+SBQCaBQNkZnSiBQNkZnSyBQExuQUAAAAAAAAAANAFAOAFAOgFAPAFEpAGAKAGa6gGAJICLgoJNzM0MDM0MzU2EhMxOTIxNDMxNzgzNjc4OTMxMzEyGAQiCklNQUdFX1RFWFQ=","action_card":false},{"id":"107_1750898979.763","type":"feed","offset":107,"verb":"TOPIC_ACKNOWLEDGED_ANSWER","created_time":1750898979,"updated_time":1750898979,"target":{"id":"1921177861366211463","type":"answer","url":"https://api.zhihu.com/answers/1921177861366211463","author":{"id":"4cb5d95a87fa1286e9f2456702e370a7","url":"https://api.zhihu.com/people/4cb5d95a87fa1286e9f2456702e370a7","user_type":"people","url_token":"yu-hua-xia-65","name":"喵星扫地生","headline":"#法律禁止或可能引起争议","avatar_url":"https://pica.zhimg.com/50/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":1099,"is_following":false,"is_followed":false},"created_time":1750824495,"updated_time":1750826003,"voteup_count":179,"thanks_count":5,"comment_count":32,"is_copyable":true,"question":{"id":"1910321947595744969","type":"question","url":"https://api.zhihu.com/questions/1910321947595744969","author":{"id":"fe9d6c90b94cb4a929b2237cf7eaba86","url":"https://api.zhihu.com/people/fe9d6c90b94cb4a929b2237cf7eaba86","user_type":"people","url_token":"hu-bin-99-89","name":"闲闲观世界","headline":"大知闲闲，小知间间，大言炎炎，小言詹詹。针砭时弊，笑看国际。","avatar_url":"https://picx.zhimg.com/50/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=b6762063","is_org":false,"gender":1,"followers_count":46,"is_following":false,"is_followed":false},"title":"为什么“个人破产制度”在中国无法推行？","created":1748236244,"answer_count":0,"follower_count":0,"comment_count":7,"bound_topic_ids":[460254,2200132,2530528],"is_following":false,"excerpt":"","relationship":{"is_author":false},"detail":"","question_type":"normal"},"excerpt":"中国城市建设为啥远超欧美？ 因为地方政府舍得花钱 地方政府哪来的钱？只靠税收吗？ 不，一部分借，一部分赚 跟谁借？从哪赚？ 跟银行借，卖土地赚 土地开发商哪来的钱 先从银行借钱付给政府，再靠卖房子赚钱还银行 房子卖给谁？ 老百姓 老百姓哪来的钱 从银行借 银行凭什么借给他 用房子和未来三十年收入做抵押 哦，原来政府搞城建的钱，实际上是老百姓用未来做抵押借来的 如果有老百姓失去工作还不上怎么办 银行：暂缓利息，等…","excerpt_new":"中国城市建设为啥远超欧美？ 因为地方政府舍得花钱 地方政府哪来的钱？只靠税收吗？ 不，一部分借，一部分赚 跟谁借？从哪赚？ 跟银行借，卖土地赚 土地开发商哪来的钱 先从银行借钱付给政府，再靠卖房子赚钱还银行 房子卖给谁？ 老百姓 老百姓哪来的钱 从银行借 银行凭什么借给他 用房子和未来三十年收入做抵押 哦，原来政府搞城建的钱，实际上是老百姓用未来做抵押借来的 如果有老百姓失去工作还不上怎么办 银行：暂缓利息，等…","preview_type":"default","preview_text":"","reshipment_settings":"allowed","content":"\u003cp data-pid=\"fYQ4_525\"\u003e中国城市建设为啥远超欧美？\u003c/p\u003e\u003cp data-pid=\"PfOOb4Mu\"\u003e因为地方政府舍得花钱\u003c/p\u003e\u003cp data-pid=\"bWefDAJ0\"\u003e地方政府哪来的钱？只靠税收吗？\u003c/p\u003e\u003cp data-pid=\"9nn4Rq6j\"\u003e不，一部分借，一部分赚\u003c/p\u003e\u003cp data-pid=\"XAWxHbtG\"\u003e跟谁借？从哪赚？\u003c/p\u003e\u003cp data-pid=\"YmiLL91m\"\u003e跟银行借，卖土地赚\u003c/p\u003e\u003cp data-pid=\"itPQOQ0_\"\u003e土地开发商哪来的钱\u003c/p\u003e\u003cp data-pid=\"0RuIfG6J\"\u003e先从银行借钱付给政府，再靠卖房子赚钱还银行\u003c/p\u003e\u003cp data-pid=\"qIa-Xa-C\"\u003e房子卖给谁？\u003c/p\u003e\u003cp data-pid=\"QJ0x5dUW\"\u003e老百姓\u003c/p\u003e\u003cp data-pid=\"j0ohOvXR\"\u003e老百姓哪来的钱\u003c/p\u003e\u003cp data-pid=\"DjSrxNJJ\"\u003e从银行借\u003c/p\u003e\u003cp data-pid=\"WoZ95G_q\"\u003e银行凭什么借给他\u003c/p\u003e\u003cp data-pid=\"lhyhWUF_\"\u003e用房子和未来三十年收入做抵押\u003c/p\u003e\u003cp data-pid=\"zdoJK2gK\"\u003e哦，原来政府搞城建的钱，实际上是老百姓用未来做抵押借来的\u003c/p\u003e\u003cp data-pid=\"rF9PQVhp\"\u003e如果有老百姓失去工作还不上怎么办\u003c/p\u003e\u003cp data-pid=\"cevq1bUH\"\u003e银行：暂缓利息，等找到工作接着还\u003c/p\u003e\u003cp data-pid=\"oKlNv_gs\"\u003e一直找不到工作怎么办？\u003c/p\u003e\u003cp data-pid=\"3GXp9L6Q\"\u003e银行：太遗憾了，只能拍卖房子\u003c/p\u003e\u003cp data-pid=\"Ep3vUVpx\"\u003e房子严重贬值，卖房款不足以支付贷款怎么办？\u003c/p\u003e\u003cp data-pid=\"XrrA7QQe\"\u003e银行：利息不要了，收回本金就好\u003c/p\u003e\u003cp data-pid=\"phfYXWZX\"\u003e卖都卖不掉怎么办？\u003c/p\u003e\u003cp data-pid=\"IOQ5rbiF\"\u003e银行：当做坏账处理\u003c/p\u003e\u003cp data-pid=\"Z7KZyXwS\"\u003e如果大量老百姓失业，普遍还不起贷款怎么办？\u003c/p\u003e\u003cp data-pid=\"y4Ozpr3q\"\u003e银行（看一眼旁边，怯怯的）：我也破产，换个名字重新开张，行不行？\u003c/p\u003e\u003cp data-pid=\"WrdGGc9O\"\u003e虚空中传来一个声音：那些不买房的老百姓在你这儿的存款怎么处理？\u003c/p\u003e\u003cp data-pid=\"1NRhtGvc\"\u003e银行：还他们50万，多的算他们自己倒霉\u003c/p\u003e\u003cp data-pid=\"LMHhmalW\"\u003e声音：我的面子往哪里搁？他们以后不存款，拿什么贷给企业？贷给开发商？\u003c/p\u003e\u003cp data-pid=\"dZQh79gE\"\u003e银行：开发商？等等，似乎忘了点什么？开发商，你贷的款还完了吗？\u003c/p\u003e\u003cp data-pid=\"EQd5ibd7\"\u003e开发商：没有，我也资不抵债\u003c/p\u003e\u003cp data-pid=\"WSfKFYAo\"\u003e银行：可是，我贷给老百姓买房的钱，比你买地和盖房子总共花的钱还要多啊！\u003c/p\u003e\u003cp data-pid=\"y_chDmY8\"\u003e开发商：你没算高管、舞蹈团和足球队的薪水，算上就入不敷出，连供应商的货款都欠着\u003c/p\u003e\u003cp data-pid=\"js4Tt0WR\"\u003e银行（把脸转向旁边）：您看，怎么办？\u003c/p\u003e\u003cp data-pid=\"-GruNOSL\"\u003e声音：抓起来，把所有身家拿来抵债\u003c/p\u003e\u003cp data-pid=\"oJNY9Ynx\"\u003e开发商：要钱没有，要命一条，大不了去踩缝纫机\u003c/p\u003e\u003cp data-pid=\"9rYxRVm3\"\u003e地方政府：不行啊，你去踩缝纫机，谁来买我的地？没人买地，拿什么搞建设（发工资/福利）？！！\u003c/p\u003e\u003cp data-pid=\"MpYkVvNm\"\u003e声音（沉思半晌）：暂时...苦一苦老百姓，只要踏实肯干，未来总会好的，这个问题想要真正解决，只有依靠后人的智慧\u003c/p\u003e\u003cp data-pid=\"9yY-xIV3\"\u003e后人：｝$*烫烫烫\u003c/p\u003e\u003cp data-pid=\"H5E_EAav\"\u003eRegment fail，Access null pointer\u003c/p\u003e","relationship":{"is_thanked":false,"is_nothelp":false,"voting":0},"is_labeled":false,"visited_count":14943,"favorite_count":62,"answer_type":"normal","is_navigator":false,"navigator_vote":false,"vote_next_step":"vote"},"brief":"{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1921177861366211463}","attached_info":"CssHCOmzzf26tPPtvwEQBBoJNzMzOTE5MzgzIK/s7cIGKLMBMCBAa0pPChxUU19TT1VSQ0VfSE9UX0NST1NTX1JFQUxUSU1FEilob3RfcmVjYWxsX3JlYWx0aW1lX3Q6bm9ybWFsOjIwMjUtMDYtMjY6NxgAIAA6AEp0CilUU19TT1VSQ0VfSE9UX0NST1NTX1JFQUxfVElNRV9ORVdfQ09OVEVOVBJBaG90X3JlY2FsbF9yZWFsdGltZV90Om5ldzdkOjIwMjUtMDYtMjY6bWFsZTptaWRkbGV5b3VuZ3N0ZXI6b3RoZXIYACAAOgBaCTExNTEwNzc0NmIgNmE1ZjNmZDQ5YjY3NDA4ZTczMzdmZmU5OTM4N2U4MTZyEzE5MjExNzc4NjEzNjYyMTE0NjOKARMxOTEwMzIxOTQ3NTk1NzQ0OTY5qgEJcmVjb21tZW5kwgEgNGNiNWQ5NWE4N2ZhMTI4NmU5ZjI0NTY3MDJlMzcwYTfyAQoIDBIGTm9ybWFs8gEoCAoSJDA1ZTU5YzNmLTRkYWYtNDBkMC04ODkwLTZlMzRkNzZlZTc4M/IBBggLEgIxOIICAIgC4OLYzfoykgIgNGNiNWQ5NWE4N2ZhMTI4NmU5ZjI0NTY3MDJlMzcwYTeaAgDKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygIWQWN0aW9uU2hvckludGVyZXN0UnVsZcoCG0ludGVyYWN0aW9uU2hvckludGVyZXN0UnVsZcoCGFBlcmlvZEludGVyZXN0V2VpZ2h0UnVsZcoCFVVzZXJMY25FeGl0V2VpZ2h0UnVsZcoCHEJheWVzRmlyc3RMZXZlbElzb2xhdGlvblJ1bGXaAhxUU19TT1VSQ0VfSE9UX0NST1NTX1JFQUxUSU1F6AIC+gILTk9STUFMX0ZMT1eKAyBhODA0NDQwNmNjYTM0ZWZlOTM3ZWIyNmZjMzJhMDk2MpoDDQoCdjIQABoFb3RoZXKoA9902AMA6gMfaG90Q3Jvc3NSZWFsVGltZUNvbnRlbnRSZWNhbGxlcvoDHxIMVU5LTk9XTl9NT0RFIAAqDU5PX0lNQUdFX01PREWABACIBACSBAZOb3JtYWyaBAEyoAQAqAQAsAQAugQGbWFudWFswgQDMTcwyAQA0gQP5o6o6I2Q5bey5pu05paw2AQA8AQA+QQAAAAAoQ3BP4EFAAAAAAAAAACJBampCjb8hNI/kgUAmgUDZGZ0ogUDZGZ0sgUBMbkFAAAAAAAAAADQBQDgBQDoBQDwBRKQBgCgBmyoBgCSAi4KCTczMzkxOTM4MxITMTkyMTE3Nzg2MTM2NjIxMTQ2MxgEIgpJTUFHRV9URVhU","action_card":false}],"paging":{"is_end":false,"is_start":false,"next":"https://www.zhihu.com/api/v3/feed/topstory/recommend?action=down\u0026ad_interval=-10\u0026after_id=107\u0026desktop=true\u0026end_offset=108\u0026page_number=19\u0026session_token=6a5f3fd49b67408e7337ffe99387e816","previous":"https://www.zhihu.com/api/v3/feed/topstory/recommend?action=pull\u0026ad_interval=-10\u0026before_id=107\u0026desktop=true\u0026end_offset=108\u0026page_number=19\u0026session_token=6a5f3fd49b67408e7337ffe99387e816","totals":0},"fresh_text":"推荐已更新"}
