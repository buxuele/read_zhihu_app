{
  "data": [
    {
      "id": "54_1755822230.500",
      "type": "feed",
      "offset": 54,
      "verb": "TOPIC_ACKNOWLEDGED_ARTICLE",
      "created_time": 1755822230,
      "updated_time": 1755822230,
      "target": {
        "id": "1940572974798337908",
        "type": "article",
        "url": "https://api.zhihu.com/articles/1940572974798337908",
        "author": {
          "id": "163433f603247c262242e03441d656cf",
          "url": "https://api.zhihu.com/people/163433f603247c262242e03441d656cf",
          "user_type": "people",
          "url_token": "apo-rpa",
          "name": "阿坡RPA",
          "headline": "专注于分享AI+RPA提效实战干货，个人成长，全网同名",
          "avatar_url": "https://picx.zhimg.com/50/v2-3542cfd6aa17335c4f7d4fd9b5eed17c_l.jpg?source=b6762063",
          "is_org": false,
          "gender": 1,
          "followers_count": 1497,
          "is_following": false,
          "is_followed": false
        },
        "title": "3 分钟讲透 Win 版 Claude Code部署：整合 Qwen-Coder + GLM-4.5，零翻墙平替 Cursor！",
        "image_url": "https://pic1.zhimg.com/v2-c0ef06e58c582cf03ee035bd02b179cc.jpg?source=7e7ef6e2&needBackground=1",
        "comment_permission": "all",
        "created": 1755475425,
        "updated": 1755475425,
        "voteup_count": 24,
        "voting": 0,
        "comment_count": 2,
        "linkbox": {
          "category": "",
          "pic": "",
          "title": "",
          "url": ""
        },
        "excerpt": "Claude Code 一出，命令行 AI 编程瞬间内卷：Gemini CLI、Qwen-Code 你方唱罢我登场，拼的都是提示词工程。可惜国内用户常被「地区不可用」拦在门外。   好消息是，国产大模型已经基本追平甚至超越海外旗舰：我深度实测，国产大模型的编码表现也相当优秀，尤其是是Qwen-Coder，已开始霸榜开源社区。 今天，我将手把手教你在 Windows 本地丝滑部署 Claude Code，并一键接入完全免费的千问 Qwen-Coder，以及白菜价的智谱 GLM-4.5、Ki…",
        "excerpt_new": "Claude Code 一出，命令行 AI 编程瞬间内卷：Gemini CLI、Qwen-Code 你方唱罢我登场，拼的都是提示词工程。可惜国内用户常被「地区不可用」拦在门外。   好消息是，国产大模型已经基本追平甚至超越海外旗舰：我深度实测，国产大模型的编码表现也相当优秀，尤其是是Qwen-Coder，已开始霸榜开源社区。 今天，我将手把手教你在 Windows 本地丝滑部署 Claude Code，并一键接入完全免费的千问 Qwen-Coder，以及白菜价的智谱 GLM-4.5、Ki…",
        "preview_type": "default",
        "preview_text": "",
        "content": "<p data-pid=\"st9SIcis\">Claude Code 一出，命令行 AI 编程瞬间内卷：Gemini CLI、Qwen-Code 你方唱罢我登场，拼的都是提示词工程。可惜国内用户常被「地区不可用」拦在门外。</p><figure data-size=\"normal\"><img src=\"https://picx.zhimg.com/v2-b95a4c1e4672646d05c3e38976ae383d_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1409\" data-rawheight=\"439\" data-original-token=\"v2-ace6fb7565de51aaa3d728ea4af8af8d\" class=\"origin_image zh-lightbox-thumb\" width=\"1409\" data-original=\"https://picx.zhimg.com/v2-b95a4c1e4672646d05c3e38976ae383d_r.jpg\"/></figure><p data-pid=\"7t1HWypG\">好消息是，国产大模型已经基本追平甚至超越海外旗舰：我深度实测，国产大模型的编码表现也相当优秀，尤其是是Qwen-Coder，已开始霸榜开源社区。</p><p data-pid=\"pyRDit2y\">今天，我将手把手教你在 Windows 本地丝滑部署 Claude Code，并一键接入完全免费的千问 Qwen-Coder，以及白菜价的智谱 GLM-4.5、Kimi K2 等国产模型。零门槛、零翻墙，让最强国产 AI 为你写代码。</p><h2>一、安装nodejs环境</h2><p data-pid=\"W6pWepnD\">官方下载地址：<a href=\"https://link.zhihu.com/?target=https%3A//nodejs.org/zh-cn/download\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">nodejs.org/zh-cn/downlo</span><span class=\"invisible\">ad</span><span class=\"ellipsis\"></span></a></p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-226178f04866e24339c8c52a0513829e_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1444\" data-rawheight=\"1342\" data-original-token=\"v2-cbef8cb741c008b68ee845731679b71e\" class=\"origin_image zh-lightbox-thumb\" width=\"1444\" data-original=\"https://pic1.zhimg.com/v2-226178f04866e24339c8c52a0513829e_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h2>二、安装Claude-code</h2><div class=\"highlight\"><pre><code class=\"language-text\">npm install -g @anthropic-ai/claude-code</code></pre></div><h2>三、安装Claude-code-router</h2><p data-pid=\"t34Df2sv\"><code>Claude-code-router</code> 是一款可将 Claude Code 请求路由到不同的模型的工具，并自定义任何请求。</p><p data-pid=\"G2YQOq49\">其主要功能如下：</p><ul><li data-pid=\"xcP4CJ9-\"><b>模型路由</b>: 根据您的需求将请求路由到不同的模型（例如，后台任务、思考、长上下文）。<br/> </li><li data-pid=\"m85vOy-L\"><b>多提供商支持</b>: 支持 OpenRouter、DeepSeek、Ollama、Gemini、Volcengine 和 SiliconFlow 等各种模型提供商。<br/> </li><li data-pid=\"CtklnIaE\"><b>请求/响应转换</b>: 使用转换器为不同的提供商自定义请求和响应。<br/> </li><li data-pid=\"nQ_M-3_F\"><b>动态模型切换</b>: 在 Claude Code 中使用 <code>/model</code> 命令动态切换模型。<br/> </li><li data-pid=\"QjF5WGW4\"><b>GitHub Actions 集成</b>: 在您的 GitHub 工作流程中触发 Claude Code 任务。<br/> </li><li data-pid=\"LeHBg3h5\"><b>插件系统</b>: 使用自定义转换器扩展功能。<br/> </li></ul><p data-pid=\"lBV66NZ1\">工作原理详见作者写的文章：</p><ul><li data-pid=\"CSw38kWf\"><a href=\"https://link.zhihu.com/?target=https%3A//github.com/musistudio/claude-code-router/blob/main/blog/zh/%25E9%25A1%25B9%25E7%259B%25AE%25E5%2588%259D%25E8%25A1%25B7%25E5%258F%258A%25E5%258E%259F%25E7%2590%2586.md\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">项目动机和工作原理</a></li></ul><h3>一）安装</h3><p data-pid=\"f7bBswF3\">github地址：<a href=\"https://link.zhihu.com/?target=https%3A//github.com/musistudio/claude-code-router\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">github.com/musistudio/c</span><span class=\"invisible\">laude-code-router</span><span class=\"ellipsis\"></span></a></p><div class=\"highlight\"><pre><code class=\"language-text\">npm install -g @musistudio/claude-code-router</code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://picx.zhimg.com/v2-5fc3c46f78638fdeed9f902a638a76b7_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1559\" data-rawheight=\"140\" data-original-token=\"v2-5fc3c46f78638fdeed9f902a638a76b7\" class=\"origin_image zh-lightbox-thumb\" width=\"1559\" data-original=\"https://picx.zhimg.com/v2-5fc3c46f78638fdeed9f902a638a76b7_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h3>二）来到当前win登录账户的home目录</h3><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-15e4b194164df4c452f4983d5ec08684_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1368\" data-rawheight=\"199\" data-original-token=\"v2-15e4b194164df4c452f4983d5ec08684\" class=\"origin_image zh-lightbox-thumb\" width=\"1368\" data-original=\"https://pic3.zhimg.com/v2-15e4b194164df4c452f4983d5ec08684_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h3>三）创建配置文件夹</h3><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-2220371894bf98e298ac2c382f1a8f8a_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1930\" data-rawheight=\"1018\" data-original-token=\"v2-f0ff47b11010d85c67453941bf2586cd\" class=\"origin_image zh-lightbox-thumb\" width=\"1930\" data-original=\"https://pic1.zhimg.com/v2-2220371894bf98e298ac2c382f1a8f8a_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h3>四）创建json配置文件</h3><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-908e700ddf63e1377b346d534cb20760_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1501\" data-rawheight=\"1002\" data-original-token=\"v2-e87e0a8d3f7212c75d71d6c962e7aca6\" class=\"origin_image zh-lightbox-thumb\" width=\"1501\" data-original=\"https://pic1.zhimg.com/v2-908e700ddf63e1377b346d534cb20760_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h3>五）粘贴一下配置信息</h3><div class=\"highlight\"><pre><code class=\"language-json\"><span class=\"p\">{</span>\n  <span class=\"nt\">&#34;Providers&#34;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">&#34;name&#34;</span><span class=\"p\">:</span> <span class=\"s2\">&#34;modelscope&#34;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&#34;api_base_url&#34;</span><span class=\"p\">:</span> <span class=\"s2\">&#34;https://api-inference.modelscope.cn/v1/chat/completions&#34;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&#34;api_key&#34;</span><span class=\"p\">:</span> <span class=\"s2\">&#34;你的API KEY&#34;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&#34;models&#34;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">&#34;Qwen/Qwen3-Coder-480B-A35B-Instruct&#34;</span><span class=\"p\">,</span> <span class=\"s2\">&#34;Qwen/Qwen3-235B-A22B-Thinking-2507&#34;</span><span class=\"p\">],</span>\n      <span class=\"nt\">&#34;transformer&#34;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&#34;use&#34;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">[</span>\n            <span class=\"s2\">&#34;maxtoken&#34;</span><span class=\"p\">,</span>\n            <span class=\"p\">{</span>\n              <span class=\"nt\">&#34;max_tokens&#34;</span><span class=\"p\">:</span> <span class=\"mi\">65536</span>\n            <span class=\"p\">}</span>\n          <span class=\"p\">],</span>\n          <span class=\"s2\">&#34;enhancetool&#34;</span>\n        <span class=\"p\">],</span>\n        <span class=\"nt\">&#34;Qwen/Qwen3-235B-A22B-Thinking-2507&#34;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n          <span class=\"nt\">&#34;use&#34;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">&#34;reasoning&#34;</span><span class=\"p\">]</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">},</span>\n  <span class=\"p\">],</span>\n  <span class=\"nt\">&#34;Router&#34;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">&#34;default&#34;</span><span class=\"p\">:</span> <span class=\"s2\">&#34;modelscope,Qwen/Qwen3-Coder-480B-A35B-Instruct&#34;</span><span class=\"p\">,</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span></code></pre></div><p data-pid=\"kcDeVCjS\">下一步，我们到魔搭社区注册一个账号，获取自己的API KEY，就可以使用了</p><h2>四、获取魔搭社区API KEY</h2><h3>一）注册魔搭社区账号</h3><p data-pid=\"ZXScfmDn\">魔搭社区地址：<a href=\"https://link.zhihu.com/?target=https%3A//www.modelscope.cn/\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://www.</span><span class=\"visible\">modelscope.cn/</span><span class=\"invisible\"></span></a></p><h3>二）绑定自己的阿里云账号</h3><p data-pid=\"Xki8VQO0\">点击右上角的头像，绑定自己的阿里云账号</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-c4ea6a02df5084fb23bbec540bd9a69e_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"361\" data-rawheight=\"890\" data-original-token=\"v2-4b3428cca367eea5f0e764a18e1f4bd8\" class=\"content_image\" width=\"361\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h3>三）创建访问令牌</h3><p data-pid=\"Je-W5sJU\">进入访问令牌页面：<a href=\"https://link.zhihu.com/?target=https%3A//www.modelscope.cn/my/myaccesstoken\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://www.</span><span class=\"visible\">modelscope.cn/my/myacce</span><span class=\"invisible\">sstoken</span><span class=\"ellipsis\"></span></a></p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-81703ecd2f7d47b523df6f05a842590b_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1715\" data-rawheight=\"956\" data-original-token=\"v2-192947cdb14e3be208b349835d2776be\" class=\"origin_image zh-lightbox-thumb\" width=\"1715\" data-original=\"https://pic4.zhimg.com/v2-81703ecd2f7d47b523df6f05a842590b_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h2>五、启动claude-code-router</h2><p data-pid=\"_R4QFUFd\">找一个空文件夹，<code>右键</code> 打开命令行：</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-ad62a515f1a7afebb9f2b03ebe233a98_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1225\" data-rawheight=\"768\" data-original-token=\"v2-c789765584a414c03d75a639112e79f9\" class=\"origin_image zh-lightbox-thumb\" width=\"1225\" data-original=\"https://pic1.zhimg.com/v2-ad62a515f1a7afebb9f2b03ebe233a98_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"mhD2XnIF\">通过启动<code>claude-code-router</code>来启动claude code</p><div class=\"highlight\"><pre><code class=\"language-text\">ccr code</code></pre></div><p data-pid=\"ggW4FwsA\">启动后，选择主题：</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-6ee291f63ff0cc3e9612be74eea31617_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"897\" data-rawheight=\"746\" data-original-token=\"v2-d5b4b3351f19064d9874110a12bd3cd4\" class=\"origin_image zh-lightbox-thumb\" width=\"897\" data-original=\"https://pic4.zhimg.com/v2-6ee291f63ff0cc3e9612be74eea31617_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"RVHG6Mzx\">会看到 <code>claude code</code>  的提示</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-b946bbd887b4395d3340f8223295ba11_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"967\" data-rawheight=\"506\" data-original-token=\"v2-0fecbf7b1a58a3dd91d93d07f58acfb0\" class=\"origin_image zh-lightbox-thumb\" width=\"967\" data-original=\"https://pic2.zhimg.com/v2-b946bbd887b4395d3340f8223295ba11_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"iO8NtW7q\">选择 <code>Yes</code>:</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-18b26a926e2a8e5c447191fc27f947be_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1730\" data-rawheight=\"631\" data-original-token=\"v2-95750234a2ef67b4a20e7eb7a061b442\" class=\"origin_image zh-lightbox-thumb\" width=\"1730\" data-original=\"https://pic1.zhimg.com/v2-18b26a926e2a8e5c447191fc27f947be_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"QaUjmTkM\">登录成功，测试一下：</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-84deae2bd93c66069f743dbba6f4c4b0_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1440\" data-rawheight=\"712\" data-original-token=\"v2-bc6386fb70b6bfa5d439a17c8bb43c74\" class=\"origin_image zh-lightbox-thumb\" width=\"1440\" data-original=\"https://pica.zhimg.com/v2-84deae2bd93c66069f743dbba6f4c4b0_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h2>六、启动 claude code可能遇到的问题</h2><h3>一）Service not running, starting service...</h3><p data-pid=\"yInvbjxw\">遇到这个问题，有些时候，多等会，他会自动启动，如果还是不成功，我们可以先执行 <code>ccr start</code> ，然后再执行 <code>ccr code</code> </p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://picx.zhimg.com/v2-30efdeab30f21d12fc8d319ecbf0ee79_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"976\" data-rawheight=\"104\" data-original-token=\"v2-30efdeab30f21d12fc8d319ecbf0ee79\" class=\"origin_image zh-lightbox-thumb\" width=\"976\" data-original=\"https://picx.zhimg.com/v2-30efdeab30f21d12fc8d319ecbf0ee79_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h3>二）如果端口被占用</h3><p data-pid=\"MhuA6pWn\"><code>Claude code</code> 默认使用 <code>3456</code> 端口：</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-5a0aaa33b76547c7d4ec9c533f7baced_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"850\" data-rawheight=\"445\" data-original-token=\"v2-f395f655a73d200488a029dc54d5c26b\" class=\"origin_image zh-lightbox-thumb\" width=\"850\" data-original=\"https://pic4.zhimg.com/v2-5a0aaa33b76547c7d4ec9c533f7baced_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"__fV_e2j\">如果正好和你本地其他服务端口冲突冲突，可以通过修改配置文件来修改端口：</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-c26c7298e243d0e658d6660e6a84adfe_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2201\" data-rawheight=\"952\" data-original-token=\"v2-78390f5287207d4e29a40938754a05d4\" class=\"origin_image zh-lightbox-thumb\" width=\"2201\" data-original=\"https://pic3.zhimg.com/v2-c26c7298e243d0e658d6660e6a84adfe_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"2jLrIbsT\">重新启动看下效果，端口修改过来了：</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-e21d977ef5142a0759330074be2b74ea_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1162\" data-rawheight=\"544\" data-original-token=\"v2-e367a416f7bbbfcadbb7d332d5351378\" class=\"origin_image zh-lightbox-thumb\" width=\"1162\" data-original=\"https://pica.zhimg.com/v2-e21d977ef5142a0759330074be2b74ea_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h2>七、配置其他大模型API</h2><h3>一）智谱GLM 4.5</h3><p data-pid=\"9caUhV3M\">地址：<a href=\"https://link.zhihu.com/?target=https%3A//bigmodel.cn/\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">bigmodel.cn/</span><span class=\"invisible\"></span></a></p><p data-pid=\"Xbt3yDcj\">注册一个账户，进入个人中心页面，或者直达下面地址，来创建自己的 <code>api key</code>：</p><p data-pid=\"24aRfEg9\"><a href=\"https://link.zhihu.com/?target=https%3A//bigmodel.cn/usercenter/proj-mgmt/apikeys\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">bigmodel.cn/usercenter/</span><span class=\"invisible\">proj-mgmt/apikeys</span><span class=\"ellipsis\"></span></a></p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-e34b6ac4fb388be6d9c54744cef937ee_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2560\" data-rawheight=\"719\" data-original-token=\"v2-cfc7b167daac8015d2f22c108822234f\" class=\"origin_image zh-lightbox-thumb\" width=\"2560\" data-original=\"https://pic3.zhimg.com/v2-e34b6ac4fb388be6d9c54744cef937ee_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"lglANuog\">配置文件：</p><div class=\"highlight\"><pre><code class=\"language-json\"><span class=\"p\">{</span>\n  <span class=\"nt\">&#34;Providers&#34;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">&#34;name&#34;</span><span class=\"p\">:</span> <span class=\"s2\">&#34;openrouter&#34;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&#34;api_base_url&#34;</span><span class=\"p\">:</span> <span class=\"s2\">&#34;https://open.bigmodel.cn/api/paas/v4/chat/completions&#34;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&#34;api_key&#34;</span><span class=\"p\">:</span> <span class=\"s2\">&#34;你的API KEY&#34;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&#34;models&#34;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">&#34;glm-4.5&#34;</span><span class=\"p\">],</span>\n      <span class=\"nt\">&#34;transformer&#34;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&#34;use&#34;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">&#34;openrouter&#34;</span><span class=\"p\">]</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">},</span>\n  <span class=\"p\">],</span>\n  <span class=\"nt\">&#34;Router&#34;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">&#34;default&#34;</span><span class=\"p\">:</span> <span class=\"s2\">&#34;openrouter,glm-4.5&#34;</span><span class=\"p\">,</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span></code></pre></div><h3>二）Kimi K2</h3><p data-pid=\"rx9XO3h5\">1、注册一个账号</p><p data-pid=\"jwzMV85m\">地址：<a href=\"https://link.zhihu.com/?target=https%3A//platform.moonshot.cn\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">platform.moonshot.cn</span><span class=\"invisible\"></span></a></p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-004149703b8725cb56828523269b0f92_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2560\" data-rawheight=\"1345\" data-original-token=\"v2-fa46557a810f6386b5bbecf78ab03fdc\" class=\"origin_image zh-lightbox-thumb\" width=\"2560\" data-original=\"https://pica.zhimg.com/v2-004149703b8725cb56828523269b0f92_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"uS2hob14\">2、创建API KEY</p><p data-pid=\"XDg7M5Jm\">进入API KEY管理页面：<a href=\"https://link.zhihu.com/?target=https%3A//platform.moonshot.cn/console/api-keys\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">platform.moonshot.cn/co</span><span class=\"invisible\">nsole/api-keys</span><span class=\"ellipsis\"></span></a></p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-3303b090cba55d0a60b1d78f80b457b1_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2538\" data-rawheight=\"1050\" data-original-token=\"v2-e5937ec5369de06f1a9cb950e5b95444\" class=\"origin_image zh-lightbox-thumb\" width=\"2538\" data-original=\"https://pic2.zhimg.com/v2-3303b090cba55d0a60b1d78f80b457b1_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"fgUp7l2o\">3、配置信息</p><div class=\"highlight\"><pre><code class=\"language-text\">{\n  &#34;Providers&#34;: [\n    {\n      &#34;name&#34;: &#34;openrouter&#34;,\n      &#34;api_base_url&#34;: &#34;https://api.moonshot.cn/v1/chat/completions&#34;,\n      &#34;api_key&#34;: &#34;你的API KEY&#34;,\n      &#34;models&#34;: [&#34;kimi-k2-0711-preview&#34;],\n      &#34;transformer&#34;: {\n        &#34;use&#34;: [&#34;openrouter&#34;]\n      }\n    },\n  ],\n  &#34;Router&#34;: {\n    &#34;default&#34;: &#34;openrouter,kimi-k2-0711-preview&#34;,\n  }\n}</code></pre></div><h2>八、Claude Code 常用技巧</h2><h3>一）/init</h3><p data-pid=\"CoQABiUD\"><code>/init</code> 命令会通读整个项目，然后总结整个项目的技术栈，模块等核心信息，并将其写入到 <code>Claude.md</code> 文件内，这样以后每次执行命令，他都会先来读一下文件内容，快速了解剋整个项目</p><h3>二）/compact</h3><p data-pid=\"Qt1Dd8ND\">/compact` 这个命令用来压缩之前的聊天上下文记录，这样token消耗很大，我们可以用这个命令压缩上下文，减轻上下文压力而不影响聊天质量。</p><h3>三） /clear</h3><p data-pid=\"ykdAInUj\"><code>/clear</code> 命令用来清除之前聊天上下文信息，开启新的聊天，这样新的聊天不受之前的聊天内容的影响</p><h3>四）模式切换</h3><p data-pid=\"KNvclSiu\"><code>alt+m</code> 可以切换三种任务模式：</p><ul><li data-pid=\"Ho-cXiWt\"> 默认模式下，代码的任何改动都需要经过你手动确认<br/> </li><li data-pid=\"alfZG2h9\"><code>accept edits</code> 模式下，任何操作不再需要人工审核<br/> </li><li data-pid=\"LY_7biKp\"><code>plan mode</code> 模式下，claude code 只会提出自己的想法和意见，或者修改代码的计划，但是不会对代码进行任何修改</li></ul><h3>五）切换大模型</h3><p data-pid=\"-4_xq9M3\">在<code>config.json</code> 里配置好各大厂商的模型到 <code>Provider</code> 里面后，需要重启一下<code>Claude-code-router</code> ，然后，通过 <code>/model Provider名称 大模型名称</code> 来切换模型，比如切换魔搭社区的qwen3-coder模型：</p><div class=\"highlight\"><pre><code class=\"language-text\">/model modelscope,Qwen/Qwen3-Coder-480B-A35B-Instruct</code></pre></div><h2>九、如何在IDE里使用Claude Code</h2><p data-pid=\"hbRS7YtL\"><code>Claude code</code> 是命令行工具，有些朋友估计不是很习惯，那么如何在IDE里使用 <code>Claude Code</code> 呢？</p><h3>一）搜索“Claude Code for VSCode”</h3><p data-pid=\"7PRnEpZv\">在Vscode的插件市场搜索“Claude Code for VSCode”并点击 <code>install</code> 进行安装</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-6c4a480e1ebac9aa0b49fc0d14ea0fc0_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2093\" data-rawheight=\"717\" data-original-token=\"v2-62221f97ef769a27cc862e6bf2557c54\" class=\"origin_image zh-lightbox-thumb\" width=\"2093\" data-original=\"https://pica.zhimg.com/v2-6c4a480e1ebac9aa0b49fc0d14ea0fc0_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h3>二）vscode打开项目文件目录</h3><blockquote data-pid=\"GreWvWbi\"> 注意：<br/> 在上面<b>第五步</b>，我们启动claude-code-router时，是在 <code>test5</code> 文件夹下打开的命令行，这里 <code>vscode</code> 也需要打开相同的文件夹</blockquote><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-99199f05b2a70baf5ad003908d33a42a_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2214\" data-rawheight=\"916\" data-original-token=\"v2-16691d07e5175986ed9f230b6d256cff\" class=\"origin_image zh-lightbox-thumb\" width=\"2214\" data-original=\"https://pic3.zhimg.com/v2-99199f05b2a70baf5ad003908d33a42a_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h3>三）回到Claude Code 命令行界面</h3><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-867d60058fa6035a8dc46b416f404dac_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2530\" data-rawheight=\"977\" data-original-token=\"v2-f68bfe7f523bf56b47445aaf6827a45d\" class=\"origin_image zh-lightbox-thumb\" width=\"2530\" data-original=\"https://pic1.zhimg.com/v2-867d60058fa6035a8dc46b416f404dac_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h3>四）测试一下</h3><div class=\"highlight\"><pre><code class=\"language-text\">用html+js+css，给我写一个个人介绍页面：姓名：阿坡，坐标：北京，介绍：叶动AI联合创始人，RPA&amp;大模型应用开发双赛道教练，WEB全栈开，发工程师 公众号：阿坡RPA，个人微信：ao-ai-coding，知识星球：阿坡RPA实战笔记</code></pre></div><p data-pid=\"AiyHdDsC\">写完页面后，我们使用 <code>ALT+M</code> 把模式改为普通模式，这样代码改动需要经过我确认，我给他下达一个修改任务：把头像改为一个笑脸</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-95665fea36301ed403da604a3c9d8364_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1843\" data-rawheight=\"654\" data-original-token=\"v2-a369ce7b306a17db3046171588a037ef\" class=\"origin_image zh-lightbox-thumb\" width=\"1843\" data-original=\"https://pica.zhimg.com/v2-95665fea36301ed403da604a3c9d8364_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"ukwNJmxb\">Claude Code 就会在<code>vscode</code>里面把改动以文件形式显示出来，让我手动确认它的改动</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://picx.zhimg.com/v2-b23ef84576ca977cfb4903972a0b0a8f_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2560\" data-rawheight=\"1472\" data-original-token=\"v2-b155fb8e34622b2509eab9a9b78b407a\" class=\"origin_image zh-lightbox-thumb\" width=\"2560\" data-original=\"https://picx.zhimg.com/v2-b23ef84576ca977cfb4903972a0b0a8f_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"Uzi8h5q-\">至此，你已经把「国外高墙」变成了「国产高速」：</p><p data-pid=\"gES9xOPQ\">• 3 分钟完成 Windows 本地部署，无需翻墙即可体验 Claude Code 的全部威力； • 一键切换 Qwen-Coder、GLM-4.5、Kimi K2 等国货之光，成本降到白菜价甚至 0 元； • 命令行 + VS Code 双模式无缝衔接，既保留极客手感，又不失 IDE 的所见即所得。</p><p data-pid=\"EBC1fPoJ\">AI 编程的门槛从未如此低，国产模型的能力也从未如此高。接下来，就让你的下一行代码在 Qwen-Coder 的 480B 参数里诞生，在 GLM-4.5 的推理链里成长，在 Kimi K2 的 128K 长河中奔腾。祝你玩得开心，码得畅快！有问题欢迎联系我沟通：<code>ao-ai-coding</code> </p>",
        "is_labeled": false,
        "visited_count": 1219,
        "thumbnails": [
          "https://pic1.zhimg.com/v2-c0ef06e58c582cf03ee035bd02b179cc.jpg?source=7e7ef6e2&needBackground=1",
          "https://pic1.zhimg.com/50/v2-cbef8cb741c008b68ee845731679b71e_720w.jpg?source=b6762063",
          "https://pica.zhimg.com/50/v2-f0ff47b11010d85c67453941bf2586cd_720w.jpg?source=b6762063",
          "https://pic1.zhimg.com/50/v2-e87e0a8d3f7212c75d71d6c962e7aca6_720w.jpg?source=b6762063",
          "https://pic1.zhimg.com/50/v2-192947cdb14e3be208b349835d2776be_720w.jpg?source=b6762063",
          "https://pica.zhimg.com/50/v2-c789765584a414c03d75a639112e79f9_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-d5b4b3351f19064d9874110a12bd3cd4_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-bc6386fb70b6bfa5d439a17c8bb43c74_720w.jpg?source=b6762063",
          "https://pica.zhimg.com/50/v2-78390f5287207d4e29a40938754a05d4_720w.jpg?source=b6762063",
          "https://pica.zhimg.com/50/v2-cfc7b167daac8015d2f22c108822234f_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-fa46557a810f6386b5bbecf78ab03fdc_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-e5937ec5369de06f1a9cb950e5b95444_720w.jpg?source=b6762063",
          "https://pica.zhimg.com/50/v2-62221f97ef769a27cc862e6bf2557c54_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-16691d07e5175986ed9f230b6d256cff_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-f68bfe7f523bf56b47445aaf6827a45d_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-a369ce7b306a17db3046171588a037ef_720w.jpg?source=b6762063",
          "https://pic1.zhimg.com/50/v2-b155fb8e34622b2509eab9a9b78b407a_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-c0ef06e58c582cf03ee035bd02b179cc_720w.jpg?source=b6762063"
        ],
        "favorite_count": 71,
        "article_type": "normal",
        "is_navigator": false,
        "navigator_vote": false,
        "vote_next_step": "vote"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"article\", \"id\": 1940572974798337908}",
      "attached_info": "CqcPCKfEivLsuv65mgEQBxoJMjYxODQ5MzIyIOHbicUGKBgwAkA2SjAKBkl0ZW1DRhIgZG9jX3R5cGU6IEFydGljbGUKaWQ6IDI2MTc0MDE3MwoYACAAOgBiIGYwNzViYjAwYzI5ZjRjMzM2MjVhNTliYjM1MWFlMGE3chMxOTQwNTcyOTc0Nzk4MzM3OTA4ggFfaHR0cHM6Ly9waWMxLnpoaW1nLmNvbS92Mi1jMGVmMDZlNThjNTgyY2YwM2VlMDM1YmQwMmIxNzljYy5qcGc/c291cmNlPTdlN2VmNmUyJm5lZWRCYWNrZ3JvdW5kPTGqAQlyZWNvbW1lbmTCASAxNjM0MzNmNjAzMjQ3YzI2MjI0MmUwMzQ0MWQ2NTZjZvIBCggMEgZOb3JtYWzyASgIChIkYmIzNDAyOTAtMWU0Mi00MzQxLWFjNjEtZDZhZmEzYTU4Yjhk8gEGCAsSAjEwggIAiAKQlaT5jDOSAiAxNjM0MzNmNjAzMjQ3YzI2MjI0MmUwMzQ0MWQ2NTZjZpoCAMoCFlNob3JJbnRlcmVzdFdlaWdodFJ1bGXKAhVVc2VyTGNuRXhpdFdlaWdodFJ1bGXaAgZJdGVtQ0boAgP6AgtOT1JNQUxfRkxPV4oDIGZiNGMzNjI4ZjM1ZDQ0ZGJhYWY3NjUyODMyOTcxMWQ0mgMNCgJ2MhAAGgVvdGhlcqgDwwnYAwDqAxV0ZXh0QWxsU2l0ZU12SXRlbUNGVjL6A+QJEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERTotCAIQgQsYtwMiI3YyLWFjZTZmYjc1NjVkZTUxYWFhM2Q3MjhlYTRhZjhhZjhkOi0IAhCkCxi+CiIjdjItY2JlZjhjYjc0MWMwMDhiNjhlZTg0NTczMTY3OWI3MWU6LQgDEJcMGIwBIiN2Mi01ZmMzYzQ2Zjc4NjM4ZmRlZWQ5ZjkwMmE2MzhhNzZiNzotCAIQ2AoYxwEiI3YyLTE1ZTRiMTk0MTY0ZGY0YzQ1MmY0OTgzZDVlYzA4Njg0Oi0IAhCKDxj6ByIjdjItZjBmZjQ3YjExMDEwZDg1YzY3NDUzOTQxYmYyNTg2Y2Q6LQgEEN0LGOoHIiN2Mi1lODdlMGE4ZDNmNzIxMmM3NWQ3MWQ2Yzk2MmU3YWNhNjotCAIQ6QIY+gYiI3YyLTRiMzQyOGNjYTM2N2VlYTVmMGU3NjRhMThlMWY0YmQ4Oi0IAhCzDRi8ByIjdjItMTkyOTQ3Y2RiMTRlM2JlMjA4YjM0OTgzNWQyNzc2YmU6LQgCEMkJGIAGIiN2Mi1jNzg5NzY1NTg0YTQxNGMwM2Q3NWE2MzkxMTJlNzlmOTotCAIQgQcY6gUiI3YyLWQ1YjRiMzM1MWYxOTA2NGQ5ODc0MTEwYTEyYmQzY2Q0Oi0IAhDHBxj6AyIjdjItMGZlY2JmN2IxYTU4YTNkZDkxZDkzZDA3ZjU4YWNmYjA6LQgCEMINGPcEIiN2Mi05NTc1MDIzNGEyZWY2N2I0YTIwZTdlYjdhMDYxYjQ0MjotCAIQoAsYyAUiI3YyLWJjNjM4NmZiNzBiNmJmYTVkNDM5YTE3YzhiYjQzYzc0OiwIAxDQBxhoIiN2Mi0zMGVmZGVhYjMwZjIxZDEyZmM4ZDMxOWVjYmYwZWU3OTotCAIQ0gYYvQMiI3YyLWYzOTVmNjU1YTczZDIwMDQ4OGEwMjlkYzU0ZDVjMjZiOi0IAhCZERi4ByIjdjItNzgzOTBmNTI4NzIwN2Q0ZTI5YTQwOTM4NzU0YTA1ZDQ6LQgCEIoJGKAEIiN2Mi1lMzY3YTQxNmY3YmJiZmNhZGJiN2QzMzJkNTM1MTM3ODotCAIQgBQYzwUiI3YyLWNmYzdiMTY3ZGFhYzgwMTVkMmYyMmMxMDg4MjIyMzRmOi0IAhCAFBjBCiIjdjItZmE0NjU1N2E4MTBmNjM4NmI1YmJlY2Y3OGFiMDNmZGM6LQgCEOoTGJoIIiN2Mi1lNTkzN2VjNTM2OWRlMDZmMWE5Y2I5NTBlNWI5NTQ0NDotCAIQrRAYzQUiI3YyLTYyMjIxZjk3ZWY3NjlhMjdjYzg2MmU2YmYyNTU3YzU0Oi0IAxCmERiUByIjdjItMTY2OTFkMDdlNTE3NTk4NmVkOWYyMzBiNmQyNTZjZmY6LQgCEOITGNEHIiN2Mi1mNjhiZmU3ZjUyM2JmNTZiNDc0NDVhYWY2ODI3YTQ1ZDotCAIQsw4YjgUiI3YyLWEzNjljZTdiMzA2YTE3ZGIzMDQ2MTcxNTg4YTAzN2VmOi0IAhCAFBjACyIjdjItYjE1NWZiOGUzNDYyMmIyNTA5ZWFiOWE5Yjc4YjQwN2E6LQgCEP8RGNQHIiN2Mi1jMGVmMDZlNThjNTgyY2YwM2VlMDM1YmQwMmIxNzljY4AEAIgEAJIEBk5vcm1hbJoEATOgBACoBACwBAC6BAJhacIEAzQwMMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAIGYRmj+BBQAAAAAAAAAAiQU4M0eykDLZP5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AUKkAYAoAY4qAYBkgIuCgkyNjE4NDkzMjISEzE5NDA1NzI5NzQ3OTgzMzc5MDgYByIKSU1BR0VfVEVYVA==",
      "action_card": false
    },
    {
      "id": "55_1755822230.212",
      "type": "feed",
      "offset": 55,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1755822230,
      "updated_time": 1755822230,
      "target": {
        "id": "1891615949016258529",
        "type": "answer",
        "url": "https://api.zhihu.com/answers/1891615949016258529",
        "author": {
          "id": "51c0c6a781710a5454669c647dbc641e",
          "url": "https://api.zhihu.com/people/51c0c6a781710a5454669c647dbc641e",
          "user_type": "people",
          "url_token": "shi-mu-mi-lin",
          "name": "天机宸",
          "headline": "",
          "avatar_url": "https://pica.zhimg.com/50/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=b6762063",
          "is_org": false,
          "gender": 1,
          "followers_count": 78,
          "is_following": false,
          "is_followed": false
        },
        "created_time": 1743776386,
        "updated_time": 1743776386,
        "voteup_count": 2,
        "thanks_count": 0,
        "comment_count": 1,
        "is_copyable": false,
        "question": {
          "id": "67276853",
          "type": "question",
          "url": "https://api.zhihu.com/questions/67276853",
          "author": {
            "id": "89303fb455e2c9808f86ad283263fed9",
            "url": "https://api.zhihu.com/people/89303fb455e2c9808f86ad283263fed9",
            "user_type": "people",
            "url_token": "pian-pian-1979",
            "name": "翩翩1979",
            "headline": "心理咨询师",
            "avatar_url": "https://picx.zhimg.com/50/v2-8976f224fdc240f7de0340b1fe810a1b_l.jpg?source=b6762063",
            "is_org": false,
            "gender": 1,
            "followers_count": 132,
            "is_following": false,
            "is_followed": false
          },
          "title": "《盐铁论》，是一本什么样的书？",
          "created": 1509106519,
          "answer_count": 0,
          "follower_count": 0,
          "comment_count": 3,
          "bound_topic_ids": [
            113,
            8977,
            24481,
            31831,
            196534
          ],
          "is_following": true,
          "excerpt": "",
          "relationship": {
            "is_author": false
          },
          "detail": "",
          "question_type": "normal"
        },
        "excerpt": "桑弘羊和贤良文学都说的是经济的不同面，然而国家现实实际是在不断变化的，国家经济问题也是在不断变化的，并没有一本万世的定律。武帝时期，国家经济达到一定高度，就需要花钱解决悬于头顶的匈奴之剑，同时豪强四起渐有地方做大之势，因此武帝无论打仗，裁撤宗室还是广收商业税都是适合当时的经济现实。但是，在武帝晚年，战争对国家消耗过多，好大喜功自私寡恩以至上下离心，国家经济面已经和武帝初年不尽相同，因此昭帝时开始…",
        "excerpt_new": "桑弘羊和贤良文学都说的是经济的不同面，然而国家现实实际是在不断变化的，国家经济问题也是在不断变化的，并没有一本万世的定律。武帝时期，国家经济达到一定高度，就需要花钱解决悬于头顶的匈奴之剑，同时豪强四起渐有地方做大之势，因此武帝无论打仗，裁撤宗室还是广收商业税都是适合当时的经济现实。但是，在武帝晚年，战争对国家消耗过多，好大喜功自私寡恩以至上下离心，国家经济面已经和武帝初年不尽相同，因此昭帝时开始…",
        "preview_type": "default",
        "preview_text": "",
        "reshipment_settings": "disallowed",
        "content": "<p></p><p data-pid=\"FuiMRNRY\">桑弘羊和贤良文学都说的是经济的不同面，然而国家现实实际是在不断变化的，国家经济问题也是在不断变化的，并没有一本万世的定律。武帝时期，国家经济达到一定高度，就需要花钱解决悬于头顶的匈奴之剑，同时豪强四起渐有地方做大之势，因此武帝无论打仗，裁撤宗室还是广收商业税都是适合当时的经济现实。但是，在武帝晚年，战争对国家消耗过多，好大喜功自私寡恩以至上下离心，国家经济面已经和武帝初年不尽相同，因此昭帝时开始变革，也是适应于当时情况。事实上，东汉以降，士族做大，中央沦落，国家四分五裂，也正说明了武帝打击豪强，剪灭宗室的正确。</p><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"pbPW2PTj\">然而，绝大部份人都是有时代局限性的，只会立足于自己出身家庭，和经历的时代，做出评论和判断。司马迁对于武帝和武帝近臣的批评，一定程度上受自身经历的影响，所以会和贤良文学一样的观念。历代大一统王朝的灭亡都起源于经济破产，而每次破产都有人试图改革而不能，其中不乏统治者的庸懦和短视，更有士人和普通人对于经济客观规律的无知和误导。国家发展和昌盛，不仅需要优秀的领导者，更需要优秀的人民。</p><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"REgUjszL\">希望我们这个时代能跳出祖先们血泪写下的历史，跳出历史周期律。</p>",
        "relationship": {
          "is_thanked": false,
          "is_nothelp": false,
          "voting": 0
        },
        "is_labeled": false,
        "visited_count": 770,
        "favorite_count": 1,
        "answer_type": "normal",
        "is_navigator": false,
        "navigator_vote": false,
        "vote_next_step": "vote"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1891615949016258529}",
      "attached_info": "CsoFCKfEivLsuv65mgEQBBoJNzIxMzI1NjgwIILVv78GKAIwAUA3SjIKIFRTX1NPVVJDRV9GT0xMT1dfUVVFU1RJT05fQU5TV0VSEggxOTEzODg3MxgAIAA6AFoIMTkxMzg4NzNiIGYwNzViYjAwYzI5ZjRjMzM2MjVhNTliYjM1MWFlMGE3chMxODkxNjE1OTQ5MDE2MjU4NTI5igEINjcyNzY4NTOqAQlyZWNvbW1lbmTCASA1MWMwYzZhNzgxNzEwYTU0NTQ2NjljNjQ3ZGJjNjQxZfIBCggMEgZOb3JtYWzyASgIChIkNzdlM2FlZTAtNzBiYS00NTljLTgyODQtODExYmE3ODQ0MDgw8gEGCAsSAjEwggIAiAKRlaT5jDOSAiA1MWMwYzZhNzgxNzEwYTU0NTQ2NjljNjQ3ZGJjNjQxZZoCAMoCFlNob3JJbnRlcmVzdFdlaWdodFJ1bGXKAhVVc2VyTGNuRXhpdFdlaWdodFJ1bGXKAhRDb250ZW50QWdlV2VpZ2h0UnVsZdoCIFRTX1NPVVJDRV9GT0xMT1dfUVVFU1RJT05fQU5TV0VS6AIC+gILTk9STUFMX0ZMT1eKAyBmYjRjMzYyOGYzNWQ0NGRiYWFmNzY1MjgzMjk3MTFkNJoDDQoCdjIQABoFb3RoZXKoA4IG2AMA6gMYZm9sbG93LXF1ZXN0aW9uLXJlY2FsbGVy+gMfEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERYAEAIgEAJIEBk5vcm1hbJoEATKgBACoBACwBAC6BAJhacIEAzQwMMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAYKhBpj+BBQAAAAAAAAAAiQU4M0eykDLZP5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AUKkAYAoAY5qAYDkgIuCgk3MjEzMjU2ODASEzE4OTE2MTU5NDkwMTYyNTg1MjkYBCIKSU1BR0VfVEVYVA==",
      "action_card": false
    },
    {
      "id": "56_1755822230.593",
      "type": "feed",
      "offset": 56,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1755822230,
      "updated_time": 1755822230,
      "target": {
        "id": "3613836650",
        "type": "answer",
        "url": "https://api.zhihu.com/answers/3613836650",
        "author": {
          "id": "e0e2200ae34dc34b099ee31e9b810e8e",
          "url": "https://api.zhihu.com/people/e0e2200ae34dc34b099ee31e9b810e8e",
          "user_type": "people",
          "url_token": "26-82-26-97-3",
          "name": "北月",
          "headline": "修行→命理",
          "avatar_url": "https://pic1.zhimg.com/50/v2-3a37cd8d5387de601f05a0a8b9b785aa_l.jpg?source=b6762063",
          "is_org": false,
          "gender": 1,
          "followers_count": 179,
          "is_following": false,
          "is_followed": false
        },
        "created_time": 1725285732,
        "updated_time": 1731201465,
        "voteup_count": 104,
        "thanks_count": 5,
        "comment_count": 3,
        "is_copyable": false,
        "question": {
          "id": "311119387",
          "type": "question",
          "url": "https://api.zhihu.com/questions/311119387",
          "author": {
            "id": "df7aaeb89541f5670e06d79198e1988f",
            "url": "https://api.zhihu.com/people/df7aaeb89541f5670e06d79198e1988f",
            "user_type": "people",
            "url_token": "qing-zheng-mi-tao",
            "name": "清蒸蜜桃",
            "headline": "",
            "avatar_url": "https://pic1.zhimg.com/50/v2-85e47b29e270cbe837cbbd8c55be2493_l.jpg?source=b6762063",
            "is_org": false,
            "gender": 1,
            "followers_count": 0,
            "is_following": false,
            "is_followed": false
          },
          "title": "怎么样才能变聪明，提高脑力？",
          "created": 1549185140,
          "answer_count": 0,
          "follower_count": 0,
          "comment_count": 1,
          "bound_topic_ids": [
            5633,
            13350
          ],
          "is_following": false,
          "excerpt": "",
          "relationship": {
            "is_author": false
          },
          "detail": "",
          "question_type": "normal"
        },
        "excerpt": "据我观察，社会大众在聊天过程中表现出来的观念就是，没有人相信一个人是可以变聪明的，没有一个人真的相信脑力是可以提高的。直到有一天我碰到了他，从他这里，我知道了提高脑力的方法，仅仅坚持一年智力就提升很明显。 1.戒色戒色，戒色，戒色， 为什么儒释道三家都提倡戒色，为什么很多人不遗余力的在网上告诫大家要戒色。因为他淋过雨，就想给大家撑一把伞，因为戒色真的可以提高脑力，但同时戒色很难，所以需要经常被提醒一…",
        "excerpt_new": "据我观察，社会大众在聊天过程中表现出来的观念就是，没有人相信一个人是可以变聪明的，没有一个人真的相信脑力是可以提高的。直到有一天我碰到了他，从他这里，我知道了提高脑力的方法，仅仅坚持一年智力就提升很明显。 1.戒色戒色，戒色，戒色， 为什么儒释道三家都提倡戒色，为什么很多人不遗余力的在网上告诫大家要戒色。因为他淋过雨，就想给大家撑一把伞，因为戒色真的可以提高脑力，但同时戒色很难，所以需要经常被提醒一…",
        "preview_type": "default",
        "preview_text": "",
        "reshipment_settings": "disallowed",
        "content": "<p data-pid=\"gBWhub50\">据我观察，社会大众在聊天过程中表现出来的观念就是，没有人相信一个人是可以变聪明的，没有一个人真的相信脑力是可以提高的。直到有一天我碰到了他，从他这里，我知道了提高脑力的方法，仅仅坚持一年智力就提升很明显。</p><h2>1.戒色</h2><p data-pid=\"YdLLT6zt\">戒色，戒色，戒色，</p><p data-pid=\"YStLp2tz\">为什么儒释道三家都提倡戒色，为什么很多人不遗余力的在网上告诫大家要戒色。因为他淋过雨，就想给大家撑一把伞，因为戒色真的可以提高脑力，但同时戒色很难，所以需要经常被提醒一下。</p><p data-pid=\"xV2yhkda\">中医讲肾主髓，髓入脑，肾水不足就会使得脑髓失养，脑髓有问题脑力自然就不够用了，脑子自然就变笨了。另外肾属水，肝属木，水生木，肾不好是会影响肝脏运行的。耳对应肾，眼睛对应肝，知道为啥古人说的聪明吗？聪明全称耳聪目明，一个人耳目不灵敏，感知不细微，脑子发育就容易有问题。太色的朋友应该有大脑变愚笨的真切体验吧。</p><p data-pid=\"HMAiBziB\">所以说，戒色可以让脑子发育的更快更好，戒色可以提高脑力，戒色可以让人变得更聪明。</p><h2>2.爱玩但不贪婪</h2><p data-pid=\"sM1KnXJ8\">爱玩的孩子往往更聪明，这一点好多家长都知道，但很多家长不知道的是爱玩可以提高智商的前提是不能贪玩。 有些家长常说，我家孩子很聪明，脑子灵活，就是不爱学习。</p><p data-pid=\"JO3UfCjb\">每次我听到这些都得叹息一声，又一个好孩子即将养废。本来这种爱玩的孩子是很有机会提升脑力的，因为他/她们在玩耍的过程中构建了很多知识概念、思维模型，他们在玩耍的过程中会碰到很多问题，在解决问题的时候，他们的脑力就在无形之中提高。遗憾的是，过犹不及，虽然思维模型建立了，但是玩耍中遇到的问题相对来说有些初级了，如果因为孩子贪玩而没有在学业上下功夫，那么孩子在玩耍中轻松快乐的建立起的知识概念和思维模型就不能够被强化扩展。结果很明显，脑力提高停滞不前，学习也受到了很大影响。</p><p data-pid=\"NNGZjhIf\">所以说，爱玩但是不贪婪，不贪玩，这样可以提高智商。</p><h2>3.保持较低的欲望</h2><p data-pid=\"VruITDWL\">欲望太甚很容易焦虑，欲望变大压力就会紧跟着变大，有过工作经验的朋友应该很清楚，只要你今天需要完成的工作比往常多很多，那最终的结果就是今天的任务交付很差劲，要不就是任务完成的数量不足，要不就是任务虽然交付了但质量不行。起因就在于工作量不合理的增加，工作量是领导的欲望，工作量大是你的压力，你一焦虑，你压力一大，脑力就下降了。你长时间焦虑，长时间压力大，脑子就容易坏掉。所以有经验的老板是会缓慢地给员工增加工作量滴。</p><p data-pid=\"hy0OIRDw\">上面是个比喻，用在你身上也是这样，你欲望太大，必然给自己不停地施加压力，压力越大你越焦虑，最后智力永久地下降了，你竟然没有意识到。所以说保持较低的欲望就是对大脑最好的保养和保护。</p><h2>4.遭逢大难</h2><p data-pid=\"1se3mmz_\">有句老话叫大难不死必有后福，其实这样说不准确，准确的来讲是一个人在大难中活下来后，他变聪明了，变智慧了，然后在周围人眼中看到的就是他在遭逢大难后变得有福气了。</p><p data-pid=\"GEcRWSyr\">不幸有过大难的朋友，应该能明白，在大难中你要面对的是什么，是生死存亡，除此之外再无其他。这种境遇不是简简单单的一句话可以描绘出来的，所以说，有时候语言文字真的很无力，阅读者能读出来多少全凭缘分。你们应该有这种感觉，在生死关头，你的全身上下，你各种脑区，会紧急开一次会，你在这时候，脑子里再也没有乱七八糟的想法，你的注意力不会胡乱放在外界，甚至不会放在身体的其他部位，你会集中全部精力，来考虑怎么才能活下来，甚至你都不会考虑后事。你此时此刻，全部心神都在求生上，甚至这种状态不能持续太久，否则你的身体其他器官会因为心神的忽视而遭受极大的伤害。</p><p data-pid=\"0MJedApd\">因为这一次生死会议，你的生命得到了极大的升华，你的脑区变得更加精炼，大难临头带给你的不仅仅是脑力智商的提升，还有这一次宝贵的精神财富可以永久挖掘。</p><p data-pid=\"3f4wIdZw\">希望大家不要碰到绝境，希望你能平平安安。</p><h2>5.广交朋友</h2><p data-pid=\"BmtWbae_\">广交朋友为什么能提升脑力呢？这在于交朋友过程中你的大脑会经常分泌多巴胺和催产素两种激素，而这两种激素也是增加神经元，提高智商的辅助器（注意不是瘾君子行为得来的激素，这种有害无益）。交朋友能让你放松，能让你快乐，能帮助你提高智商。</p><h2>6.绝处逢生</h2><p data-pid=\"vtedXnly\">当你不幸遭逢大难，绝处逢生之后，你就拥有了宝贵的精神财富。劫后余生让你有机会细细品味，在这个时候，你脑力得到了提升，你也有机会好好想想自己到底需要什么，到底想成为一个什么的人。如果你能想明白，如果你能砍掉从前的胡思乱想和注意力浪费，那你还能变得更聪明一些。</p><h2>7.户外跑步</h2><p data-pid=\"soLnUi_I\">户外跑步是可以提升脑力的，这科学报告里多有提及。但注意一点儿，一定得是户外。</p><h2>8.补充微量元素，尤其是锌片</h2><p data-pid=\"FnXrl90d\">大脑升级，脑力提高是需要物质条件的，就像盖宫殿楼宇、高楼大厦，没有建筑材料是盖不起来的。所以生活中除了正常饮食，还需要补充部分微量元素，为什么不能从正常食物中获取呢？因为现在的食品含量太少了，你得吃多少东西才能攒够需要的微量元素，而这些微量元素又是提升脑力的重要条件，所以不得不额外补充。</p><p data-pid=\"Fs15_kGS\">以上随便一点你能做到都可以让你变聪明。</p><p data-pid=\"ztn0sRJW\">注意：不要随意分享给你的好朋友，无缘者得知无益</p>",
        "relationship": {
          "is_thanked": false,
          "is_nothelp": false,
          "voting": 0
        },
        "is_labeled": true,
        "visited_count": 7457,
        "favorite_count": 272,
        "answer_type": "normal",
        "is_navigator": false,
        "navigator_vote": false,
        "vote_next_step": "vote"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 3613836650}",
      "attached_info": "CvEFCKfEivLsuv65mgEQBBoJNjg3MTMxNDk2IOSK17YGKGgwA0A4Si8KBkl0ZW1DRhIfZG9jX3R5cGU6IEFuc3dlcgppZDogNjYxODI3NTg3ChgAIAA6AEovCgZJdGVtQ0YSH2RvY190eXBlOiBBbnN3ZXIKaWQ6IDY2MTgyNzU4NwoYACAAOgBaCDMxNDE0MTEwYiBmMDc1YmIwMGMyOWY0YzMzNjI1YTU5YmIzNTFhZTBhN3IKMzYxMzgzNjY1MIoBCTMxMTExOTM4N6oBCXJlY29tbWVuZMIBIGUwZTIyMDBhZTM0ZGMzNGIwOTllZTMxZTliODEwZThl8gEKCAwSBk5vcm1hbPIBKAgKEiRjZDlmZmQ2ZS04OWUyLTQ2NzAtODU3Yy04MzU2ZjIwYzdmMTTyAQYICxICMTCCAgCIApGVpPmMM5ICIGUwZTIyMDBhZTM0ZGMzNGIwOTllZTMxZTliODEwZThlmgIAygIWU2hvckludGVyZXN0V2VpZ2h0UnVsZcoCFVVzZXJMY25FeGl0V2VpZ2h0UnVsZcoCFENvbnRlbnRBZ2VXZWlnaHRSdWxlygIXVGVzdGVkQW5kV29ya1dlaWdodFJ1bGXaAgZJdGVtQ0boAgL6AgtOT1JNQUxfRkxPV4oDIGZiNGMzNjI4ZjM1ZDQ0ZGJhYWY3NjUyODMyOTcxMWQ0mgMNCgJ2MhAAGgVvdGhlcqgDoTrYAwDqAxV0ZXh0QWxsU2l0ZU12SXRlbUNGVjL6Ax8SDFVOS05PV05fTU9ERSAAKg1OT19JTUFHRV9NT0RFgAQAiAQAkgQGTm9ybWFsmgQBMqAEAKgEALAEALoEBm1hbnVhbMIEAzE3MMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAQK9loT+BBQAAAAAAAAAAiQU4M0eykDLZP5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AUKkAYAoAY6qAYAkgIlCgk2ODcxMzE0OTYSCjM2MTM4MzY2NTAYBCIKSU1BR0VfVEVYVA==",
      "action_card": false
    },
    {
      "id": "57_1755822230.409",
      "type": "feed",
      "offset": 57,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1755822230,
      "updated_time": 1755822230,
      "target": {
        "id": "1906675277490263424",
        "type": "answer",
        "url": "https://api.zhihu.com/answers/1906675277490263424",
        "author": {
          "id": "e410e60cd82d2bcdba1922650b3f0382",
          "url": "https://api.zhihu.com/people/e410e60cd82d2bcdba1922650b3f0382",
          "user_type": "people",
          "url_token": "tai-shuai-you-suo-hao-zhuan",
          "name": "太帅有所好转",
          "headline": "为什么包子和饺子味道不同",
          "avatar_url": "https://picx.zhimg.com/50/v2-c7ebcd11c551ac2d1b8202386f7d4ef4_l.jpg?source=b6762063",
          "is_org": false,
          "gender": -1,
          "followers_count": 2274,
          "is_following": false,
          "is_followed": false
        },
        "created_time": 1747366810,
        "updated_time": 1752138259,
        "voteup_count": 14286,
        "thanks_count": 1249,
        "comment_count": 1589,
        "is_copyable": false,
        "question": {
          "id": "1905780776328475901",
          "type": "question",
          "url": "https://api.zhihu.com/questions/1905780776328475901",
          "author": {
            "id": "470b237277fa1f7c62eb11578a0a3673",
            "url": "https://api.zhihu.com/people/470b237277fa1f7c62eb11578a0a3673",
            "user_type": "people",
            "url_token": "pian-bo-z",
            "name": "嘿 开心一点",
            "headline": "",
            "avatar_url": "https://pic1.zhimg.com/50/v2-da2827cf56cfb491a478171535191c0c_l.jpg?source=b6762063",
            "is_org": false,
            "gender": -1,
            "followers_count": 4,
            "is_following": false,
            "is_followed": false
          },
          "title": "晚上突然想吃梦龙和男朋友讲，他说配送费太贵了不值，让我自己下楼买，我特别不高兴，吵架了，是谁的问题?",
          "created": 1747153544,
          "answer_count": 0,
          "follower_count": 0,
          "comment_count": 113,
          "is_following": false,
          "excerpt": "",
          "relationship": {
            "is_author": false
          },
          "detail": "",
          "question_type": "normal"
        },
        "excerpt": "这还没结婚呢。 我婚后，发现我和媳妇儿，我们自身都有着对方难以接受的缺点，是真的没法接受的那种。 于是，我们都没有说，很默契的给彼此定了条规矩：谁看不惯接受不了，谁去处理。 打比方说：她有个问题，比如厨房有袋零食需要用剪刀拆开，她去客厅取了剪刀，拆开后，会把剪刀顺手放在厨房的某个地方。 对此，我很不爽，因为这把剪刀的归属地应该在客厅。 按照我们的既定规矩，这时候不爽的是我，我无权责怪她，我只能选择自…",
        "excerpt_new": "这还没结婚呢。 我婚后，发现我和媳妇儿，我们自身都有着对方难以接受的缺点，是真的没法接受的那种。 于是，我们都没有说，很默契的给彼此定了条规矩：谁看不惯接受不了，谁去处理。 打比方说：她有个问题，比如厨房有袋零食需要用剪刀拆开，她去客厅取了剪刀，拆开后，会把剪刀顺手放在厨房的某个地方。 对此，我很不爽，因为这把剪刀的归属地应该在客厅。 按照我们的既定规矩，这时候不爽的是我，我无权责怪她，我只能选择自…",
        "preview_type": "default",
        "preview_text": "",
        "reshipment_settings": "disallowed",
        "content": "<p data-pid=\"r4jxiAQK\">这还没结婚呢。</p><p data-pid=\"o2lXKiW0\">我婚后，发现我和媳妇儿，我们自身都有着对方难以接受的缺点，是真的没法接受的那种。</p><p data-pid=\"KvzXAdjL\">于是，我们都没有说，很默契的给彼此定了条规矩：谁看不惯接受不了，谁去处理。</p><p data-pid=\"bXQ3B69y\">打比方说：她有个问题，比如厨房有袋零食需要用剪刀拆开，她去客厅取了剪刀，拆开后，会把剪刀顺手放在厨房的某个地方。</p><p data-pid=\"kxELdtkO\">对此，我很不爽，因为这把剪刀的归属地应该在客厅。</p><p data-pid=\"xLh4_d5P\">按照我们的既定规矩，这时候不爽的是我，我无权责怪她，我只能选择自己拿着剪刀，放回它的归属地。</p><p data-pid=\"ZftoeU1S\">再打比方说：她受不了我裤衩和袜子直接丢进洗衣机里。</p><p data-pid=\"DTLI1rfP\">那么下次她发现的时候，她就必须要解决这个问题，比如分开洗，或者她手洗。而不能通过骂我来解决这个问题。</p><p data-pid=\"TkefdoJl\">因为这些事情和习惯，在我们各自看来，都是没有问题的。</p><p data-pid=\"Ccqdf-3u\">她觉得，剪刀放就放在那儿了，下次用去那个位置取不就行了？</p><p data-pid=\"fsz-8-fs\">我觉得，洗衣机还有高温杀菌杀毒功能，洗完还要高温烘干，为啥不行？</p><p data-pid=\"c7JCrQT6\">我们无法从问题的本质上去说服对方，那么就...谁不爽，谁解决。</p><p data-pid=\"8OqMyQde\">换到题主的问题。</p><p data-pid=\"tLZeCKai\">如果我们家里出了这个问题，基本上结局就是：</p><p data-pid=\"yGxLjmqW\">她想吃，但我觉得配送费不值得，她不想动弹，那么我既不能指责她想吃这件事，也不能指责她想点外送这件事，因为她舍得，她觉得没毛病。</p><p data-pid=\"eIBZeEsh\">那么我如果想改变这个结果，只能我自己来解决，于是方式就是：</p><p data-pid=\"Aq32qFix\">我会起身，下楼，用我自己的劳动去换取这6元的节省。</p><p data-pid=\"D3YSLES0\">有趣的事儿这就来了。</p><p data-pid=\"SDUiqyl-\">我不能保证，她能不能及时吃到。</p><p data-pid=\"jziFMJlS\">因为我也许会在路过某个烧烤摊的时候，就进去了。</p><p data-pid=\"ftM4Jugb\">当然，我要是进去了，她也不能指责我，虽然她不爽但她不能干涉我的行为。</p><p data-pid=\"deqWTGAF\">她可以选择的就是，要么在家里等着我买回去。</p><p data-pid=\"vrO7ie4d\">要么...</p><p data-pid=\"ra-UX3Ys\">一起下楼来吃烧烤。</p><p data-pid=\"zAx1ZfDx\">日子么，互相理解和包容，多为对方考虑，少点指责和猜疑，就好了。</p><p data-pid=\"dbokarJR\">你不爽？你自己解决去，不要去怪别人。</p><p data-pid=\"10uVo6Vl\">因为在人家那里，人家的这个行为，完全正确。</p><p data-pid=\"ltuAD9Yr\"><b>-------------------二更-------------------</b></p><p data-pid=\"81bZ3YXG\">评论蛮多，我发现比较有意思的事情。</p><p data-pid=\"76GWYI0Y\">感觉这样挺好的，都是已婚人士。感觉这样有毛病的，都是未婚人士。</p><p data-pid=\"aWC8KLAZ\">所以说啊...</p><p data-pid=\"RuGlGe69\">就拿这个逻辑来说的话，是真的没什么太大的问题的，但是有很多人举一些离谱的例子。</p><p data-pid=\"4JNbylPU\">嗯，我在这里祝福大家：</p><p data-pid=\"lgCrh7EC\">希望各位未婚人士未来找到的另一半，都是正常的男人，女人。</p><p data-pid=\"J09uXL1B\">而不是有着各种奇奇怪怪歪门邪道心思的另一半。</p><p data-pid=\"BwHSMzua\">因为，只要是一个接受过良好教育，并且从小生活在幸福家庭，成年后可以凭借自己双手独立，为人处世中秉承正确价值观。</p><p data-pid=\"VbiojMqg\">对的，只要是这样的人，其实在婚后，不管细节如何，大方向上永远还是会两个人共同创造更加幸福的生活的。</p><p data-pid=\"rzebzerJ\">你们评论里说的什么遗产，什么故意搞我，什么删除异性。</p><p data-pid=\"TtLaYMw-\">说真的，在已婚人士看来这都很搞笑。</p><p data-pid=\"ACthwZ5j\">拜托，怎么可能？这种大方向上的事情是人内在的底色，如果底色不同，那我、她当初都不可能选择我们作为自己的另一半。</p><p data-pid=\"F9i0MXVk\">我说的那些，都是生活中的细枝末节，说句难听的，在家庭里屁事儿都算不上。</p><p data-pid=\"zgSkte_q\">因为题主提的这个问题，在生活里的确还不如我放个屁带来的影响大。</p><p data-pid=\"pSazzwae\">毕竟我在被子里放个屁是真的可能会挨揍，但我不让我老婆晚上吃这个梦龙她是真不会生气...</p><p data-pid=\"9ucCzfNp\">婚后生活嘛，突然两个年轻人住在一起，难免会有很多习性不同的地方。</p><p data-pid=\"qoNKPDs9\">这些习惯都是从小到大刻在骨子里的，它第一并不涉及到人品问题，第二也不涉及到利益问题，它只是一个生活习惯而已。</p><p data-pid=\"eyh-MgC4\">至于我们的逻辑，其实默契的产生这个逻辑的原因，也很简单。</p><p data-pid=\"-Is4H8_S\">作为一个男人，我要是认真的告诉我老婆，你乱放东西不对，我受不了。她真的很委屈，会哭的那种。我怎么能让她因为这点小事哭呢，所以怎么办？嗯...我把东西默默地放回原位。</p><p data-pid=\"b5koxjk_\">120平米的家，走不了几步，不费劲的。</p><p data-pid=\"dayP2eIw\">作为一个女人，她跟我说那些东西不能放在一起洗的时候，我会认真的和她科普洗衣机的原理，以及高温消毒的道理，并且给她找到科普视频来看，以此证明我是对的。</p><p data-pid=\"WQ-xeMtr\">她会觉得：卧槽你怎么这么麻烦？我就是让你别丢进去而已，你说这么多？比我自己洗都麻烦。</p><p data-pid=\"4-oknuY5\">所以，她也懒得喷我了，干脆就自己动手算了。</p><p data-pid=\"2x2q5m03\">如果我们回归问题本身的话。</p><p data-pid=\"CkQAuMCy\">当我媳妇儿说她想吃一根梦龙但自己觉得配送费有点贵的时候。</p><p data-pid=\"60YXGyrC\">我真的已经在看楼下哪家烧烤店好评比较多了...</p><p data-pid=\"yicqNOwp\">而事实上，这种事情也不太会发生。</p><p data-pid=\"RmsulXRT\">因为我老婆要是喜欢吃梦龙的话，家里的冰箱不会出现【没有梦龙】这件事的。</p><p data-pid=\"qNY3GL7A\">--------------------三更------------------------</p><p data-pid=\"ZdE3d-R2\">确实没想到这个回答竟然这么多点赞，还是有很多小年轻不服气哈哈。</p><p data-pid=\"9qgY9PmJ\">真的很想说服你们。</p><p data-pid=\"WipP2IHQ\">按照不服气的人们的理论，你们以后真的，结了婚，要么是回头觉得我这个答案说的 好有道理，要么就只能鸡飞狗跳天天吵架了。</p><p data-pid=\"izKOL5BT\">真的，是随便举个生活中小例子，太多了。</p><p data-pid=\"jJsamp19\">昨天5月18日周日，我和老婆一早起床，然后约人，收拾东西，驱车到80公里的水库野餐。</p><p data-pid=\"NTUS8ySJ\">我们吃了烧烤和火锅。</p><p data-pid=\"wYoSUvYC\">晚上回家后一进门，她洗漱了就躺床上玩儿猫去了，当时已经晚上22点了。</p><p data-pid=\"4PObedNu\">而我，我赶紧抓紧时间去码字（我的兼职工作），等我做完工作已经12点了。</p><p data-pid=\"2kxFmdTP\">这时候，我起身看到丢在门口的一堆东西，其中包括从超市买来的面包，饮料，还有野餐结束后还未清洗的火锅，餐具之类的东西。</p><p data-pid=\"1l87vVs0\">于是，我把面包饮料等东西放入冰箱里，把垃圾收纳到垃圾袋里，把今天穿过的衣服丢进洗衣机里。</p><p data-pid=\"yeuQwVOl\">然后把火锅、餐具拿到厨房开始清洗。</p><p data-pid=\"VtUnRM-e\">我老婆在卧室大声问我：你在干嘛？</p><p data-pid=\"MsmzgDZs\">我说：洗锅啊。</p><p data-pid=\"H8nOipEN\">她说：累一天了，明天再洗呗。</p><p data-pid=\"_4nClNQd\">我说：也就几分钟的事，洗了就行了，你快休息吧。</p><p data-pid=\"zm4UuEdZ\">在这个事件中，我想洗吗？</p><p data-pid=\"WL3HVG03\">不，我不想，我也想赶紧躺下看看手机睡觉。</p><p data-pid=\"mRRunktV\">我有怨言吗？</p><p data-pid=\"mafhxUl5\">没，我真没。</p><p data-pid=\"2JNFcKvM\">因为锅就在那里，不是她洗，就是我洗。她能接受明天洗，这是什么不可饶恕的事情吗？</p><p data-pid=\"3gTxhzUj\">这真不是，事实上明天洗今天洗都是一样的。</p><p data-pid=\"qwhSr7Gw\">但我不能接受，所以最后的结果就是，我洗。</p><p data-pid=\"XDzjPu00\">如果按照网友的思维，这时候我应该是和她说：我跟你一样累一天了，我还开了一天的车，而你进门就躺下了，我进门还得工作，你却连个锅都不洗，还得我洗？</p><p data-pid=\"U0EVDtt4\">然后呢，说完之后呢？</p><p data-pid=\"HS0LybNd\">吵架，或者冷战，或者离家出走？然后鸡飞狗跳双方父母介入，然后其中一个人服软道歉，另一个趾高气昂？</p><p data-pid=\"LJvGkS43\">不是，日子真不是这么过的。</p><p data-pid=\"fI781MCX\">夫妻之间，也不能那样。</p><p data-pid=\"0XuP_sc6\">大家齐心合力一起把日子过好就行了。</p><p data-pid=\"fPqocIQk\">我们认为，只要进了这个门，关上门之后发生的所有事，其实都没有必要去区分你，我。</p><p data-pid=\"lNnNwEd_\">分那么清是不行的。</p><p data-pid=\"_Q44wQn1\">你弄乱的你收拾，你弄脏的你清洗，我做的够多了该你了。这是小学生才会辩解的道理。</p><p data-pid=\"oYZzvPho\">而生活，是真的不能讲道理的。</p><p data-pid=\"0IHgDOtm\">而生活，是真的不能讲道理的。</p><p data-pid=\"0we7V6kY\">再再再，祝大家幸福，哈哈！</p><p data-pid=\"klQUI2zR\">-------------------------四更---------------------------</p><p data-pid=\"rwXY9u7M\">没想到过了好几天，这条回答还有很多人看，并且评论。</p><p data-pid=\"0OSOWpaK\">非常感谢大家的相互交流。</p><p data-pid=\"0fnaW7-k\">在昨天看大家评论的时候，我又想到了一件很有意思，并且我觉得也很有用的事情（逻辑），可以分享给大家来聊聊。</p><p data-pid=\"hHcydz6C\">在刚结婚的一段时间，我发现我媳妇儿有个问题，是我很不喜欢的【习惯】。</p><p data-pid=\"1hHIokAE\">这个习惯，就有点涉及到我的【底线】了，对于这种情况，我自然就不会像前文所说的一味地自己忍着去包容对方，因为它已经碰到底线了。</p><p data-pid=\"rPO4oSaA\">事情是这样的。</p><p data-pid=\"JoYnD5uU\">我发现我媳妇儿，平时挺好的一个人，但是每次接她父母的电话时，如果对方连续几次没有听清楚她在说什么，那么她就会开始变得不耐烦，变得暴躁。</p><p data-pid=\"vO2Bx2EG\">说话的时候声音不由自主的会变大，语气会变得略带责怪和愤怒。</p><p data-pid=\"zUKvRct8\">之后我特意等她有一次打完电话和她聊了聊。</p><p data-pid=\"ghC8qrQT\">我当时的大概意思是这样的：</p><p data-pid=\"Gbyn7h4r\">我说，咱们以前读书的时候总是看到一句话，说有些人呢，总是喜欢把好的脾气和态度留给陌生人，对自己最为亲近的人反而会很不耐烦，甚至会用言语去伤害对方。</p><p data-pid=\"D39zmNgO\">我说，你总是这样跟你父母说话不太好，他们年纪大了，你又结婚了不经常回家（事实上我们最多不会超过3天就回她家一次），父母都是想多跟你聊聊。</p><p data-pid=\"4scNBKcV\">三次听不清你就说第四次，第五次，没必要发火。</p><p data-pid=\"6E4dKR9u\">你要是觉得这个电话打扰了你打游戏或者干其他的，那你就说现在有点忙待会儿再说，等你不忙的时候你回过去电话，再跟你妈慢慢聊。</p><p data-pid=\"HFlyTIH1\">没必要发脾气，你再过几年也是要当妈的人，你想想咱们的baby动不动就对你大声呵责，咱俩的心情肯定也是很糟糕的。</p><p data-pid=\"DNC-A4p8\">然后我媳妇儿就听进去了，自那以后她跟家里人说话都是和声和气的。</p><p data-pid=\"daT--3qf\">甚至有时候还会斥责我：你还说我跟我妈打电话脾气不好，你看看你自己！能不能好好跟你妈说话了？</p><p data-pid=\"4dsOwTPh\">我：......</p><p data-pid=\"Zpg7bJ5G\">当这个逻辑被双方都认可之后，其实“思想”上的习惯也会渐渐地改变。</p><p data-pid=\"tmL-I2yk\">这条逻辑会逐渐映射到我们之间。</p><p data-pid=\"YYkijEQR\">我与妻子在日常生活中，很少拌嘴，很少吵架，很少看对方不爽。有什么事都是商量着，讨论着，聊着天研究。</p><p data-pid=\"Uu4A2WfV\">因为我们都认可了这个逻辑：不要把坏的脾气丢给自己的家里人。</p><p data-pid=\"8jO_KMIG\">但是，以上一切的一切，我都要说明一个最根本的，最底层的，思维。</p><p data-pid=\"_PLROr_v\">那就是：</p><p data-pid=\"Mya3TKAA\">从我们打算结婚的那天开始，在我们心里就种下了一颗种子。</p><p data-pid=\"-NPMqmfR\"><b>我面前的这个男/女人，是在我自然死亡之前会一直陪着我的人。</b></p><p data-pid=\"0Pg8uRge\"><b>我能和他/她站在这里打印结婚证，不是因为凑合，不是因为年纪到了抓紧点，而是因为，我认可了对方。</b></p><p data-pid=\"E8OAZPyv\">当这个思维作为我们生活的底层思维的时候，其实别说这篇文章里提及到的大多数事情，就算比那些再严重一点，两点，三四点，都算不得什么事了。</p><p data-pid=\"KEulHguT\">那把剪刀在我活着的余生里，都会莫名其妙的出现在厨房中，但它并不会影响我们的婚姻，因为我会把它放回去。</p><p data-pid=\"xwqnL_9t\">各种内衣和臭袜子在我妻子的余生里，都会莫名其妙的出现在她想象不到的视线中，这也不会影响我们的婚姻，因为她会踹我一脚然后分开去洗干净。</p><p data-pid=\"ZiV1Z50j\">隔夜的锅，铺满灰尘的地板，溅的到处都是的饭渍，洒在车座椅上的食物碎屑，说好九点出门十点还在化妆的她，说好明天旅行结果早上睡不醒的我...</p><p data-pid=\"vP5S4SfE\">正是这一切，组成了我们的小日子。</p><p data-pid=\"bLyaoT4N\">这本来就是生活。</p><p data-pid=\"xKgR5Ye8\">这也仅仅是生活。</p><p data-pid=\"qkLglXZF\">---------------------------------------------------</p><p data-pid=\"iywOOh98\">最近要忙，向新的生活奋斗了，祝各位安好，幸福。</p><p data-pid=\"pKl3etlN\">这篇文章到此结束啦。</p><p class=\"ztext-empty-paragraph\"><br/></p><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"6Z3zixpv\">---------------五更--------------------------</p><p data-pid=\"SqOltgJS\">当我准备再次更新的时候，一定是被有些人气着了。</p><p data-pid=\"evC7n30H\">有人说我龟男。</p><p data-pid=\"Oin2aN7M\">还私信骂我舔狗。</p><p data-pid=\"6v2DE_z0\">现在社会如此高压，能说出这种言论的人，其实心态我还是可以理解的。</p><p data-pid=\"ZtvJOwWs\">但是我不赞同。</p><p data-pid=\"KQrfy3rp\">我从小生长在比较贫穷的家庭里，小学的时候班级里最后一个交学费的那种。</p><p data-pid=\"AXVNN8Mn\">但是，但是！</p><p data-pid=\"YpJLa0NM\">但是我的父母一直都很恩爱，虽然他们年轻的时候也脾气暴躁，但总归大方向上两个人都是一致的——想着更美好的生活前进。</p><p data-pid=\"t4X7tK3D\">这也就导致，在我的家里从来没出现过一种情况：贫贱夫妻百事哀。</p><p data-pid=\"_j2_LTMP\">我从小没体会过，贫贱夫妻，有什么可哀的？</p><p data-pid=\"m0G7nnAr\">因为钱争吵的事情几乎没有发生过。</p><p data-pid=\"IK2Up8Ur\">我的父亲外出挣钱，回到家里的第一时间我的母亲总是已经提前做好了饭等着他，甚至本来我的母亲有某件事也挺重要，她都会立马放下然后赶紧做饭。</p><p data-pid=\"cgsVxuET\">在她心里，给外出挣钱的男人准备饭菜是她生活的头等大事，没有其他事比这个更重要。</p><p data-pid=\"I09UbXka\">因为苦力活儿干了一天，累啊，饿啊。</p><p data-pid=\"_X3B7S5B\">如果放在当代社会，我母亲这样的行为是不是要被极端女拳打上类似于【龟男】这样的称呼？</p><p data-pid=\"DjLuIWQM\">我们家，从一开始住的窑洞，到后来盖了一处小砖瓦房（04年左右），再到后来盖了四间宽敞明亮的大房子（12年左右）。</p><p data-pid=\"yYRtwAyn\">再到我的父亲给我在市里付了楼房的首付（18年），给我买了一辆十万的普通小轿车（16年）。</p><p data-pid=\"rB8MSuNv\">再到...</p><p data-pid=\"lqgLJnJd\">再到前两年，我结婚的时候，我自己就掏出来十万（我知道这在知乎并不算多），缓解了父母极大地压力。</p><p data-pid=\"RLJtKhMP\">再到去年，我自己购买了一辆依然是十万出头的新的小轿车。</p><p data-pid=\"rahakChE\">再到今年，我个人的家庭存款刚刚也突破了30+，并且计划要一个可爱的baby。</p><p data-pid=\"D46ClP_t\">下一步，我和媳妇儿计划在我们这边的教育大市购买一套房子，合计了一下首付是够的，两人的公积金也几乎可以覆盖房贷。</p><p data-pid=\"nxuNVmTY\">我的母亲前段时间也说，等我有了孩子她打算把现在经营的小卖部关掉，专心给我带孩子。</p><p data-pid=\"IlsOw1eN\">如果有些看官非觉得这是龟男行为，那我也就认了吧，真的无所谓。</p><p data-pid=\"rIqYZRv5\">毕竟，我晚上躺在沙发上打王者荣耀的时候，跟我老婆说：去给我买瓶啤酒。</p><p data-pid=\"JTIiTiZf\">她是真的会去。</p><p data-pid=\"C2XJZbQ8\">但缺点就是她会顺手买五六十的炸串回来。</p><p data-pid=\"6_Y1GUkl\">毕竟，往前数3年，我的生日礼物分别是：900多的华为手环、1.7万的MacBookPro，3千的iWatch（因为换了iPhone就换了手表）。</p><p data-pid=\"SJ9aydCY\">她很舍得给我花钱，不管我买什么，合理还是不合理，都乐意给我买。但更多的时候是我舍不得。</p><p data-pid=\"D-a51q5T\">而我给她的生日礼物是：1千的金耳钉，1千的金苹果，然后去年...</p><p data-pid=\"AO9FQcUZ\">就是那辆13万的比亚迪了。</p><p data-pid=\"EfNg06o3\">我老婆问我：这她妈是给我买生日礼物还是给你自己买的？我连驾照都没有！</p><p data-pid=\"l4kHd1Ey\">我回答她：送你一辆车还送你一个司机（我俩一家公司上班的），这你都不满意？</p><p data-pid=\"cOMrbmLB\">我老婆想了想，好像还真是，但她又觉得哪里不对，“可是新车你开着舒服啊！”</p><p data-pid=\"ubKqA7Ju\">我反问，“你就说你坐着舒不舒服吧！”</p><p data-pid=\"kFvZ5mXs\">我老婆又想了想，好像就是这么回事儿。</p><p data-pid=\"CW6nJ_WF\">于是开心的把她妈给她的一万元生日红包给了我，让我看看有啥能提升她乘坐体验的东西都给买上。</p><p data-pid=\"YuMAakoL\">我把钱存起，给她从家里带了个毯子放车上。</p><p data-pid=\"iybfB5xN\">去年冬天，她每天上班路上都睡得很香。</p><p data-pid=\"03_3G4yp\">...........</p><p data-pid=\"c1a58cGj\">------------------------六更----------------------</p><p data-pid=\"2QQFn_IX\">之前也想过聊聊关于家庭财务的问题。</p><p data-pid=\"chdnDTTV\">关于谁管钱这件事...我家并没有明确的谁去管理钱这个概念。</p><p data-pid=\"qASXDn7r\">刚结婚的时候，我们的财务是这样的：</p><p data-pid=\"RdiQJyoe\">我老婆的工资她自己花，我不管也不过问。然后我负责家里的几乎一切开销，除此之外，我每个月会固定给她的一张卡里打一万进去。</p><p data-pid=\"3YRipWeh\">大概半年左右存了10万元的时候我跟她说，这个钱你放着别动了。</p><p data-pid=\"qgUCQS6f\">但是...</p><p data-pid=\"8psP2V8H\">她爷爷葬礼的时候她去磕头，我没啥事儿干看她手机（这是我的不对哈哈），发现这家伙已经花了1万元了。</p><p data-pid=\"1QD2HBw0\">要知道，她还是有工资的，每个月平均有4千5呢，不够用，还花了1万？</p><p data-pid=\"Cjn8kbEi\">我查了看。</p><p data-pid=\"iE6JxaPB\">不看不知道，一看我懵逼。</p><p data-pid=\"jdRdcyao\">那家伙，打游戏648嗷嗷充，几分钟一个，嘎嘎就是充钱，几万块钱全打游戏了。</p><p data-pid=\"_E5DVrJF\">从那之后...</p><p data-pid=\"Fpkip5vm\">我就没给她存过钱了。</p><p data-pid=\"2B1nW0Lz\">我的理由是：今年我兼职一般，挣得少，就不给你打了。</p><p data-pid=\"4zDmCn21\">然后继续她花她的工资，我花我的工资。我如果没钱的话，跟她拿个几千花花也是常有的事。</p><p data-pid=\"oAFXnx8B\">我俩都没钱的话，就开家里保险柜取钱花。</p><p data-pid=\"8SmkTA92\">保险柜里钱比较多，大部分都是结婚的时候红包什么的，都是现金。</p><p data-pid=\"Als4bekm\">还有我给她存够10万元之后，我会隔段时间去银行取个三五万现金丢进保险柜里（我有点仓鼠爱好，钱比较喜欢放现金）。</p><p data-pid=\"KdgC_hTV\">去年买车嘛，我老婆从那个【10万】卡里掏的首付，3.8万左右。</p><p data-pid=\"iXT4deG8\">剩下的贷款，每个月2000元，要还2年。这个是我在还。</p><p data-pid=\"zBB_SiOY\">然后我每个月会固定存1笔钱，2500元，这个我算了算，存2年的话，刚好够一次性还清剩余的车贷6万元。</p><p data-pid=\"-xxgsHDF\">至于她手头，我感觉应该是没钱的，那个卡里有多少钱，我也不关心，毕竟就是给她存的，给她花的，一个成年人应该有自己的分寸。</p><p data-pid=\"AI_eZx3T\">要真花完了...完了就完了吧。</p><p data-pid=\"oOA-AQTd\">所以财务方面，一直没研究过谁管钱，因为钱一直够用。</p><p data-pid=\"MWoazv-7\">花销这么大，还是够用，够用就行了，很少遇到没钱的时候。</p><p data-pid=\"_G5djETo\">其实我家里开销很大的，我无聊的时候算过一笔账，每年光是固定的开销，就已经有点恐怖了。</p><p data-pid=\"qvhjejlm\">【物业水电宽带车位费：6000元；父母亲节三八节日生日过年红包：1万2千元；通勤电费：2000元；我抽烟：12000元；人情往来算5000元；】</p><p data-pid=\"4JyvKanp\">每年固定的，雷打不动的，开销起码是4万元起步。这是还没孩子呢。</p><p data-pid=\"XvDA9dIC\">买衣服，下馆子这些都懒得算计了，太多了。我俩都比较爱吃，有啥新开的饭店，有没见过的东西，必吃！好吃的话，天天吃！</p><p data-pid=\"w-1imUPJ\">还有我每年固定更换一部手机，旧的卖了买新的，大概也要4000元左右；每年固定2次旅游，前几天还是带着双方母亲旅游，这个也要1~2万。</p><p data-pid=\"PoUh7waU\">不敢想，不能想，太多。</p><p data-pid=\"ljKH3UPV\">这件事上，她就比较混，我比较努力（自豪）。</p><p data-pid=\"836BuofK\">我俩的收入，按照公司给的标准，她每年到手大概是5万元，我到手大概是6万元。</p><p data-pid=\"1Z9IZPxY\">全靠我没日没夜的嗷嗷码字赚点外快才勉强能维持这样的生活顺便每年存个五六七八万的样子。</p><p data-pid=\"zScQkExJ\">所以，结论就是，我俩的钱，各管各的，很糊涂，说不清。</p><p data-pid=\"lKs43l63\">但掏钱的时候，都掏。比如物业费我不够了，她转我2千元去缴，这是日常的正常的行为。</p><p data-pid=\"dBBVf4Ut\">就是说，虽然各花各好像分开了，但其实也没分开，只是钱放的位置分开了而已。</p><p data-pid=\"zKbLlj2E\">等车贷打完就轻松好多了，今年没怎么存钱主要就是每个月固定要打4500元（2000车贷+2500未来一次性还清的车贷）。</p><p data-pid=\"Itxa6PlP\">下一步计划是买房子：第一套方案是教育大市购入一套房子。第二套方案是本市购入一套180+的房子，因为目前居住的120㎡确实，有点小。我很需要一个书房。</p><p data-pid=\"Smp84BXJ\">等有了孩子之后，根据实际情况二选一吧。</p><p data-pid=\"kgsC2vI2\">最后，对于【钱】这件事，我可以给大家分享一下自己的心得。</p><p data-pid=\"MqsC_VKf\">我的心得真的比较极端，所以也只是分享的作用，听一听就行。</p><p data-pid=\"r4Oa7WIK\"><b>【婚姻，不仅仅是选择一个人，同时也是在选择对方的家庭。】</b></p><p data-pid=\"Zt_wUct0\"><b>【我们都是很普通的家庭，但双方父母健康，年纪尚小，家风很正，资产健康。】</b></p><p data-pid=\"zYodUskd\"><b>【以上，如果有一条出现问题，在当初结婚之前，都会当做重要因素来进行考量。】</b></p><p data-pid=\"BlP8GY37\"><b>【这并不是说，假如我有一个病恹恹的父亲，我就不配结婚了。而是说，这个因素，也必须成为另一半会考量的重要原因之一。】</b></p><p data-pid=\"278yAgFe\"><b>【健康的父母能自己挣钱，能自己存钱，能给儿女带至少2个孩子。这对年轻夫妻来说是很大的优势，是难以想象的优势，甚至比每个月多挣一万块钱都牛逼的优势。</b></p><p data-pid=\"6rL7jPpX\"><b>那些无法拥有这些的夫妻，他们真的会超级羡慕这样的家庭。】</b></p><p data-pid=\"ZPcme3z6\"><b>【我知道这听上去有点太过于现实，但，它本身就是这样的。】</b></p><p data-pid=\"CdM_n33M\"><b>【你们结婚时没考虑，婚后自己还没稳定下来，就要开始照顾一个或者两个生病的老人，嗯，分享一下自己有多难吧...】</b></p><p data-pid=\"dINjglB7\">哦对，最后分享一个关于彩礼的问题（肯定会有人骂我，呵呵，毕竟知乎目前风气是给彩礼=龟男）。</p><p data-pid=\"dATPr-8Q\">我们结婚时候：彩礼12.8万元、金6万元、改口红包2个6666元、开皮箱钱2万元，大项基本就这些。</p><p data-pid=\"ByAA4QtM\">这些金额全都是我媳妇儿自己提的，跟丈母娘没关系，丈母娘的态度是：让女儿自己商量就行。</p><p data-pid=\"96RRN1_r\">我老婆提，我满口答应。</p><p data-pid=\"xkPZ8kLW\">因为我父母的态度是：多多少少不过几万块钱，因为几万元弄的这么两大家子心有芥蒂是很不值得的事情，不够就借点周转一下，来年好好干，还上就行。</p><p data-pid=\"IdeUAw4k\">彩礼的事情我不多聊，地区不同，环境不同，风俗不同，观念不同，尤其是在网络上大家很难达成一致意见。</p><p data-pid=\"zng_BBIF\">但我的意思跟我爹差不多：条件允许范围之内，尽可能以感情和睦为主。</p><p data-pid=\"u4Pq74FI\">七千字了，这篇回答。写书的时候码字为啥这么难呢，哎。</p><p data-pid=\"QtUPQzEt\"><b>PS：现在不给她存钱了，我自己存着呢。</b></p><p data-pid=\"a1FjpfRS\"><b>她打游戏嗷嗷充钱。</b></p><p data-pid=\"h0G1kZl4\"><b>我...股市里嗷嗷亏钱，连她也不如。TMD</b></p><p></p><p></p><p></p><p></p>",
        "relationship": {
          "is_thanked": false,
          "is_nothelp": false,
          "voting": 0
        },
        "is_labeled": false,
        "visited_count": 724459,
        "favorite_count": 7898,
        "answer_type": "normal",
        "is_navigator": false,
        "navigator_vote": false,
        "vote_next_step": "vote"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1906675277490263424}",
      "attached_info": "CvMFCKfEivLsuv65mgEQBBoJNzI3NjE5MDU3IJrnmsEGKM5vMLUMQDlKSAofVFNfU09VUkNFX1pSRUNBTExfSVRFTUNGX1VQVk9URRIfZG9jX3R5cGU6IEFuc3dlcgppZDogNzM2MDg1NzA2ChgAIAA6AFoJMTE0OTI4ODIwYiBmMDc1YmIwMGMyOWY0YzMzNjI1YTU5YmIzNTFhZTBhN3ITMTkwNjY3NTI3NzQ5MDI2MzQyNIoBEzE5MDU3ODA3NzYzMjg0NzU5MDGqAQlyZWNvbW1lbmTCASBlNDEwZTYwY2Q4MmQyYmNkYmExOTIyNjUwYjNmMDM4MvIBCggMEgZOb3JtYWzyASgIChIkYzUyMTA2ZTItZWE2Yi00YzgzLWJiMWMtZTM1NjFkNzY4ZjY18gEGCAsSAjEwggIAiAKRlaT5jDOSAiBlNDEwZTYwY2Q4MmQyYmNkYmExOTIyNjUwYjNmMDM4MpoCAMoCFlNob3JJbnRlcmVzdFdlaWdodFJ1bGXKAhVVc2VyTGNuRXhpdFdlaWdodFJ1bGXKAhRDb250ZW50QWdlV2VpZ2h0UnVsZdoCH1RTX1NPVVJDRV9aUkVDQUxMX0lURU1DRl9VUFZPVEXoAgL6AgtOT1JNQUxfRkxPV4oDIGZiNGMzNjI4ZjM1ZDQ0ZGJhYWY3NjUyODMyOTcxMWQ0mgMNCgJ2MhAAGgVvdGhlcqgD65ss2AMA6gMZdGV4dEFsbFNpdGVBY3Rpb25JdGVtQ0ZWMvoDHxIMVU5LTk9XTl9NT0RFIAAqDU5PX0lNQUdFX01PREWABACIBACSBAZOb3JtYWyaBAEyoAQAqAQAsAQAugQGbWFudWFswgQDMTYwyAQA0gQP5o6o6I2Q5bey5pu05paw2AQA8AQA+QQAAABgqvuVP4EFAAAAAAAAAACJBTgzR7KQMtk/kgUAmgUDZGZ0ogUDZGZ0sgUBMbkFAAAAAAAAAADQBQDgBQDoBQDwBQqQBgCgBjuoBgCSAi4KCTcyNzYxOTA1NxITMTkwNjY3NTI3NzQ5MDI2MzQyNBgEIgpJTUFHRV9URVhU",
      "action_card": false
    },
    {
      "id": "58_1755822230.863",
      "type": "feed",
      "offset": 58,
      "verb": "TOPIC_ACKNOWLEDGED_ARTICLE",
      "created_time": 1755822230,
      "updated_time": 1755822230,
      "target": {
        "id": "1941898331824555967",
        "type": "article",
        "url": "https://api.zhihu.com/articles/1941898331824555967",
        "author": {
          "id": "2d349f031d05c6bdd651d88ed2713b41",
          "url": "https://api.zhihu.com/people/2d349f031d05c6bdd651d88ed2713b41",
          "user_type": "people",
          "url_token": "a-82-49-41",
          "name": "知乎用户A",
          "headline": "",
          "avatar_url": "https://pic1.zhimg.com/50/v2-5229f969e56f4dbcfd8146105f446a6d_l.jpg?source=b6762063",
          "is_org": false,
          "gender": 0,
          "followers_count": 3,
          "is_following": false,
          "is_followed": false
        },
        "title": "[完结16章附课件]手把手带你实战一线大厂微服务全链路追踪",
        "image_url": "https://picx.zhimg.com/v2-1c2782b9b3dd6352832b6f8726e644f2.jpg?source=7e7ef6e2&needBackground=1",
        "comment_permission": "all",
        "created": 1755764725,
        "updated": 1755764725,
        "voteup_count": 0,
        "voting": 0,
        "comment_count": 0,
        "linkbox": {
          "category": "",
          "pic": "",
          "title": "",
          "url": ""
        },
        "excerpt": "手把手带你实战一线大厂微服务全链路追踪 在微服务架构盛行的今天， “获课”: itxt.top/13750/ 一个复杂业务往往需要数十个甚至上百个微服务协同完成。当系统出现性能瓶颈或异常时，开发者面对的是一个黑箱式的调用链路，难以快速定位问题根源。全链路追踪技术应运而生，它通过记录请求在各个服务间的传播路径和状态，为微服务架构提供了可观测性的核心支撑。本文将以一线大厂的实践标准，手把手教你从零开始实现微服务全链路追…",
        "excerpt_new": "手把手带你实战一线大厂微服务全链路追踪 在微服务架构盛行的今天， “获课”: itxt.top/13750/ 一个复杂业务往往需要数十个甚至上百个微服务协同完成。当系统出现性能瓶颈或异常时，开发者面对的是一个黑箱式的调用链路，难以快速定位问题根源。全链路追踪技术应运而生，它通过记录请求在各个服务间的传播路径和状态，为微服务架构提供了可观测性的核心支撑。本文将以一线大厂的实践标准，手把手教你从零开始实现微服务全链路追…",
        "preview_type": "default",
        "preview_text": "",
        "content": "<p></p><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-71408e5775aa068ad15edbc2d2c5f15b_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"597\" data-rawheight=\"333\" data-original-token=\"v2-a95aa43c4f46d33d2d5484d891a74772\" class=\"origin_image zh-lightbox-thumb\" width=\"597\" data-original=\"https://pic2.zhimg.com/v2-71408e5775aa068ad15edbc2d2c5f15b_r.jpg\"/></figure><p data-pid=\"f7h2bJ-B\">手把手带你实战一线大厂微服务全链路追踪</p><p data-pid=\"Ku0zShFm\">在微服务架构盛行的今天，<b>“获课”: itxt.top/13750/ </b>一个复杂业务往往需要数十个甚至上百个微服务协同完成。当系统出现性能瓶颈或异常时，开发者面对的是一个黑箱式的调用链路，难以快速定位问题根源。全链路追踪技术应运而生，它通过记录请求在各个服务间的传播路径和状态，为微服务架构提供了可观测性的核心支撑。本文将以一线大厂的实践标准，手把手教你从零开始实现微服务全链路追踪系统。</p><p data-pid=\"jyCzCFmU\">一、全链路追踪核心概念与价值</p><p data-pid=\"XortY0Bk\">（一）核心概念</p><ol><li data-pid=\"uZhryntv\"><b>Trace（追踪）</b>：代表一个完整的请求链路，由多个 Span 组成。例如，用户下单请求从网关流入，经过订单服务、支付服务、库存服务等，整个过程构成一个 Trace。</li><li data-pid=\"q7EnHl6a\"><b>Span（跨度）</b>：链路中的最小单位，代表一个服务的一次具体操作（如接口调用、数据库查询）。每个 Span 包含操作名称、开始时间、结束时间、标签（Tags）、日志（Logs）和关联的上下文信息。</li><li data-pid=\"IYIIoj9j\"><b>Trace ID</b>：全局唯一标识一个 Trace，贯穿整个请求链路，所有相关 Span 共享同一个 Trace ID。</li><li data-pid=\"N4ekMYT-\"><b>Parent ID</b>：标识 Span 之间的父子关系，形成树状结构。根 Span 的 Parent ID 为 null，子 Span 的 Parent ID 指向其父 Span 的 ID。</li><li data-pid=\"9re2qZRK\"><b>上下文传播</b>：在服务调用过程中，将 Trace ID、Span ID 等上下文信息从上游服务传递到下游服务的机制，是全链路追踪的核心。</li></ol><p data-pid=\"sd_crbkZ\">（二）技术价值</p><ol><li data-pid=\"I8XKjsqU\"><b>问题定位</b>：通过追踪链路可视化，快速定位耗时节点、异常服务和调用关系，将故障排查时间从小时级缩短至分钟级。</li><li data-pid=\"0oxomep4\"><b>性能优化</b>：分析各服务的响应时间、调用频率，识别性能瓶颈（如慢查询、资源竞争），为架构优化提供数据支撑。</li><li data-pid=\"7A8QBqPZ\"><b>依赖梳理</b>：自动生成服务调用拓扑图，清晰展示微服务间的依赖关系，辅助架构治理。</li><li data-pid=\"dPFVSYT2\"><b>容量规划</b>：基于链路数据统计业务流量分布，预测服务峰值负载，指导资源扩容。</li></ol><p data-pid=\"zZxjwRE5\">二、技术栈选型与架构设计</p><p data-pid=\"Cn9JxfKL\">（一）主流技术栈对比</p><p class=\"ztext-empty-paragraph\"><br/></p><table data-draft-node=\"block\" data-draft-type=\"table\" data-size=\"normal\" data-row-style=\"normal\"><tbody><tr><td>技术</td><td>特点</td><td>适用场景</td></tr><tr><td>Zipkin</td><td>轻量、部署简单，支持多种存储（MySQL、Elasticsearch）</td><td>中小规模微服务，追求易用性</td></tr><tr><td>Jaeger</td><td>开源兼容 OpenTelemetry，支持分布式上下文传播、采样策略</td><td>大规模集群，需高可靠性</td></tr><tr><td>SkyWalking</td><td>支持非侵入式埋点，内置服务网格（Service Mesh）集成</td><td>多语言异构系统，容器化环境</td></tr><tr><td>Pinpoint</td><td>字节码增强实现全链路追踪，无需代码侵入</td><td>Java 生态为主的微服务</td></tr></tbody></table><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"S7E3zdvX\"><b>选型建议</b>：本文采用 Jaeger 作为追踪系统核心，原因在于其完全兼容 OpenTelemetry 规范，支持多语言，且在 Kubernetes 环境中部署便捷，符合一线大厂的云原生技术栈。</p><p data-pid=\"cGDCeegw\">（二）架构设计</p><p data-pid=\"EOQiXFy-\">全链路追踪系统通常包含四大组件，形成 “产生 - 收集 - 存储 - 展示” 的完整链路：</p><ol><li data-pid=\"nPmeM0CJ\"><b>埋点 SDK</b>：在应用代码中植入追踪逻辑，生成 Span 并传递上下文。以 Java 为例，通过 Spring Cloud Sleuth 集成 Jaeger SDK，自动拦截 HTTP、RPC 调用和数据库操作。</li><li data-pid=\"Pd_bXCO0\"><b>数据收集器（Collector）</b>：接收应用发送的追踪数据，进行清洗、聚合后写入存储。Jaeger Collector 支持水平扩展，通过 Kafka 作为缓冲队列应对高并发。</li><li data-pid=\"ZmyO82uO\"><b>存储（Storage）</b>：持久化追踪数据。生产环境推荐使用 Elasticsearch，支持海量数据存储和高效查询；测试环境可使用内存存储（仅用于演示）。</li><li data-pid=\"nIrA4pkk\"><b>UI 界面</b>：可视化展示追踪链路、服务拓扑和性能指标。Jaeger UI 提供丰富的查询功能，支持按服务名、操作名、时间范围和标签筛选。</li></ol><p data-pid=\"3e47ppcC\">三、环境搭建与基础配置</p><p data-pid=\"0GuTWVI2\">（一）基础设施部署（Docker Compose）</p><p data-pid=\"qZJ_LwXo\">使用 Docker 快速部署 Jaeger、Elasticsearch 和 Kafka（可选，用于高可用）：</p><p data-pid=\"SdgD_z0E\"># docker-compose.yml<br/>version: &#39;3.8&#39;<br/>services:<br/>  elasticsearch:<br/>    image: elasticsearch:7.14.0<br/>    environment:<br/>      - discovery.type=single-node<br/>      - &#34;ES_JAVA_OPTS=-Xms512m -Xmx512m&#34;<br/>    ports:<br/>      - &#34;9200:9200&#34;<br/>    volumes:<br/>      - es-data:/usr/share/elasticsearch/data<br/><br/>  jaeger-collector:<br/>    image: jaegertracing/jaeger-collector:1.35<br/>    command: [<br/>      &#34;--es.server-urls=<a href=\"https://link.zhihu.com/?target=http%3A//elasticsearch%3A9200\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">http://</span><span class=\"visible\">elasticsearch:9200</span><span class=\"invisible\"></span></a>&#34;,<br/>      &#34;--es.index-prefix=jaeger&#34;,<br/>      &#34;--collector.zipkin.host-port=:9411&#34;<br/>    ]<br/>    ports:<br/>      - &#34;14268:14268&#34;  # 接收Jaeger SDK数据<br/>      - &#34;9411:9411&#34;    # 兼容Zipkin协议<br/>    depends_on:<br/>      - elasticsearch<br/><br/>  jaeger-query:<br/>    image: jaegertracing/jaeger-query:1.35<br/>    command: [<br/>      &#34;--es.server-urls=<a href=\"https://link.zhihu.com/?target=http%3A//elasticsearch%3A9200\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">http://</span><span class=\"visible\">elasticsearch:9200</span><span class=\"invisible\"></span></a>&#34;,<br/>      &#34;--es.index-prefix=jaeger&#34;<br/>    ]<br/>    ports:<br/>      - &#34;16686:16686&#34;  # UI界面端口<br/>    depends_on:<br/>      - elasticsearch<br/>      - jaeger-collector<br/><br/>  jaeger-agent:<br/>    image: jaegertracing/jaeger-agent:1.35<br/>    command: [&#34;--collector.host-port=jaeger-collector:14267&#34;]<br/>    ports:<br/>      - &#34;6831:6831/udp&#34;  # 接收客户端UDP数据<br/>    depends_on:<br/>      - jaeger-collector<br/><br/>volumes:<br/>  es-data:</p><p data-pid=\"D0OGQXkt\">启动服务：</p><p data-pid=\"8h8NhPCF\">docker-compose up -d</p><p data-pid=\"LIpY4C1Z\">访问<a href=\"https://link.zhihu.com/?target=http%3A//localhost%3A16686/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">http://localhost:16686</a>可打开 Jaeger UI。</p><p data-pid=\"rWQ-z5js\">（二）微服务项目初始化</p><p data-pid=\"Fgz2niu5\">以 Spring Cloud 微服务为例，创建三个服务：gateway（网关）、order-service（订单服务）、payment-service（支付服务），调用关系为gateway → order-service → payment-service。</p><ol><li data-pid=\"AEpZr-K1\"><b>父工程依赖</b>：</li></ol><p data-pid=\"p7wkRrl2\">&lt;dependencyManagement&gt;<br/>  &lt;dependencies&gt;<br/>    &lt;!-- Spring Cloud --&gt;<br/>    &lt;dependency&gt;<br/>      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;<br/>      &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;<br/>      &lt;version&gt;2021.0.5&lt;/version&gt;<br/>      &lt;type&gt;pom&lt;/type&gt;<br/>      &lt;scope&gt;import&lt;/scope&gt;<br/>    &lt;/dependency&gt;<br/>    &lt;!-- 链路追踪 --&gt;<br/>    &lt;dependency&gt;<br/>      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;<br/>      &lt;artifactId&gt;spring-cloud-sleuth-otel-dependencies&lt;/artifactId&gt;<br/>      &lt;version&gt;1.1.0&lt;/version&gt;<br/>      &lt;type&gt;pom&lt;/type&gt;<br/>      &lt;scope&gt;import&lt;/scope&gt;<br/>    &lt;/dependency&gt;<br/>  &lt;/dependencies&gt;<br/>&lt;/dependencyManagement&gt;</p><ol><li data-pid=\"ni93w-WX\"><b>子服务依赖</b>：每个服务添加 Sleuth 和 Jaeger 依赖：</li></ol><p data-pid=\"0HONHg1i\">&lt;dependencies&gt;<br/>  &lt;!-- 链路追踪 --&gt;<br/>  &lt;dependency&gt;<br/>    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;<br/>    &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;<br/>  &lt;/dependency&gt;<br/>  &lt;dependency&gt;<br/>    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;<br/>    &lt;artifactId&gt;spring-cloud-sleuth-otel-autoconfigure&lt;/artifactId&gt;<br/>  &lt;/dependency&gt;<br/>  &lt;dependency&gt;<br/>    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;<br/>    &lt;artifactId&gt;opentelemetry-exporter-otlp&lt;/artifactId&gt;<br/>  &lt;/dependency&gt;<br/>&lt;/dependencies&gt;</p><p data-pid=\"U9L_uoDo\">四、核心实现：链路追踪埋点与上下文传播</p><p data-pid=\"UyKPO4qO\">（一）基础配置（application.yml）</p><p data-pid=\"rXOn-Zr_\">每个服务添加追踪配置，指定 Jaeger Agent 地址和采样率：</p><p data-pid=\"rOUPNwWJ\">spring:<br/>  application:<br/>    name: order-service  # 服务名，会作为Span的service.name标签<br/>  sleuth:<br/>    otel:<br/>      exporter:<br/>        otlp:<br/>          endpoint: http://localhost:4317  # Jaeger Agent的OTLP接收端口<br/>    sampler:<br/>      probability: 1.0  # 采样率100%（生产环境可设0.1，减少数据量）</p><p data-pid=\"z3X75gTN\">（二）自动埋点与手动埋点</p><ol><li data-pid=\"3by9-FSS\"><b>自动埋点</b>：Spring Cloud Sleuth 通过 AOP 自动拦截以下操作并生成 Span：</li></ol><p data-pid=\"mUfc-VN1\">例如，order-service调用payment-service的 Feign 接口：</p><p data-pid=\"RaHooe9j\">@FeignClient(name = &#34;payment-service&#34;)<br/>public interface PaymentClient {<br/>  @GetMapping(&#34;/pay&#34;)<br/>  String pay(@RequestParam(&#34;orderId&#34;) String orderId);<br/>}</p><p data-pid=\"K4DNxzI5\">调用时会自动创建一个 Span，Parent ID 为order-service当前 Span 的 ID，Trace ID 保持一致。</p><ul><ul><li data-pid=\"dpXQyKNw\">HTTP 请求（基于 Spring MVC、WebFlux）</li><li data-pid=\"-r4N7ExB\">服务间调用（Feign、RestTemplate、Dubbo）</li><li data-pid=\"mGSSI_ZW\">数据库操作（JDBC、MyBatis、JPA）</li><li data-pid=\"3YiQpJN7\">消息队列（Kafka、RabbitMQ）</li></ul></ul><ol><li data-pid=\"qlFXxG9Y\"><b>手动埋点</b>：对于复杂业务逻辑（如耗时的本地方法），需手动创建 Span：</li></ol><p data-pid=\"TDZk6wNG\">import io.opentelemetry.api.trace.Span;<br/>import io.opentelemetry.api.trace.Tracer;<br/>import org.springframework.beans.factory.annotation.Autowired;<br/>import org.springframework.stereotype.Service;<br/><br/>@Service<br/>public class OrderService {<br/>  @Autowired<br/>  private Tracer tracer;  // OpenTelemetry Tracer<br/><br/>  public String createOrder(String userId) {<br/>    // 手动创建Span<br/>    Span span = tracer.spanBuilder(&#34;createOrderBusiness&#34;).startSpan();<br/>    try (var scope = span.makeCurrent()) {<br/>      // 添加标签（如用户ID）<br/>      span.setAttribute(&#34;user.id&#34;, userId);<br/>      // 业务逻辑...<br/>      return &#34;ORDER_&#34; + System.currentTimeMillis();<br/>    } finally {<br/>      span.end();  // 结束Span<br/>    }<br/>  }<br/>}</p><p data-pid=\"uDYabBbI\">（三）上下文传播实现原理</p><p data-pid=\"wPuLKRjf\">上下文传播是全链路追踪的核心，确保 Trace ID 在服务调用中不丢失。以 HTTP 调用为例，传播流程如下：</p><ol><li data-pid=\"pRovvztd\"><b>上游服务</b>：调用下游服务前，Sleuth 拦截请求，从当前上下文提取 Trace ID 和 Span ID，通过 HTTP Header 传递：</li></ol><p data-pid=\"d_VJq432\">traceparent: 00-4bf92f3577b34da6a97799fafe1bbfbd-00f067aa0ba902b7-01</p><p data-pid=\"j1tFa2jJ\">格式解析：version-traceId-parentId-flags</p><ol><li data-pid=\"qSyJbF0J\"><b>下游服务</b>：接收请求时，Sleuth 从 Header 中解析traceparent，重建上下文，使下游服务的 Span 继承上游的 Trace ID 和 Parent ID。</li><li data-pid=\"8kFB0MwU\"><b>非 HTTP 场景</b>：对于 RPC（如 Dubbo）、消息队列，需通过协议特定的元数据传递上下文。例如，Kafka 消息通过headers传递：</li></ol><p data-pid=\"9ZHoRoLc\">ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(&#34;order-topic&#34;, &#34;orderId&#34;, &#34;123&#34;);<br/>// 注入追踪上下文到消息头<br/>tracer.withSpan(tracer.getCurrentSpan()).run(() -&gt; {<br/>  TextMapSetter&lt;ProducerRecord&lt;String, String&gt;&gt; setter = (carrier, key, value) -&gt; <br/>    carrier.headers().add(key, value.getBytes());<br/>  OtelPropagator.getInstance().inject(Context.current(), record, setter);<br/>  kafkaTemplate.send(record);<br/>});</p><p data-pid=\"sB2Gps17\">五、高级特性：采样策略与性能优化</p><p data-pid=\"ZDxy6jXr\">（一）采样策略配置</p><p data-pid=\"gOwlVrx-\">全量采集会产生大量数据，消耗存储和网络资源。Jaeger 支持多种采样策略，可根据业务需求配置：</p><ol><li data-pid=\"5kcq2OSE\"><b>概率采样</b>：按比例随机采样，适用于均匀流量：</li></ol><p data-pid=\"l2_EtdN3\">spring:<br/>  sleuth:<br/>    sampler:<br/>      probability: 0.1  # 10%的请求被采样</p><ol><li data-pid=\"ZUfC8Vxm\"><b>速率限制采样</b>：限制每秒最大采样数，适用于突发流量：</li></ol><p data-pid=\"C_tfXHwR\">spring:<br/>  sleuth:<br/>    sampler:<br/>      rate: 10  # 每秒最多采样10个请求</p><ol><li data-pid=\"_tRikCzC\"><b>自定义采样</b>：基于业务规则采样（如只采样错误请求）：</li></ol><p data-pid=\"GkEfwXOa\">@Configuration<br/>public class CustomSamplerConfig {<br/>  @Bean<br/>  public Sampler customSampler() {<br/>    return context -&gt; {<br/>      // 错误请求全量采样<br/>      if (context.getSpanName().contains(&#34;error&#34;)) {<br/>        return Sampler.ALWAYS_SAMPLE;<br/>      }<br/>      return Sampler.NEVER_SAMPLE;<br/>    };<br/>  }<br/>}</p><p data-pid=\"JknnrAJt\">（二）性能优化实践</p><ol><li data-pid=\"2O6Eyl0V\"><b>降低采样率</b>：生产环境采样率控制在 0.01~0.1，结合采样策略优先采集关键业务和异常请求。</li><li data-pid=\"RkFLTVVV\"><b>异步上报</b>：通过 Buffer 缓存 Span，批量异步发送到 Collector，减少网络 IO 次数。</li><li data-pid=\"6Pl7bfO0\"><b>存储优化</b>：Elasticsearch 索引设置合理的分片数和过期时间（如保留 7 天数据）：</li></ol><p data-pid=\"ruMEpNQV\"># Jaeger索引模板配置<br/>{<br/>  &#34;index_patterns&#34;: &#34;jaeger-*&#34;,<br/>  &#34;settings&#34;: {<br/>    &#34;number_of_shards&#34;: 3,<br/>    &#34;number_of_replicas&#34;: 1<br/>  },<br/>  &#34;mappings&#34;: {<br/>    &#34;properties&#34;: {<br/>      &#34;startTimeMillis&#34;: { &#34;type&#34;: &#34;date&#34; }<br/>    }<br/>  },<br/>  &#34;aliases&#34;: {}<br/>}</p><ol><li data-pid=\"Y24HuOho\"><b>避免冗余埋点</b>：过滤掉健康检查、心跳等低价值请求，通过spring.sleuth.ignorePattern配置忽略规则。</li></ol><p data-pid=\"yTYrzgTP\">六、实战案例：故障排查与性能分析</p><p data-pid=\"AbDEbqx4\">（一）链路可视化与故障定位</p><ol><li data-pid=\"-X2lJqj-\"><b>访问 Jaeger UI</b>：打开<a href=\"https://link.zhihu.com/?target=http%3A//localhost%3A16686/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">http://localhost:16686</a>，选择服务名（如order-service），点击 “Find Traces” 查询追踪记录。</li><li data-pid=\"oRMZOYZ5\"><b>分析链路耗时</b>：在 Trace 详情页，查看各 Span 的耗时分布，耗时最长的节点即为瓶颈。例如，发现payment-service的/pay接口耗时 500ms，远超预期。</li><li data-pid=\"qJCGP2aR\"><b>查看日志关联</b>：通过 Span 的logs或关联的 MDC 日志（包含 Trace ID），定位具体错误信息：</li></ol><p data-pid=\"MPxGPjM7\">// 日志中输出Trace ID<br/>import org.slf4j.Logger;<br/>import org.slf4j.LoggerFactory;<br/>import org.slf4j.MDC;<br/><br/>Logger logger = LoggerFactory.getLogger(OrderController.class);<br/><a href=\"https://link.zhihu.com/?target=http%3A//logger.info\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">http://</span><span class=\"visible\">logger.info</span><span class=\"invisible\"></span></a>(&#34;创建订单，Trace ID: {}&#34;, MDC.get(&#34;traceId&#34;));</p><p data-pid=\"M9kkIAlz\">（二）服务拓扑与依赖分析</p><p data-pid=\"cxkSWJgu\">Jaeger UI 的 “System Architecture” 页面自动生成服务调用拓扑图，可直观发现：</p><ul><li data-pid=\"aZWLhlpp\">服务间的调用关系（如order-service依赖payment-service）</li><li data-pid=\"BmWLrUnn\">调用频率和成功率（红色节点表示高错误率）</li></ul><p data-pid=\"13bYAvV2\">例如，发现payment-service调用bank-api的成功率仅为 80%，需优先排查第三方接口问题。</p><p data-pid=\"wPeAQKqp\">七、部署与运维最佳实践</p><p data-pid=\"Gj5sUofB\">（一）生产环境部署架构</p><ol><li data-pid=\"uCMl-DXu\"><b>Collector 集群</b>：部署多个 Jaeger Collector 实例，通过 Kubernetes Service 实现负载均衡，避免单点故障。</li><li data-pid=\"kXSHPniz\"><b>Kafka 缓冲</b>：在高并发场景，使用 Kafka 作为 Collector 的输入队列，削峰填谷：</li></ol><p data-pid=\"XBSUGGZl\"># Jaeger Collector配置Kafka输入<br/>jaeger-collector:<br/>  command: [<br/>    &#34;--kafka.bootstrap-servers=kafka:9092&#34;,<br/>    &#34;--kafka.topic=jaeger-spans&#34;,<br/>    &#34;--es.server-urls=<a href=\"https://link.zhihu.com/?target=http%3A//elasticsearch%3A9200\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">http://</span><span class=\"visible\">elasticsearch:9200</span><span class=\"invisible\"></span></a>&#34;<br/>  ]</p><ol><li data-pid=\"eZp-KpSg\"><b>Elasticsearch 集群</b>：至少 3 个节点，开启副本机制确保数据安全，配置索引生命周期管理（ILM）自动清理过期数据。</li></ol><p data-pid=\"sWEf7jej\">（二）监控与告警</p><ol><li data-pid=\"A6M2AY3w\"><b>监控 Collector 指标</b>：通过 Prometheus 采集 Jaeger Collector 的指标（如jaeger_collector_spans_received_total），设置告警阈值（如每秒接收 Span 数突增 10 倍）。</li><li data-pid=\"9gaPiwfd\"><b>链路健康度告警</b>：基于 Trace 数据，监控关键链路的平均响应时间和错误率，超过阈值时通过 Grafana AlertManager 发送告警。</li></ol><p data-pid=\"hqhehEBI\">八、总结与扩展</p><p data-pid=\"aXl1zodi\">全链路追踪是微服务可观测性的三大支柱（日志、 metrics、追踪）之一，通过本文的实战步骤，你已掌握从环境搭建、埋点实现到故障排查的完整流程。一线大厂的实践中，还会结合以下技术进一步提升系统能力：</p><ol><li data-pid=\"l7_UP1UM\"><b>与日志、Metrics 联动</b>：通过 Trace ID 关联日志（如 ELK 中按 Trace ID 查询全链路日志），将 Span 耗时作为 Metrics 指标纳入监控大盘。</li><li data-pid=\"eQcvlk8e\"><b>Service Mesh 集成</b>：在 Istio 等服务网格中，通过 Sidecar 代理自动完成埋点，无需修改业务代码。</li><li data-pid=\"dobaXrko\"><b>分布式事务追踪</b>：结合 Seata、Saga 等分布式事务框架，追踪事务分支的执行</li></ol><p></p>",
        "is_labeled": false,
        "visited_count": 3,
        "thumbnails": [
          "https://picx.zhimg.com/v2-1c2782b9b3dd6352832b6f8726e644f2.jpg?source=7e7ef6e2&needBackground=1"
        ],
        "favorite_count": 1,
        "article_type": "normal",
        "is_navigator": false,
        "navigator_vote": false,
        "vote_next_step": "vote"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"article\", \"id\": 1941898331824555967}",
      "attached_info": "CogHCKfEivLsuv65mgEQBxoJMjYyMDYzNDY1IPWvm8UGKAAwAEA6SiQKGVRTX1NPVVJDRV9XQVJNX1VQX05PUk1BTDESATAYACAAOgBKKAodVFNfU09VUkNFX1dBUk1VUF9QUkVUUkFJTl9JMkkSATAYACAAOgBiIGYwNzViYjAwYzI5ZjRjMzM2MjVhNTliYjM1MWFlMGE3chMxOTQxODk4MzMxODI0NTU1OTY3ggFfaHR0cHM6Ly9waWN4LnpoaW1nLmNvbS92Mi0xYzI3ODJiOWIzZGQ2MzUyODMyYjZmODcyNmU2NDRmMi5qcGc/c291cmNlPTdlN2VmNmUyJm5lZWRCYWNrZ3JvdW5kPTGqAQlyZWNvbW1lbmTCASAyZDM0OWYwMzFkMDVjNmJkZDY1MWQ4OGVkMjcxM2I0MfIBCggMEgZOb3JtYWzyASgIChIkYzkzZTA0OWEtZWNiMi00Y2E5LTllM2YtMWUwNGM5MGQzNzE18gEGCAsSAjEwggIAiAKRlaT5jDOSAiAyZDM0OWYwMzFkMDVjNmJkZDY1MWQ4OGVkMjcxM2I0MZoCAMoCFlNob3JJbnRlcmVzdFdlaWdodFJ1bGXKAhVVc2VyTGNuRXhpdFdlaWdodFJ1bGXKAhhDb250ZW50V2FybVVwQnJlYWtJblJ1bGXaAhlUU19TT1VSQ0VfV0FSTV9VUF9OT1JNQUwx6AID+gILTk9STUFMX0ZMT1eKAyBmYjRjMzYyOGYzNWQ0NGRiYWFmNzY1MjgzMjk3MTFkNJoDDQoCdjIQABoFb3RoZXKoAwPYAwDqAxNwcmV0cmFpbl9pMmlfcmVjYWxs+gN9EgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERTotCAMQ1QQYzQIiI3YyLWE5NWFhNDNjNGY0NmQzM2QyZDU0ODRkODkxYTc0NzcyOi0IAxDCBBjOAiIjdjItMWMyNzgyYjliM2RkNjM1MjgzMmI2Zjg3MjZlNjQ0ZjKABACIBACSBAZOb3JtYWyaBAEzoAQAqAQAsAQAugQCYWnCBAM0MDDIBADSBA/mjqjojZDlt7Lmm7TmlrDYBADwBAD5BAAAAEBEWmc/gQUAAAAAAAAAAIkFODNHspAy2T+SBQCaBQNkZnSiBQNkZnSyBQExuQUAAAAAAAAAANAFAOAFAOgFAPAFCpAGAKAGPKgGAZICLgoJMjYyMDYzNDY1EhMxOTQxODk4MzMxODI0NTU1OTY3GAciCklNQUdFX1RFWFQ=",
      "action_card": false
    },
    {
      "id": "59_1755822230.835",
      "type": "feed",
      "offset": 59,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1755822230,
      "updated_time": 1755822230,
      "target": {
        "id": "1938684697963103618",
        "type": "answer",
        "url": "https://api.zhihu.com/answers/1938684697963103618",
        "author": {
          "id": "b90c7eb6d3d5a4e2ce453dd8ad377672",
          "url": "https://api.zhihu.com/people/b90c7eb6d3d5a4e2ce453dd8ad377672",
          "user_type": "people",
          "url_token": "zhihusucks",
          "name": "方应杭",
          "headline": "不会写后端的前端开发者，用不好 AI 工具。",
          "avatar_url": "https://picx.zhimg.com/50/v2-a73f2bb54d9d97a34dd606fff5b05bb7_l.jpg?source=b6762063",
          "is_org": false,
          "gender": 1,
          "followers_count": 69933,
          "is_following": false,
          "is_followed": false
        },
        "created_time": 1754998451,
        "updated_time": 1754998677,
        "voteup_count": 252,
        "thanks_count": 17,
        "comment_count": 52,
        "is_copyable": false,
        "question": {
          "id": "1925592578650272377",
          "type": "question",
          "url": "https://api.zhihu.com/questions/1925592578650272377",
          "author": {
            "id": "72a0f695daf3a0ee128410f668a07eb4",
            "url": "https://api.zhihu.com/people/72a0f695daf3a0ee128410f668a07eb4",
            "user_type": "people",
            "url_token": "9-16-87-45-6",
            "name": "Peter",
            "headline": "",
            "avatar_url": "https://pic1.zhimg.com/50/v2-d375fb18bede810a01e8efb6ee88ad9c_l.jpg?source=b6762063",
            "is_org": false,
            "gender": 1,
            "followers_count": 0,
            "is_following": false,
            "is_followed": false
          },
          "title": "为什么国内的docker镜像源都pull不下来东西了？",
          "created": 1751877046,
          "answer_count": 0,
          "follower_count": 0,
          "comment_count": 0,
          "bound_topic_ids": [
            135680
          ],
          "is_following": false,
          "excerpt": "",
          "relationship": {
            "is_author": false
          },
          "detail": "",
          "question_type": "normal"
        },
        "thumbnail": "https://picx.zhimg.com/50/v2-98e5d7fc93d17fe2522ad100637018fd_720w.jpg?source=b6762063",
        "excerpt": "为什么你们都用第三方镜像不用 http_proxy 呢？ 你只需要 在 dockerd service 里设置环境变量 http_proxy 和 https_proxy在 docker pull 的命令行里设置环境变量那么你就可以愉快地从官方源下载镜像了。 你一定要用第三方镜像也行，由于镜像不稳定，所以你应该收藏这个监控第三方镜像的网站： https://status.anye.xyz/   还有这个 mirrors 完。",
        "excerpt_new": "为什么你们都用第三方镜像不用 http_proxy 呢？ 你只需要 在 dockerd service 里设置环境变量 http_proxy 和 https_proxy在 docker pull 的命令行里设置环境变量那么你就可以愉快地从官方源下载镜像了。 你一定要用第三方镜像也行，由于镜像不稳定，所以你应该收藏这个监控第三方镜像的网站： https://status.anye.xyz/   还有这个 mirrors 完。",
        "preview_type": "default",
        "preview_text": "",
        "reshipment_settings": "disallowed",
        "content": "<p data-pid=\"2CHE9-eh\">为什么你们都用第三方镜像不用 http_proxy 呢？</p><p data-pid=\"5MwQTucY\">你只需要</p><ol><li data-pid=\"i3t-zLd9\">在 dockerd service 里设置环境变量 http_proxy 和 https_proxy</li><li data-pid=\"dXVht-Yj\">在 docker pull 的命令行里设置环境变量</li></ol><p data-pid=\"VpHObk8J\">那么你就可以愉快地从官方源下载镜像了。</p><p data-pid=\"_4Pp0MTE\">你一定要用第三方镜像也行，由于镜像不稳定，所以你应该收藏这个监控第三方镜像的网站：</p><p data-pid=\"WwUnrD6C\"><a href=\"https://link.zhihu.com/?target=https%3A//status.anye.xyz/\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">status.anye.xyz/</span><span class=\"invisible\"></span></a></p><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-98e5d7fc93d17fe2522ad100637018fd_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2688\" data-rawheight=\"1812\" data-original-token=\"v2-98e5d7fc93d17fe2522ad100637018fd\" data-default-watermark-src=\"https://pic2.zhimg.com/v2-824d29cb0120575e099b8f5cbc3cd681_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"2688\" data-original=\"https://pic2.zhimg.com/v2-98e5d7fc93d17fe2522ad100637018fd_r.jpg\"/></figure><p data-pid=\"a8gzqxBj\">还有这个 <a href=\"https://link.zhihu.com/?target=https%3A//mirror.kentxxq.com/image\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">mirrors</a> </p><p data-pid=\"ngfHaNQz\">完。</p>",
        "relationship": {
          "is_thanked": false,
          "is_nothelp": false,
          "voting": 0
        },
        "is_labeled": false,
        "visited_count": 32901,
        "thumbnails": [
          "https://picx.zhimg.com/50/v2-98e5d7fc93d17fe2522ad100637018fd_720w.jpg?source=b6762063"
        ],
        "favorite_count": 767,
        "answer_type": "normal",
        "is_navigator": false,
        "navigator_vote": false,
        "vote_next_step": "vote"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1938684697963103618}",
      "attached_info": "CsAGCKfEivLsuv65mgEQBBoJNzQxODU4MDIyILPN7MQGKPwBMDRAO0o9ChhUU19TT1VSQ0VfQVVUSE9SX0dDRl9IUFYSG2RvY190eXBlOiBNZW1iZXIKaWQ6IDI5NTg3ChgAIAA6AEooCh1UU19TT1VSQ0VfTkVBUkxJTkVfQ09OVEVOVF9WMhIBMBgAIAA6AFoJMTE1NzE1MTk5YiBmMDc1YmIwMGMyOWY0YzMzNjI1YTU5YmIzNTFhZTBhN3ITMTkzODY4NDY5Nzk2MzEwMzYxOIoBEzE5MjU1OTI1Nzg2NTAyNzIzNzeqAQlyZWNvbW1lbmTCASBiOTBjN2ViNmQzZDVhNGUyY2U0NTNkZDhhZDM3NzY3MvIBCggMEgZOb3JtYWzyASgIChIkZjJjYjBlZmQtYTU0ZS00MmQ3LWE4MzMtYTUwZjMwYjQ1OTk58gEGCAsSAjEwggIAiAKRlaT5jDOSAiBiOTBjN2ViNmQzZDVhNGUyY2U0NTNkZDhhZDM3NzY3MpoCAMoCFlNob3JJbnRlcmVzdFdlaWdodFJ1bGXKAhVVc2VyTGNuRXhpdFdlaWdodFJ1bGXKAhxCYXllc0ZpcnN0TGV2ZWxJc29sYXRpb25SdWxl2gIYVFNfU09VUkNFX0FVVEhPUl9HQ0ZfSFBW6AIC+gILTk9STUFMX0ZMT1eKAyBmYjRjMzYyOGYzNWQ0NGRiYWFmNzY1MjgzMjk3MTFkNJoDDQoCdjIQABoFb3RoZXKoA4WBAtgDAOoDGGdjZktubkF1dGhvckhpZ2hQdlJlY2FsbPoDThIMVU5LTk9XTl9NT0RFIAAqDU5PX0lNQUdFX01PREU6LQgCEIAVGJQOIiN2Mi05OGU1ZDdmYzkzZDE3ZmUyNTIyYWQxMDA2MzcwMThmZIAEAIgEAJIEBk5vcm1hbJoEATKgBACoBACwBAC6BAZtYW51YWzCBAMxNzDIBADSBA/mjqjojZDlt7Lmm7TmlrDYBADwBAD5BAAAAMAhlpk/gQUAAAAAAAAAAIkFODNHspAy2T+SBQCaBQNkZnSiBQNkZnSyBQExuQUAAAAAAAAAANAFAOAFAOgFAPAFCpAGAKAGPagGAJICLgoJNzQxODU4MDIyEhMxOTM4Njg0Njk3OTYzMTAzNjE4GAQiCklNQUdFX1RFWFQ=",
      "action_card": false
    }
  ],
  "paging": {
    "is_end": false,
    "is_start": false,
    "next": "https://www.zhihu.com/api/v3/feed/topstory/recommend?action=down&ad_interval=-10&after_id=59&desktop=true&end_offset=61&page_number=11&session_token=f075bb00c29f4c33625a59bb351ae0a7",
    "previous": "https://www.zhihu.com/api/v3/feed/topstory/recommend?action=pull&ad_interval=-10&before_id=59&desktop=true&end_offset=61&page_number=11&session_token=f075bb00c29f4c33625a59bb351ae0a7",
    "totals": 0
  },
  "fresh_text": "推荐已更新"
}