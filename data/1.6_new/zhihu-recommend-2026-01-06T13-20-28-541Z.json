{
  "data": [
    {
      "id": "108_1767705690.977",
      "type": "feed",
      "offset": 108,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1767705690,
      "updated_time": 1767705690,
      "target": {
        "created_time": 1766454616,
        "updated_time": 1766454616,
        "is_copyable": true,
        "favorite_count": 1675,
        "voteup_count": 6109,
        "preview_text": "",
        "is_navigator": false,
        "navigator_vote": false,
        "url": "https://api.zhihu.com/answers/1986735337750410957",
        "thanks_count": 646,
        "vote_next_step": "vote",
        "excerpt": "侵删，但真的开会时候看到差点没绷住",
        "visited_count": 958859,
        "thumbnails": [
          "https://pic1.zhimg.com/50/v2-5c55959c90d45bfdd4d35f0f9db6cbc0_720w.jpg?source=b6762063",
          "https://pic1.zhimg.com/50/v2-52e048affec266756bb61052dbc04206_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-3d177d02bbaa724de3351828617e8f05_720w.jpg?source=b6762063",
          "https://pic1.zhimg.com/50/v2-8e46520007722a6668a914f73a542cd2_720w.jpg?source=b6762063",
          "https://pic1.zhimg.com/50/v2-93b2098b1cf3b568cd56e3e6d5202890_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-d6d0af1e9cd77568d33fbe8e7246e0f0_720w.jpg?source=b6762063"
        ],
        "type": "answer",
        "thumbnail": "https://picx.zhimg.com/50/v2-5c55959c90d45bfdd4d35f0f9db6cbc0_720w.jpg?source=b6762063",
        "allow_segment_interaction": true,
        "comment_count": 310,
        "excerpt_new": "侵删，但真的开会时候看到差点没绷住",
        "reshipment_settings": "allowed",
        "id": "1986735337750410957",
        "preview_type": "default",
        "content": "<p data-pid=\"Qonow1b9\">侵删，但真的开会时候看到差点没绷住</p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-5c55959c90d45bfdd4d35f0f9db6cbc0_1440w.jpg\" data-rawwidth=\"1260\" data-rawheight=\"805\" data-size=\"normal\" data-original-token=\"v2-5c55959c90d45bfdd4d35f0f9db6cbc0\" class=\"origin_image zh-lightbox-thumb\" width=\"1260\" data-original=\"https://pic3.zhimg.com/v2-5c55959c90d45bfdd4d35f0f9db6cbc0_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-52e048affec266756bb61052dbc04206_1440w.jpg\" data-rawwidth=\"1260\" data-rawheight=\"2072\" data-size=\"normal\" data-original-token=\"v2-52e048affec266756bb61052dbc04206\" class=\"origin_image zh-lightbox-thumb\" width=\"1260\" data-original=\"https://pic1.zhimg.com/v2-52e048affec266756bb61052dbc04206_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-3d177d02bbaa724de3351828617e8f05_1440w.jpg\" data-rawwidth=\"1260\" data-rawheight=\"1371\" data-size=\"normal\" data-original-token=\"v2-3d177d02bbaa724de3351828617e8f05\" class=\"origin_image zh-lightbox-thumb\" width=\"1260\" data-original=\"https://pic4.zhimg.com/v2-3d177d02bbaa724de3351828617e8f05_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-8e46520007722a6668a914f73a542cd2_1440w.jpg\" data-rawwidth=\"1260\" data-rawheight=\"839\" data-size=\"normal\" data-original-token=\"v2-8e46520007722a6668a914f73a542cd2\" class=\"origin_image zh-lightbox-thumb\" width=\"1260\" data-original=\"https://pic1.zhimg.com/v2-8e46520007722a6668a914f73a542cd2_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-93b2098b1cf3b568cd56e3e6d5202890_1440w.jpg\" data-rawwidth=\"1260\" data-rawheight=\"1589\" data-size=\"normal\" data-original-token=\"v2-93b2098b1cf3b568cd56e3e6d5202890\" class=\"origin_image zh-lightbox-thumb\" width=\"1260\" data-original=\"https://pica.zhimg.com/v2-93b2098b1cf3b568cd56e3e6d5202890_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-d6d0af1e9cd77568d33fbe8e7246e0f0_1440w.jpg\" data-rawwidth=\"1260\" data-rawheight=\"1206\" data-size=\"normal\" data-original-token=\"v2-d6d0af1e9cd77568d33fbe8e7246e0f0\" class=\"origin_image zh-lightbox-thumb\" width=\"1260\" data-original=\"https://pic3.zhimg.com/v2-d6d0af1e9cd77568d33fbe8e7246e0f0_r.jpg\"/></figure><p></p>",
        "author": {
          "followers_count": 145,
          "is_following": false,
          "is_followed": false,
          "url": "https://api.zhihu.com/people/37ac1877826bc40a7a5063bdd3c6d676",
          "user_type": "people",
          "name": "潇湘",
          "headline": "",
          "gender": 1,
          "id": "37ac1877826bc40a7a5063bdd3c6d676",
          "url_token": "xiao-xiang-57-56",
          "avatar_url": "https://pica.zhimg.com/50/v2-ae84610a48dc947990801a3a5326c4b4_l.jpg?source=b6762063",
          "is_org": false
        },
        "question": {
          "is_following": false,
          "excerpt": "",
          "detail": "",
          "title": "最近一次开怀大笑是因为什么?",
          "answer_count": 0,
          "follower_count": 0,
          "comment_count": 7,
          "question_type": "normal",
          "id": "452201264",
          "url": "https://api.zhihu.com/questions/452201264",
          "author": {
            "is_followed": false,
            "url": "https://api.zhihu.com/people/8efd6faf764be103efa4cce5295d6d0c",
            "user_type": "people",
            "url_token": "da-wang-a-86-91",
            "avatar_url": "https://picx.zhimg.com/50/v2-2e781d422fe06a445600949437c8dea8_l.jpg?source=b6762063",
            "gender": 0,
            "followers_count": 0,
            "is_following": false,
            "id": "8efd6faf764be103efa4cce5295d6d0c",
            "name": "12345",
            "headline": "",
            "is_org": false
          },
          "relationship": {
            "is_author": false
          },
          "type": "question",
          "created": 1617170614,
          "bound_topic_ids": [
            11974,
            25127
          ]
        },
        "relationship": {
          "is_thanked": false,
          "is_nothelp": false,
          "voting": 0
        },
        "is_labeled": false,
        "answer_type": "normal"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1986735337750410957}",
      "attached_info": "CpMICIDz8YnkvaDVsQEQBBoJNzYyMjU2MDU4INjqp8oGKN0vMLYCQGxKQwoXVFNfU09VUkNFX1RIRU1FX1dBS0VfVVASInRoZW1lOmRldGVjdDpjb250ZW50OnRoZW1lOmlkOjMxNTMYACAAOgBKKAodVFNfU09VUkNFX05FQVJMSU5FX0NPTlRFTlRfVjISATAYACAAOgBaCDYyNzY4NTM1YiBlYWVhNTQwNjZjODE5YTZhNzliOWZjYmUxZDkyMjMzNHITMTk4NjczNTMzNzc1MDQxMDk1N4oBCTQ1MjIwMTI2NKoBCXJlY29tbWVuZMIBIDM3YWMxODc3ODI2YmM0MGE3YTUwNjNiZGQzYzZkNjc28gEKCAwSBk5vcm1hbPIBKAgKEiQ3ZTkyZGE3MC1kN2JjLTQ5OWItYTEwOC1kZWUyMWU0MTg1YjnyAQYICxICMTmCAgCIAqX+4Ju5M5ICIDM3YWMxODc3ODI2YmM0MGE3YTUwNjNiZGQzYzZkNjc2mgIAygIURmlyc3RCcnVzaFdlaWdodFJ1bGXKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygISQ2xpcFBlYWtXZWlnaHRSdWxl2gIXVFNfU09VUkNFX1RIRU1FX1dBS0VfVVDoAgL6AgtOT1JNQUxfRkxPV4oDIDk5YzM0YTgzZDIxNTQ3NWM4ZDA3YTM0ZmEyYTcwNzdmmgMNCgJ2MhAAGgVvdGhlcqgDi8M62AMA6gMTVGhlbWVXYWtlVXBSZWNhbGxlcvoDuQISDFVOS05PV05fTU9ERSAAKg1OT19JTUFHRV9NT0RFOi0IAhDsCRilBiIjdjItNWM1NTk1OWM5MGQ0NWJmZGQ0ZDM1ZjBmOWRiNmNiYzA6LQgCEOwJGJgQIiN2Mi01MmUwNDhhZmZlYzI2Njc1NmJiNjEwNTJkYmMwNDIwNjotCAIQ7AkY2woiI3YyLTNkMTc3ZDAyYmJhYTcyNGRlMzM1MTgyODYxN2U4ZjA1Oi0IAhDsCRjHBiIjdjItOGU0NjUyMDAwNzcyMmE2NjY4YTkxNGY3M2E1NDJjZDI6LQgCEOwJGLUMIiN2Mi05M2IyMDk4YjFjZjNiNTY4Y2Q1NmUzZTZkNTIwMjg5MDotCAIQ7AkYtgkiI3YyLWQ2ZDBhZjFlOWNkNzc1NjhkMzNmYmU4ZTcyNDZlMGYwgAQAiAQAkgQGTm9ybWFsmgQBMqAEAKgEALAEALoEAmFpwgQDNDAwyAQA0gQP5o6o6I2Q5bey5pu05paw2AQA8AQA+QQAAAAAY+OrP4EFAAAAAAAAAACJBfuX0xNEibI/kgUAmgUDZGZ0ogUDZGZ0sgUBMbkFAAAAAAAAAADQBQDgBQDoBQDwBROQBgCgBm2oBgGSAi4KCTc2MjI1NjA1OBITMTk4NjczNTMzNzc1MDQxMDk1NxgEIgpJTUFHRV9URVhU",
      "action_card": false
    },
    {
      "id": "109_1767705690.719",
      "type": "feed",
      "offset": 109,
      "verb": "TOPIC_ACKNOWLEDGED_ARTICLE",
      "created_time": 1767705690,
      "updated_time": 1767705690,
      "target": {
        "favorite_count": 10,
        "allow_segment_interaction": true,
        "id": "1977062675881170891",
        "url": "https://api.zhihu.com/articles/1977062675881170891",
        "comment_count": 0,
        "excerpt_new": "1. 为什么要分区？ 分区（partitions） 也被称为 分片（sharding），通常采用对数据进行分区的方式来增加系统的 可伸缩性，以此来面对非常大的数据集或非常高的吞吐量，避免出现热点。分区通常和复制结合使用，使得每个分区的副本存储在多个节点上，保证数据副本的 高可用。如下图所示，如果数据库被分区，每个分区都有一个主库。不同分区的主库可能在不同的节点上，每个节点可能是某些分区的主库，同时是其他分区的从库。   1.1 …",
        "preview_type": "default",
        "preview_text": "",
        "navigator_vote": false,
        "vote_next_step": "vote",
        "type": "article",
        "author": {
          "is_org": true,
          "followers_count": 15017,
          "is_following": false,
          "id": "1311e4954cf9ca30422a3e9cc6290a1e",
          "url": "https://api.zhihu.com/people/1311e4954cf9ca30422a3e9cc6290a1e",
          "name": "京东云",
          "avatar_url": "https://picx.zhimg.com/50/v2-4bb6572d19f02b4acefd3720947fe5ad_l.jpg?source=b6762063",
          "gender": -1,
          "is_followed": false,
          "user_type": "organization",
          "url_token": "jing-dong-yun-32",
          "headline": "更懂产业的云"
        },
        "title": "用“分区”来面对超大数据集和超大吞吐量",
        "updated": 1764148485,
        "voting": 0,
        "is_labeled": false,
        "is_navigator": false,
        "comment_permission": "all",
        "created": 1764148485,
        "linkbox": {
          "category": "",
          "pic": "",
          "title": "",
          "url": ""
        },
        "content": "<h3>1. 为什么要分区？</h3><p data-pid=\"SL3iSf1Y\"><b>分区（partitions）</b> 也被称为 <b>分片（sharding）</b>，通常采用对数据进行分区的方式来增加系统的 <b>可伸缩性</b>，以此来面对<b>非常大的数据集或非常高的吞吐量</b>，避免出现热点。</p><p data-pid=\"tfV9mycW\">分区通常和复制结合使用，使得每个分区的副本存储在多个节点上，保证数据副本的 <b>高可用</b>。如下图所示，如果数据库被分区，每个分区都有一个主库。不同分区的主库可能在不同的节点上，每个节点可能是某些分区的主库，同时是其他分区的从库。</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://picx.zhimg.com/v2-fb2e08c66fb99b0feb1fcfb333d19ae1_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1122\" data-rawheight=\"596\" data-original-token=\"v2-fb2e08c66fb99b0feb1fcfb333d19ae1\" class=\"origin_image zh-lightbox-thumb\" width=\"1122\" data-original=\"https://picx.zhimg.com/v2-fb2e08c66fb99b0feb1fcfb333d19ae1_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h3>1.1 一致前缀读</h3><p data-pid=\"G0ByDDNi\">分区也会由于复制延迟而产生问题，我们先来看下图中的例子，是Poons先生和Cake小姐的对话：</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-b497513fc72b903eed5e4ac5bf394222_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1120\" data-rawheight=\"724\" data-original-token=\"v2-b497513fc72b903eed5e4ac5bf394222\" class=\"origin_image zh-lightbox-thumb\" width=\"1120\" data-original=\"https://pica.zhimg.com/v2-b497513fc72b903eed5e4ac5bf394222_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"pyXhJ9nG\">Poons先生先问： “How far into the future can you see, Mrs.Cake?”</p><p data-pid=\"bs3SlQpB\">Cake小姐回答说： “About ten seconds usually, Mr.Poons.”</p><p data-pid=\"B-k3SXli\">正常情况下，这段对话是有因果关系的（先问后答）。但是对于观察者，他看到的顺序却是先得到了答案，再看到了问题，这就是在分区数据库中，因复制延迟而产生的特殊情况。</p><p data-pid=\"k7biSzPK\">为了避免这种混乱，我们就需要保证 <b>一致前缀读</b>：如果一系列写入按某个顺序发生，那么任何人读取这些写入时，也会看见它们以同样的顺序出现。一种解决方案是，确保任何因果相关的写入都在相同的分区。</p><h3>2. 该怎么分区？</h3><p data-pid=\"mfAvcL78\">分区的目的是将数据和负载均匀的分布到各个节点上，理论上10个节点能够处理10倍的数据量和10倍单节点的读写吞吐量。</p><p data-pid=\"bA-qhZQA\">但是如果分区不均，那么就会出现一些分区有更多的数据或读写，我们称之为 <b>偏斜</b>，这会使得分区后并没有得到很大的效率提升。在极端情况下，所有的负载如果都落在一个分区，使得该分区负载过高，我们称之为 <b>热点</b>。</p><p data-pid=\"_XqAdM22\">所以，为了避免偏斜和热点的产生，以键值数据的分区为例，讨论如何将数据分区做得妥当。</p><h3>2.1 根据键的范围进行分区</h3><p data-pid=\"ewNuZ3OL\">我们可以根据键值的范围进行分区，比如说我们以26个英文字符划分26个分区，之后根据键值首字母对它们进行分区。通常情况下，键值并不是均匀分布的，这会造成按照首字母分区之后，发生数据偏斜。为了均匀分配数据，分区的边界需要根据数据分区的实际情况再进行调整。</p><h3>2.2 散列分区</h3><p data-pid=\"jOJ6zf7f\">一个好的散列函数可以将数据均匀分布，避免发生偏斜。但是这也带来了问题：我们没有办法再进行高效的范围查询。</p><h3>3. 热点消除</h3><p data-pid=\"lqFKsTd2\">避免热点最简单的方法是将数据记录进行散列分区，记录因此会在所有节点上平均分配。</p><p data-pid=\"-X2rtx4m\">但是它并不能完全避免热点的产生，因为如果所有的读写操作都是针对同一个键的话，那么所有的请求还是会被路由到同一个分区。比如说有一个百万粉丝的博主发布动态，该动态根据博主ID的键值进行分区，如果此时有大量的粉丝对该动态进行互动，那么哈希策略会把这些请求都路由到同一个分区进行操作，发生热点事件。</p><p data-pid=\"3aXGx7fO\">其实，我们还可以在该热点键上再进行分区，以避免热点：在主键的最后拼接随机数，两位十进制的随机数就能把一个主键分成100个不同的主键，从而存储在不同的分区中，这就完成了热点消除。但是主键被分割后，任何读取工作都必须在每次读取时将所有的数据拉出去合并到一起再返回结果。</p><h3>4. 分区再平衡</h3><p data-pid=\"b6ZDOo9p\">如果保存某分区数据的服务器故障，需要使用其他服务器接管或想将目前的服务器换成性能更好的服务器，那么就需要进行 <b>分区再平衡</b>。</p><p data-pid=\"_-s-nYA9\"><b>分区再平衡</b> 是将负载从集群中的一个节点向另一个节点移动的过程。执行再平衡需要满足以下要求：</p><ul><li data-pid=\"yI-0zZQr\">再平衡期间，数据库应该继续接受读取和写入<br/> </li><li data-pid=\"m5IXl9LG\">节点之间只移动必须的数据，以便快速再平衡，并减少网络和磁盘的IO负载<br/> </li><li data-pid=\"N_nUVqYE\">再平衡之后，负载应该在集群中的节点之间公平地共享<br/> </li></ul><p data-pid=\"Zm0jhct6\">比较简单的再平衡分区策略是选择 <b>固定数量的分区</b>，当节点数量增加时，可以从原节点中 <b>窃取</b> 一些分区（当节点数量减少时，则发生相反的情况），如下图所示：</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-fa3b20f0f4782d81f4e76dfdf0700cfc_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1122\" data-rawheight=\"616\" data-original-token=\"v2-fa3b20f0f4782d81f4e76dfdf0700cfc\" class=\"origin_image zh-lightbox-thumb\" width=\"1122\" data-original=\"https://pic1.zhimg.com/v2-fa3b20f0f4782d81f4e76dfdf0700cfc_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"7Hs7o_iE\">在这种配置中，分区的数量通常在数据库第一次建立时确定，操作比较简单，之后不会改变，因此你需要选择足够多的分区以适应未来的增长。但是，每个分区也有管理开销，所以选择太大的数字会适得其反。</p><p data-pid=\"1CTno566\">除此之外也可选择 <b>动态分区</b>，根据配置的分区大小，当超过该阈值时，可以将该大分区分割成两个小分区，能够使 <b>分区数量适应总数据量</b>。在大型分区拆分后，可以将其中的一半转移到另一个节点上，以平衡负载。</p><p data-pid=\"XeskMMbh\">还有一种 <b>根据节点数增加来进行分区</b> 的方法：每个节点上有固定的分区数，当节点增加时，分区将变小，新增的节点会从原有节点的分区中随机进行拆分，最终这个新节点获得公平的负载份额。</p><p data-pid=\"TfdlJ4mO\">分区再平衡可以 <b>手动执行</b> 也可以 <b>自动执行</b>。自动再平衡比较方便，因为不需要人工维护，但是它的执行过程是不可预测的：再平衡时将大量数据集从一个节点转移到另一个节点的过程中可能会产生很大的网络开销，这会使得该服务器对请求响应的性能降低，对用户的体验和生产造成负面影响。所以再平衡的过程有人参与是一件好事，这样能防止发生运维问题。</p><h3>5. 请求路由（服务发现）</h3><p data-pid=\"x3k6tnHX\">当我们已经将数据进行分区后，如何才能知道用户想要的数据在哪个节点上？这可以概括为是一个 <b>服务发现</b> 的问题。为了解决这个问题，可以通过如下图所示的三个方案</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-e9bcf56817a98402ad980043044a54f9_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1122\" data-rawheight=\"518\" data-original-token=\"v2-e9bcf56817a98402ad980043044a54f9\" class=\"origin_image zh-lightbox-thumb\" width=\"1122\" data-original=\"https://pic2.zhimg.com/v2-e9bcf56817a98402ad980043044a54f9_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"mgcOigsn\">1. 允许访问所有的节点，如果第一个访问的节点有该键值，则处理该请求，否则将该请求转发到适当的节点上，这个方法避免了使用注册中心中间件，但是实现比较复杂<br/>2. 使用分布式的协调服务，用户将所有的请求发送到路由层，由路由层将该请求转发到合适的节点<br/>3. 要求用户（客户端）自己知道分区和节点的分配</p><p data-pid=\"6YWbVEq4\">但是这其中还隐藏着一个问题：<b>作出决策的组件（节点之一、路由层或客户端）是如何了解数据在节点间的分配变化的</b>？这就需要一个独立的协调服务，比如使用 zookeeper 来跟踪元数据，如下图所示</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-1b695bd9a984fb2917bf88169be0dc83_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"834\" data-rawheight=\"784\" data-original-token=\"v2-1b695bd9a984fb2917bf88169be0dc83\" class=\"origin_image zh-lightbox-thumb\" width=\"834\" data-original=\"https://pic4.zhimg.com/v2-1b695bd9a984fb2917bf88169be0dc83_r.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p data-pid=\"-phso4Uu\">每个节点都会在 zookeeper 中进行注册，zookeeper 中维护有节点到各个分区的可靠映射，负责决策的组件在 zookeeper 中订阅这个消息。当分区分配发生改变时，zookeeper 就会通知负责决策的组件更新路由信息，使其保持在最新的状态。</p><p data-pid=\"Cyr3TKfR\">除此之外也可以在各个节点间采用 <b>流言协议</b> 来传播集群状态的变化，这样每个节点都维护有最新的数据路由方案，当其中一个节点收到请求时，会将其转发到合适的分区节点上（对应服务发现的方案一）。</p>",
        "thumbnails": [
          "https://picx.zhimg.com/50/v2-b497513fc72b903eed5e4ac5bf394222_720w.jpg?source=b6762063",
          "https://pic1.zhimg.com/50/v2-1b695bd9a984fb2917bf88169be0dc83_720w.jpg?source=b6762063"
        ],
        "article_type": "normal",
        "voteup_count": 0,
        "excerpt": "1. 为什么要分区？ 分区（partitions） 也被称为 分片（sharding），通常采用对数据进行分区的方式来增加系统的 可伸缩性，以此来面对非常大的数据集或非常高的吞吐量，避免出现热点。分区通常和复制结合使用，使得每个分区的副本存储在多个节点上，保证数据副本的 高可用。如下图所示，如果数据库被分区，每个分区都有一个主库。不同分区的主库可能在不同的节点上，每个节点可能是某些分区的主库，同时是其他分区的从库。   1.1 …",
        "visited_count": 87
      },
      "brief": "{\"source\": \"TS\", \"type\": \"article\", \"id\": 1977062675881170891}",
      "attached_info": "CukGCIDz8YnkvaDVsQEQBxoJMjY2ODgyNjE3IIWKm8kGKAAwAEBtSjAKBkl0ZW1DRhIgZG9jX3R5cGU6IEFydGljbGUKaWQ6IDI1MDE4NjQxMwoYACAAOgBiIGVhZWE1NDA2NmM4MTlhNmE3OWI5ZmNiZTFkOTIyMzM0chMxOTc3MDYyNjc1ODgxMTcwODkxqgEJcmVjb21tZW5kwgEgMTMxMWU0OTU0Y2Y5Y2EzMDQyMmEzZTljYzYyOTBhMWXyAQoIDBIGTm9ybWFs8gEoCAoSJDIwZmVlZTM0LTYyNGEtNDZiMy1hNTRkLTg2ZWYzODIzZWE4MvIBBggLEgIxOYICAIgCpf7gm7kzkgIgMTMxMWU0OTU0Y2Y5Y2EzMDQyMmEzZTljYzYyOTBhMWWaAgDKAhRGaXJzdEJydXNoV2VpZ2h0UnVsZcoCFlNob3JJbnRlcmVzdFdlaWdodFJ1bGXaAgZJdGVtQ0boAgP6AgtOT1JNQUxfRkxPV4oDIDk5YzM0YTgzZDIxNTQ3NWM4ZDA3YTM0ZmEyYTcwNzdmmgMNCgJ2MhAAGgVvdGhlcqgDV9gDAOoDFXRleHRBbGxTaXRlTXZJdGVtQ0ZWMvoDigISDFVOS05PV05fTU9ERSAAKg1OT19JTUFHRV9NT0RFOi0IBBDiCBjUBCIjdjItZmIyZTA4YzY2ZmI5OWIwZmViMWZjZmIzMzNkMTlhZTE6LQgCEOAIGNQFIiN2Mi1iNDk3NTEzZmM3MmI5MDNlZWQ1ZTRhYzViZjM5NDIyMjotCAIQ4ggY6AQiI3YyLWZhM2IyMGYwZjQ3ODJkODFmNGU3NmRmZGYwNzAwY2ZjOi0IAhDiCBiGBCIjdjItZTliY2Y1NjgxN2E5ODQwMmFkOTgwMDQzMDQ0YTU0Zjk6LQgDEMIGGJAGIiN2Mi0xYjY5NWJkOWE5ODRmYjI5MTdiZjg4MTY5YmUwZGM4M4AEAIgEAJIEBk5vcm1hbJoEATOgBACoBACwBAC6BAJhacIEAzQwMMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAAIzUbj+BBQAAAAAAAAAAiQX7l9MTRImyP5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AUTkAYAoAZuqAYDkgIuCgkyNjY4ODI2MTcSEzE5NzcwNjI2NzU4ODExNzA4OTEYByIKSU1BR0VfVEVYVA==",
      "action_card": false
    },
    {
      "id": "110_1767705690.77",
      "type": "feed",
      "offset": 110,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1767705690,
      "updated_time": 1767705690,
      "target": {
        "voteup_count": 17006,
        "comment_count": 755,
        "excerpt_new": "就这个，看一眼就令人怀疑自己语文水平，再看一眼就会爆炸",
        "preview_text": "",
        "url": "https://api.zhihu.com/answers/3321736871",
        "author": {
          "headline": "半是天才半是庸",
          "is_following": false,
          "is_followed": false,
          "id": "699e4b5040d4a99bd74abffcf588f17c",
          "user_type": "people",
          "url_token": "en-nian-87-82",
          "is_org": false,
          "gender": 1,
          "followers_count": 207,
          "url": "https://api.zhihu.com/people/699e4b5040d4a99bd74abffcf588f17c",
          "name": "恩年",
          "avatar_url": "https://pica.zhimg.com/50/v2-dabc433eb0b548cced6de03d0c15a89e_l.jpg?source=b6762063"
        },
        "updated_time": 1702287685,
        "is_copyable": false,
        "question": {
          "created": 1575255810,
          "answer_count": 0,
          "relationship": {
            "is_author": false
          },
          "question_type": "normal",
          "type": "question",
          "title": "一句话的信息量能大到什么程度？",
          "detail": "",
          "author": {
            "url": "https://api.zhihu.com/people/84cd60eb221c97add262655f593dc54b",
            "is_following": false,
            "headline": "施工",
            "avatar_url": "https://picx.zhimg.com/50/v2-bee16c8910209cd9d8d1ed755fa25f19_l.jpg?source=b6762063",
            "is_org": false,
            "gender": -1,
            "id": "84cd60eb221c97add262655f593dc54b",
            "user_type": "people",
            "url_token": "luo-bin-96-68",
            "name": "罗斌",
            "followers_count": 0,
            "is_followed": false
          },
          "url": "https://api.zhihu.com/questions/358861765",
          "follower_count": 0,
          "comment_count": 77,
          "bound_topic_ids": [
            307,
            767,
            24048
          ],
          "is_following": false,
          "excerpt": "",
          "id": "358861765"
        },
        "preview_type": "default",
        "relationship": {
          "is_thanked": false,
          "is_nothelp": false,
          "voting": 0
        },
        "vote_next_step": "vote",
        "allow_segment_interaction": true,
        "reshipment_settings": "disallowed",
        "content": "<p></p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-503c5637507d1396444d5500a91d8129_1440w.jpg\" data-rawwidth=\"1122\" data-rawheight=\"311\" data-size=\"normal\" data-original-token=\"v2-cf763f14c74aa1fa0c351cab14b1346e\" data-default-watermark-src=\"https://pic4.zhimg.com/v2-c52b05277189b10de263b1a51d7b3fbb_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1122\" data-original=\"https://pic4.zhimg.com/v2-503c5637507d1396444d5500a91d8129_r.jpg\"/></figure><p data-pid=\"FiJgV9Kc\">就这个，看一眼就令人怀疑自己语文水平，再看一眼就会爆炸</p>",
        "is_labeled": false,
        "visited_count": 3006800,
        "favorite_count": 769,
        "id": "3321736871",
        "type": "answer",
        "created_time": 1702287685,
        "thanks_count": 554,
        "excerpt": "就这个，看一眼就令人怀疑自己语文水平，再看一眼就会爆炸",
        "answer_type": "normal",
        "is_navigator": false,
        "navigator_vote": false
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 3321736871}",
      "attached_info": "Cp0GCIDz8YnkvaDVsQEQBBoJNjM0MDMwOTIxIMWy26sGKO6EATDzBUBuSkwKE1RTX1NPVVJDRV9IT1RfQ1JPU1MSL2hvdF9yZWNhbGxfMzBkOm5vcm1hbDpiaWd5b3VuZ3N0ZXI65LiA57q/5Z+O5biCGAAgADoAWgg0MjAyNTUyOWIgZWFlYTU0MDY2YzgxOWE2YTc5YjlmY2JlMWQ5MjIzMzRyCjMzMjE3MzY4NzGKAQkzNTg4NjE3NjWqAQlyZWNvbW1lbmTCASA2OTllNGI1MDQwZDRhOTliZDc0YWJmZmNmNTg4ZjE3Y/IBCggMEgZOb3JtYWzyASgIChIkYWExNWFkOTctNDdmNS00ZWRmLWI3ZDItOWQ4YjgyYWQxNTEz8gEGCAsSAjE5ggIAiAKl/uCbuTOSAiA2OTllNGI1MDQwZDRhOTliZDc0YWJmZmNmNTg4ZjE3Y5oCAMoCFEZpcnN0QnJ1c2hXZWlnaHRSdWxlygIWU2hvckludGVyZXN0V2VpZ2h0UnVsZcoCFENvbnRlbnRBZ2VXZWlnaHRSdWxlygIXVGVzdGVkQW5kV29ya1dlaWdodFJ1bGXaAhNUU19TT1VSQ0VfSE9UX0NST1NT6AIC+gILTk9STUFMX0ZMT1eKAyA5OWMzNGE4M2QyMTU0NzVjOGQwN2EzNGZhMmE3MDc3ZpoDDQoCdjIQABoFb3RoZXKoA9DCtwHYAwDqAxVob3RDcm9zc01lcmdlUmVjYWxsZXL6A04SDFVOS05PV05fTU9ERSAAKg1OT19JTUFHRV9NT0RFOi0IAhDiCBi3AiIjdjItY2Y3NjNmMTRjNzRhYTFmYTBjMzUxY2FiMTRiMTM0NmWABACIBACSBAZOb3JtYWyaBAEyoAQAqAQAsAQAugQGbWFudWFswgQDMTU3yAQA0gQP5o6o6I2Q5bey5pu05paw2AQA8AQA+QQAAADApPe0P4EFAAAAAAAAAACJBfuX0xNEibI/kgUAmgUDZGZ0ogUDZGZ0sgUBMbkFAAAAAAAAAADQBQDgBQDoBQDwBROQBgCgBm+oBgCSAiUKCTYzNDAzMDkyMRIKMzMyMTczNjg3MRgEIgpJTUFHRV9URVhU",
      "action_card": false
    },
    {
      "id": "111_1767705690.816",
      "type": "feed",
      "offset": 111,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1767705690,
      "updated_time": 1767705690,
      "target": {
        "content": "<p data-pid=\"AlrhHq0l\">你绝对想象不到，儿童英语赛道最狠的镰刀，并不是英语老师，而是很多连英语四级都没过的宝妈。<b>商业的核心从来都不是专业（专业只能去打工），而是抓住用户的核心购买理由，而聪明的宝妈就抓住一个“儿童睡前磨耳朵”的需求，涨粉出单如麻。</b></p><p data-pid=\"pPX02iuX\">使用免费的AI软件（工具）做你的英语顾问，营销专家，剪辑师。</p><p data-pid=\"ZwqeV7gE\"><b>豆包/deepseek</b>生成英语文案+画面，专属动画师</p><p data-pid=\"aHgcOHBJ\"><b>我是一名育儿博主，我要做儿童启蒙英语磨耳朵的短视频，请帮我生成一段以“苹果”为主题的适合3-6岁儿童启蒙的双语英语绘本文案，要求：语言简洁，句式简单，句子短小，带有节奏感，方便配画面，适合分镜展示，英文下面紧跟中文翻译，翻译用口语化表达，小朋友能够理解；开头用“one day……”引入，主角是一个小动物或小朋友；设计一个小的挑战或目标，如学游泳、种植物、第一次飞翔、交朋友等；在故事中加入妈妈、朋友或大自然的鼓励和引导；通过简短动作句子表现主角的尝试与过程；结尾主角要有小小的成功或成长，并用一句简短的寓意来升华故事，如：Good things take time, be brave, you can do it.（美好的事物需要时间的沉淀，勇敢一点，你一定可以的。）；最后加一个面向观众的互动提问，如：What will you try bravely today?并加上“Like and follow.”</b>（每句不超过5个字，共6-8句；加入“摸苹果”“闻苹果”和“吃苹果”等动作描述，）</p><p data-pid=\"K-Y16cmb\"><b>请你帮我生成12张儿童绘本书籍插画风格图片（</b>提示词<b>），</b>（分别为每一句生成一张拟人化苹果的图片，苹果带有微笑表情。）<b>要求：蜡笔画卡通风格/手绘风分镜图（整体画面带有蜡笔质感和笔触，且能看到清晰的纸张纹理，草地和背景采用短促、重复性的scribble笔触，表现草的“随手画”质感），4K高清，整体色彩明亮，线条圆润，无尖锐元素，幼仔拟人化动物，同一角色建模，表情生动可爱，环境丰富，构图干净，突出角色。/</b>每张内容明确：1.苹果举着绿色叶子挥手（表情微笑）；2.苹果坐进红色小汽车（车轮是圆形，车身画小云朵装饰）；3.苹果捧着一个小篮子（篮子里有3个小苹果）；4.苹果摸了摸自己的红色果皮；5.苹果躺在白色云朵上（手里拿一颗星星）。</p><p data-pid=\"Q0gkSo4c\">若图片里面有个部件不太满意，直接跟他说，比如改成开汽车，氛围更童趣一点，瞬间就能调整好。</p><p data-pid=\"BMnOp91d\">/<b>即梦</b>，</p><p data-pid=\"3cwn4dqS\">图片生成，粘贴提示词，16:9，生成，找到自己满意的一张，生成视频，提示词输入可以让图片动起来的描述，如：小鸟看着远处，周围的环境随着风飘动。后面的视频按照演示的步骤一个一个地去生成。</p><p data-pid=\"UiwLqRsR\">视频生成，“跟随固定镜头，小车缓慢地向前方开启”</p><p data-pid=\"k5ZGLvOc\">/豆包再点击“视频生成（AI创作）”，就能快速变成动画。</p><p data-pid=\"WeoqpmbP\"><b>剪映</b>，做细节，很关键，</p><p data-pid=\"IVyMTP4W\">提取音乐导入生成的<b>配音</b>，识别字母双语。</p><p data-pid=\"H6mkWCwh\"><b>/配音：</b>软乎乎的小女孩声音朗读，每句话之间留1秒的间隔，千万不要跟学校老师一样“赶火车”，孩子得有反应时间，慢到孩子能跟得上。</p><p data-pid=\"rJLxlG10\"><b>背景音乐：治愈的</b>小星星钢琴曲，睡前听一听，跟着英语进入梦乡。</p><p data-pid=\"iDBMYrS3\">这才是真正懂宝妈的产品，不要再迷信学历、专家、教授了，世界就是个草台班子。至少在育儿这个领域，宝妈更懂宝妈。</p><p data-pid=\"Y8Dh1_Og\">当AI已经具备了一切的专业知识和技能，一个宝妈+AI，足以吊打所谓的教育专家，这才是这个世界该有的正常逻辑。</p><figure data-size=\"normal\"><img src=\"https://picx.zhimg.com/v2-15abbb7669a2c4817053bbf556262b67_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"168\" data-rawheight=\"168\" data-original-token=\"v2-15abbb7669a2c4817053bbf556262b67\" class=\"content_image\" width=\"168\"/></figure><p></p>",
        "relationship": {
          "is_nothelp": false,
          "voting": 0,
          "is_thanked": false
        },
        "id": "1986910234250331703",
        "created_time": 1766496314,
        "updated_time": 1766496314,
        "voteup_count": 57,
        "is_copyable": true,
        "question": {
          "title": "如何去做成功一人公司？",
          "detail": "",
          "id": "6205562565",
          "type": "question",
          "author": {
            "is_org": false,
            "gender": 1,
            "url": "https://api.zhihu.com/people/5f0e91f5534ec9661daa0a8137b74b41",
            "user_type": "people",
            "avatar_url": "https://picx.zhimg.com/50/v2-aebdb92fd385e77e33e77d04c696a63e_l.jpg?source=b6762063",
            "headline": "公众号酷谈，每天一篇认知干货，提升你的赚钱能力",
            "badge": [
              {
                "type": "identity_people",
                "description": "CMA美国注册管理会计师资格证持证人"
              }
            ],
            "followers_count": 599,
            "is_following": false,
            "is_followed": false,
            "id": "5f0e91f5534ec9661daa0a8137b74b41",
            "url_token": "forever-love-44",
            "name": "酷谈"
          },
          "created": 1733548301,
          "answer_count": 0,
          "comment_count": 1,
          "excerpt": "",
          "relationship": {
            "is_author": false
          },
          "url": "https://api.zhihu.com/questions/6205562565",
          "follower_count": 0,
          "question_type": "normal",
          "is_following": false
        },
        "vote_next_step": "vote",
        "navigator_vote": false,
        "type": "answer",
        "url": "https://api.zhihu.com/answers/1986910234250331703",
        "author": {
          "url": "https://api.zhihu.com/people/8dcda6fe6c0a61f09a3be2aede2189d1",
          "url_token": "zqp0n3",
          "name": "简丹·小课堂",
          "headline": "我是jiandanxkt  有线↑课",
          "avatar_url": "https://picx.zhimg.com/50/v2-960117d0bd157258e9457d680537db6a_l.jpg?source=b6762063",
          "gender": 0,
          "is_followed": false,
          "id": "8dcda6fe6c0a61f09a3be2aede2189d1",
          "is_org": false,
          "followers_count": 8,
          "is_following": false,
          "user_type": "people"
        },
        "comment_count": 1,
        "preview_type": "default",
        "is_labeled": false,
        "excerpt_new": "你绝对想象不到，儿童英语赛道最狠的镰刀，并不是英语老师，而是很多连英语四级都没过的宝妈。 商业的核心从来都不是专业（专业只能去打工），而是抓住用户的核心购买理由，而聪明的宝妈就抓住一个“儿童睡前磨耳朵”的需求，涨粉出单如麻。使用免费的AI软件（工具）做你的英语顾问，营销专家，剪辑师。 豆包/deepseek生成英语文案+画面，专属动画师 我是一名育儿博主，我要做儿童启蒙英语磨耳朵的短视频，请帮我生成一段以“苹…",
        "visited_count": 5198,
        "favorite_count": 275,
        "answer_type": "normal",
        "is_navigator": false,
        "allow_segment_interaction": true,
        "thanks_count": 3,
        "excerpt": "你绝对想象不到，儿童英语赛道最狠的镰刀，并不是英语老师，而是很多连英语四级都没过的宝妈。 商业的核心从来都不是专业（专业只能去打工），而是抓住用户的核心购买理由，而聪明的宝妈就抓住一个“儿童睡前磨耳朵”的需求，涨粉出单如麻。使用免费的AI软件（工具）做你的英语顾问，营销专家，剪辑师。 豆包/deepseek生成英语文案+画面，专属动画师 我是一名育儿博主，我要做儿童启蒙英语磨耳朵的短视频，请帮我生成一段以“苹…",
        "preview_text": "",
        "reshipment_settings": "allowed"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1986910234250331703}",
      "attached_info": "CqYGCIDz8YnkvaDVsQEQBBoJNzYyMzYyMjE2ILqwqsoGKDkwAUBvSicKHFRTX1NPVVJDRV9DT05DRVBUX1dPUkRfTUVSR0USATAYACAAOgBKKAodVFNfU09VUkNFX05FQVJMSU5FX0NPTlRFTlRfVjISATAYACAAOgBaCTExMjIxNzkxNWIgZWFlYTU0MDY2YzgxOWE2YTc5YjlmY2JlMWQ5MjIzMzRyEzE5ODY5MTAyMzQyNTAzMzE3MDOKAQo2MjA1NTYyNTY1qgEJcmVjb21tZW5kwgEgOGRjZGE2ZmU2YzBhNjFmMDlhM2JlMmFlZGUyMTg5ZDHyAQoIDBIGTm9ybWFs8gEoCAoSJDllNjI3YTBiLTllZDItNDBhNS1iZmQ5LTAzODg4YmI4OWQ2ZPIBBggLEgIxOYICAIgCpf7gm7kzkgIgOGRjZGE2ZmU2YzBhNjFmMDlhM2JlMmFlZGUyMTg5ZDGaAgDKAhRGaXJzdEJydXNoV2VpZ2h0UnVsZcoCFlNob3JJbnRlcmVzdFdlaWdodFJ1bGXKAhtJbnRlcmFjdGlvblNob3JJbnRlcmVzdFJ1bGXaAhxUU19TT1VSQ0VfQ09OQ0VQVF9XT1JEX01FUkdF6AID+gILTk9STUFMX0ZMT1eKAyA5OWMzNGE4M2QyMTU0NzVjOGQwN2EzNGZhMmE3MDc3ZpoDDQoCdjIQABoFb3RoZXKoA84o2AMA6gMhQ29uY2VwdFdvcmRNZXJnZU5ld1YxUG9vbFJlY2FsbGVy+gNOEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERTotCAIQqAEYqAEiI3YyLTE1YWJiYjc2NjlhMmM0ODE3MDUzYmJmNTU2MjYyYjY3gAQAiAQAkgQGTm9ybWFsmgQBM6AEAKgEALAEALoEAmFpwgQDNDAwyAQA0gQP5o6o6I2Q5bey5pu05paw2AQA8AQA+QQAAABAgbyLP4EFAAAAAAAAAACJBfuX0xNEibI/kgUAmgUDZGZ0ogUDZGZ0sgUBMbkFAAAAAAAAAADQBQDgBQDoBQDwBROQBgCgBnCoBgCSAi4KCTc2MjM2MjIxNhITMTk4NjkxMDIzNDI1MDMzMTcwMxgEIgpJTUFHRV9URVhU",
      "action_card": false
    },
    {
      "id": "112_1767705690.596",
      "type": "feed",
      "offset": 112,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1767705690,
      "updated_time": 1767705690,
      "target": {
        "comment_count": 51,
        "favorite_count": 13,
        "is_navigator": false,
        "is_copyable": false,
        "excerpt_new": "兼职佛系做自媒体5年（根据各大自媒体平台有个人发布记录计算），今年（2025）截至12月17日在三个平台共计挣到7751.04元：   小红书今年4月以后因为对某些现象不能妥协就没有继续（为爱发电的忽略不计）；问一问（微信）今年1月试水写了三篇，2月17日开始专攻，3月16日开通流量主收益，每月收益超过800元超过的部分便要扣税，而12月还有近半个月，按我账号日均收益测算，估算今年的自媒体实收总收益能达到7800元（置换合作的商品除…",
        "thumbnails": [
          "https://pica.zhimg.com/50/v2-9ea12f0bc3c421b205919fee2d39a568_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-806745de1fe999b0a0b1d220b938461b_720w.jpg?source=b6762063"
        ],
        "allow_segment_interaction": true,
        "type": "answer",
        "updated_time": 1765979328,
        "navigator_vote": false,
        "created_time": 1765968855,
        "visited_count": 1170,
        "url": "https://api.zhihu.com/answers/1984697908973572865",
        "author": {
          "url": "https://api.zhihu.com/people/6ec2e2fc9090812fd25fe1ed916f5789",
          "headline": "母婴知势榜上榜答主｜7年养育经验｜儿童和生活好物分享",
          "avatar_url": "https://pica.zhimg.com/50/v2-80662a00bb0c61c3f7e7538c3382b050_l.jpg?source=b6762063",
          "badge": [
            {
              "description": "教师资格证持证人",
              "type": "identity_people"
            }
          ],
          "is_following": false,
          "is_followed": false,
          "id": "6ec2e2fc9090812fd25fe1ed916f5789",
          "user_type": "people",
          "url_token": "gu-xiao-bei-3-71",
          "name": "久锡",
          "is_org": false,
          "gender": 0,
          "followers_count": 4160
        },
        "preview_text": "",
        "relationship": {
          "is_thanked": false,
          "is_nothelp": false,
          "voting": 0
        },
        "id": "1984697908973572865",
        "thanks_count": 11,
        "question": {
          "title": "自媒体大多数情况下并不能养活自己，为何还有那么多人去做？",
          "bound_topic_ids": [
            32797,
            2146959
          ],
          "is_following": false,
          "relationship": {
            "is_author": false
          },
          "detail": "",
          "url": "https://api.zhihu.com/questions/1969494199465415456",
          "created": 1762344008,
          "comment_count": 5,
          "question_type": "normal",
          "id": "1969494199465415456",
          "answer_count": 0,
          "follower_count": 0,
          "type": "question",
          "author": {
            "badge": [
              {
                "type": "identity_people",
                "description": "文化艺术/娱乐业 业务经理"
              }
            ],
            "is_following": false,
            "id": "ff5e570d27ed7ac18d55925fb6397d36",
            "url": "https://api.zhihu.com/people/ff5e570d27ed7ac18d55925fb6397d36",
            "name": "壹介书生",
            "headline": "读书  写作  运动 旅游",
            "is_org": false,
            "gender": 1,
            "user_type": "people",
            "url_token": "87B7",
            "avatar_url": "https://picx.zhimg.com/50/v2-4bd5fe56b95fba72dab652bceccfc6bc_l.jpg?source=b6762063",
            "followers_count": 291,
            "is_followed": false
          },
          "excerpt": ""
        },
        "reshipment_settings": "disallowed",
        "excerpt": "兼职佛系做自媒体5年（根据各大自媒体平台有个人发布记录计算），今年（2025）截至12月17日在三个平台共计挣到7751.04元：   小红书今年4月以后因为对某些现象不能妥协就没有继续（为爱发电的忽略不计）；问一问（微信）今年1月试水写了三篇，2月17日开始专攻，3月16日开通流量主收益，每月收益超过800元超过的部分便要扣税，而12月还有近半个月，按我账号日均收益测算，估算今年的自媒体实收总收益能达到7800元（置换合作的商品除…",
        "content": "<p data-pid=\"zUkAp0JA\">兼职佛系做自媒体5年（根据各大自媒体平台有个人发布记录计算），今年（2025）截至12月17日在三个平台共计挣到7751.04元：</p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-9fcfeaf77b2a2c19221d82ae59210f18_1440w.jpg\" data-rawwidth=\"1024\" data-rawheight=\"312\" data-size=\"normal\" data-original-token=\"v2-37d147edad5dd0f8ae8f69580bdb684d\" class=\"origin_image zh-lightbox-thumb\" width=\"1024\" data-original=\"https://pica.zhimg.com/v2-9fcfeaf77b2a2c19221d82ae59210f18_r.jpg\"/><figcaption>2024年知乎+小红书6322.73元；2021年－2023年知乎+书评稿7498.65元；置换合作商品未统计，今日头条、百家号、简书的零星忽略不计</figcaption></figure><p data-pid=\"slpw-8ye\">小红书今年4月以后因为对某些现象不能妥协就没有继续（为爱发电的忽略不计）；问一问（微信）今年1月试水写了三篇，2月17日开始专攻，3月16日开通流量主收益，每月收益超过800元超过的部分便要扣税，而12月还有近半个月，按我账号日均收益测算，估算今年的自媒体实收总收益能达到7800元（置换合作的商品除外）。</p><p data-pid=\"LigtWQmw\">作为一位现实生活中兼职两份工作然而一点素材也不能反哺自媒体的普通创作者，并且也没有深度链接以上三个平台某个领域的平台运营、达人、圈子等，不收徒不卖课，只是整合个人家庭生活、育儿和自我学习三方面的素材，每天利用空闲的时间码字发布，高兴的时候多写，愿意钻研的时候精写，疲惫了就歇，不用风吹日晒雨淋，你说，有这个收益，我为什么不继续？</p><p data-pid=\"oS51chiW\">别看这只是1万不到的年收益，我把它一点点攒起来，充盈我的小金库，看着某张用来存钱的银行卡每月每月的金额在增长，被其他两份兼职工作磋磨的苦、被猪队友不理解的烦……全都化为一个个跳跃在我这张存钱银行卡上闪闪发光的数字，告诉我<b>“生活还有属于自己的路”</b>。</p><p data-pid=\"nfPV64hh\">是的，这个年收益的确不能从<b>物质上</b>养活我，然而物质之外，我<b>内心的分享欲</b>终于有不怕别人嘲笑、打扰的地方可以安放。</p><p data-pid=\"d5YWYOaO\">从有社交平台使用记录开始，我就是一位<b>爱文字分享</b>多过口头表达的人。现在翻起以前非常中二的qq空间，虽然常常为自己的年轻无知尴尬捂脸，但却不失为留下青春痕迹的最好证明。</p><p data-pid=\"dKWpUguX\">2013年6月大学毕业以后，和猪队友（大学校园恋）跨省异地近1年，如果不是时常翻看在校时记录到qq日志的那些真挚与美好，可能仅靠一个月几通电话还要抵抗我父母的阻拦根本不可能将这段感情维持下去。</p><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-f37f0d9759f715c35105e14c96be69ef_1440w.jpg\" data-rawwidth=\"1440\" data-rawheight=\"2441\" data-size=\"normal\" data-original-token=\"v2-9ea12f0bc3c421b205919fee2d39a568\" class=\"origin_image zh-lightbox-thumb\" width=\"1440\" data-original=\"https://pic2.zhimg.com/v2-f37f0d9759f715c35105e14c96be69ef_r.jpg\"/></figure><p data-pid=\"4fn8PVXw\">来无锡工作以后，有一段时间我因为工作的事情无比焦虑，甚至整晚整晚失眠，那时候对抑郁一无所知，也不敢跟身边的同事讲太多自己的烦恼，我就利用周末时间写日志进行自我疗愈，没想到因此把我荒废的写作捡起来，并给我的工作带来转机。</p><p data-pid=\"kFxV0vIU\">时间一晃走到2018年，我生完儿子产假结束因为某些原因选择辞职带娃，并在2019年年初找到现在其中一份在家办公兼职的工作，也是跟文字有关的。</p><p data-pid=\"Iapc2u4c\">后来为了另寻一条出路，也为了排解自己一个人主力带娃的苦闷，2020年秋季利用空闲时间报课学习知乎自媒体运营和拆书稿写作，之后便陆陆续续开始兼职做自媒体之路。可以说，因为兼职写自媒体，我和猪队友、婆婆少了很多鸡零狗碎的互相蹉跎。</p><p data-pid=\"OtW0PH0M\">我也收起了以前下班后爱在微信朋友圈的碎碎念，把愿意分享的思考、想记录的经历等，写到了自媒体平台上。谁也不认识现实中的我，不会怕熟悉的人对号入座引起不必要的麻烦，也不怕陌生人评头论足至少迄今为止还没有那么大的影响力。还有一点很欣慰的，就是「宝妈的悲欢能相通」，那些在现实生活不被别人感同身受的带娃日夜，<b>在自媒体平台，我找到了同频的「世另我」</b>。</p><p data-pid=\"oFzvUXwI\">在我经营的自媒体账号里，我是我生活的主理人，不是谁的妻子、谁的妈妈、谁的打工牛马，虽然文字也可能被白嫖，但我的思想有地方追溯、我的成长有文字见证，甚至我那“一文不值”的追剧娱乐都能产出创作，这是物质给不了我的。</p><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-36ef3d01c73b8d7a367e3d2859eba5ef_1440w.jpg\" data-rawwidth=\"3686\" data-rawheight=\"3957\" data-size=\"normal\" data-original-token=\"v2-806745de1fe999b0a0b1d220b938461b\" class=\"origin_image zh-lightbox-thumb\" width=\"3686\" data-original=\"https://pic2.zhimg.com/v2-36ef3d01c73b8d7a367e3d2859eba5ef_r.jpg\"/><figcaption>短国今年也是好起来了，今天中午刷了刘萧旭、郭宇欣、王格格和余茵参加今年国剧盛典的视频</figcaption></figure><p data-pid=\"gmn3V3yp\">所以，你可能只是看到很多人做自媒体表面挣不到多少钱的“苦哈”，别人因为写自媒体丰盈的内心，你无从知晓。</p>",
        "vote_next_step": "vote",
        "voteup_count": 45,
        "thumbnail": "https://picx.zhimg.com/50/v2-9ea12f0bc3c421b205919fee2d39a568_720w.jpg?source=b6762063",
        "answer_type": "normal",
        "preview_type": "default",
        "is_labeled": false
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1984697908973572865}",
      "attached_info": "CtMHCIDz8YnkvaDVsQEQBBoJNzYxNDc4MDI0INeXisoGKC0wM0BwSjgKLVRTX1NPVVJDRV9JTlRFUkVTVF9XT1JEX0NPTlRFTlRfVkFMVUVfTEVWRUxfQhIBMBgAIAA6AEooCh1UU19TT1VSQ0VfTkVBUkxJTkVfQ09OVEVOVF9WMhIBMBgAIAA6AFoJMTE3MjIwMzMxYiBlYWVhNTQwNjZjODE5YTZhNzliOWZjYmUxZDkyMjMzNHITMTk4NDY5NzkwODk3MzU3Mjg2NYoBEzE5Njk0OTQxOTk0NjU0MTU0NTaqAQlyZWNvbW1lbmTCASA2ZWMyZTJmYzkwOTA4MTJmZDI1ZmUxZWQ5MTZmNTc4OfIBCggMEgZOb3JtYWzyASgIChIkMGNmYmM3OTUtNDYzNC00NDU3LTg3YzEtYjkxOWY3NGYxMWQy8gEGCAsSAjE5ggIAiAKm/uCbuTOSAiA2ZWMyZTJmYzkwOTA4MTJmZDI1ZmUxZWQ5MTZmNTc4OZoCAMoCFEZpcnN0QnJ1c2hXZWlnaHRSdWxlygIWU2hvckludGVyZXN0V2VpZ2h0UnVsZcoCG0ludGVyYWN0aW9uU2hvckludGVyZXN0UnVsZcoCF1Rlc3RlZEFuZFdvcmtXZWlnaHRSdWxl2gItVFNfU09VUkNFX0lOVEVSRVNUX1dPUkRfQ09OVEVOVF9WQUxVRV9MRVZFTF9C6AIE+gILTk9STUFMX0ZMT1eKAyA5OWMzNGE4M2QyMTU0NzVjOGQwN2EzNGZhMmE3MDc3ZpoDDQoCdjIQABoFb3RoZXKoA5IJ2AMA6gMqSW50ZXJlc3RXb3JkQ29udGVudFZhbHVlTGV2ZWxCUG9vbFJlY2FsbGVy+gOsARIMVU5LTk9XTl9NT0RFIAAqDU5PX0lNQUdFX01PREU6LQgCEIAIGLgCIiN2Mi0zN2QxNDdlZGFkNWRkMGY4YWU4ZjY5NTgwYmRiNjg0ZDotCAIQoAsYiRMiI3YyLTllYTEyZjBiYzNjNDIxYjIwNTkxOWZlZTJkMzlhNTY4Oi0IAhDmHBj1HiIjdjItODA2NzQ1ZGUxZmU5OTliMGEwYjFkMjIwYjkzODQ2MWKABACIBACSBAZOb3JtYWyaBAE0oAQAqAQAsAQAugQCYWnCBAM0MDDIBADSBA/mjqjojZDlt7Lmm7TmlrDYBADwBAD5BAAAAGCQ2JU/gQUAAAAAAAAAAIkF+5fTE0SJsj+SBQCaBQNkZnSiBQNkZnSyBQExuQUAAAAAAAAAANAFAOAFAOgFAPAFE5AGAKAGcagGAZICLgoJNzYxNDc4MDI0EhMxOTg0Njk3OTA4OTczNTcyODY1GAQiCklNQUdFX1RFWFQ=",
      "action_card": false
    },
    {
      "id": "113_1767705690.378",
      "type": "feed",
      "offset": 113,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1767705690,
      "updated_time": 1767705690,
      "target": {
        "updated_time": 1766932685,
        "is_copyable": true,
        "preview_text": "",
        "relationship": {
          "is_thanked": false,
          "is_nothelp": false,
          "voting": 0
        },
        "visited_count": 102,
        "is_navigator": false,
        "type": "answer",
        "author": {
          "id": "e5dbef3980791f1f6e9a29f43f2325c0",
          "url": "https://api.zhihu.com/people/e5dbef3980791f1f6e9a29f43f2325c0",
          "user_type": "people",
          "url_token": "15-83-79-92",
          "name": "三木彤",
          "is_following": false,
          "headline": "",
          "avatar_url": "https://picx.zhimg.com/50/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=b6762063",
          "is_org": false,
          "gender": 0,
          "followers_count": 0,
          "is_followed": false
        },
        "allow_segment_interaction": true,
        "comment_count": 0,
        "question": {
          "follower_count": 0,
          "detail": "",
          "id": "33321954",
          "comment_count": 0,
          "excerpt": "",
          "question_type": "normal",
          "author": {
            "url_token": "markliang",
            "name": "梁少聪",
            "avatar_url": "https://pica.zhimg.com/50/v2-3093df83e1d63cc9acaa110c5f9eb195_l.jpg?source=b6762063",
            "gender": 1,
            "followers_count": 437,
            "is_followed": false,
            "id": "9c9b71725894a1dc086af18673cd811d",
            "url": "https://api.zhihu.com/people/9c9b71725894a1dc086af18673cd811d",
            "user_type": "people",
            "headline": "喜欢古代文化的IT男",
            "is_org": false,
            "is_following": false
          },
          "created": 1437741590,
          "answer_count": 0,
          "bound_topic_ids": [
            872,
            1354,
            9089
          ],
          "type": "question",
          "url": "https://api.zhihu.com/questions/33321954",
          "title": "（Python）爬虫解析特殊验证码？",
          "is_following": false,
          "relationship": {
            "is_author": false
          }
        },
        "excerpt": "一、UA检测是反爬的“第一道防线”在Python数据采集领域， UA（User-Agent）检测是最基础、最常见的网站反爬机制，没有之一。无论是个人博客、资讯站点还是商用平台，几乎都会部署简单的UA检测，用于区分正常浏览器访问和恶意爬虫请求。精准识别网站是否开启UA检测，是后续顺利进行数据采集的前提（合法范围内）。本文从UA核心概念、检测原理、Python实战验证、真实站点识别技巧四个维度展开，所有代码均可直接复制运行，选用无…",
        "excerpt_new": "一、UA检测是反爬的“第一道防线”在Python数据采集领域， UA（User-Agent）检测是最基础、最常见的网站反爬机制，没有之一。无论是个人博客、资讯站点还是商用平台，几乎都会部署简单的UA检测，用于区分正常浏览器访问和恶意爬虫请求。精准识别网站是否开启UA检测，是后续顺利进行数据采集的前提（合法范围内）。本文从UA核心概念、检测原理、Python实战验证、真实站点识别技巧四个维度展开，所有代码均可直接复制运行，选用无…",
        "reshipment_settings": "allowed",
        "content": "<p></p><h2>一、UA检测是反爬的“第一道防线”</h2><p data-pid=\"XKTzV5xq\">在Python数据采集领域，<b>UA（User-Agent）检测</b>是最基础、最常见的网站反爬机制，没有之一。无论是个人博客、资讯站点还是商用平台，几乎都会部署简单的UA检测，用于区分正常浏览器访问和恶意爬虫请求。</p><p data-pid=\"pSFaNaMz\">精准识别网站是否开启UA检测，是后续顺利进行数据采集的前提（合法范围内）。本文从UA核心概念、检测原理、Python实战验证、真实站点识别技巧四个维度展开，所有代码均可直接复制运行，选用无反爬风险的公开测试站点，避免触及网站<code>robots.txt</code>协议与法律红线。</p><h2>二、核心基础：什么是UA？UA检测反爬的原理是什么？</h2><h3>2.1 什么是User-Agent（UA）</h3><p data-pid=\"OnU6W8dk\">User-Agent（简称UA）是HTTP请求头中的一个核心字段，用于向服务器传递<b>访问设备类型、浏览器版本、操作系统信息</b>等内容。简单来说，UA就是“访问者的身份名片”。</p><p data-pid=\"uLQYUANh\">举个常见的Chrome浏览器UA示例（可在自己浏览器F12开发者工具中获取）：</p><div class=\"highlight\"><pre><code class=\"language-text\">Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36</code></pre></div><p data-pid=\"q_Ea0G1x\">这段字符串包含了：操作系统（Windows 10 64位）、渲染引擎（AppleWebKit/537.36）、浏览器（Chrome 120.0.0.0）、兼容内核（Safari/537.36）。</p><h3>2.2 UA检测反爬的核心原理</h3><p data-pid=\"vEpS9gPF\">网站服务器端会预设“合法UA白名单”（主要包含主流浏览器的UA格式），当接收到客户端请求时，会执行以下判断逻辑：</p><ol><li data-pid=\"IhdZJz4O\">提取请求头中的<code>User-Agent</code>字段；</li><li data-pid=\"Dhwk3YI9\">判断该字段是否存在：无UA直接拒绝访问，返回<code>403 Forbidden</code>；</li><li data-pid=\"xId_gXBD\">判断UA格式是否合规：是否符合主流浏览器的UA结构，乱写的异常UA（如<code>123456</code>、<code>python-spider</code>）直接拦截；</li><li data-pid=\"zPXbMZpW\">（进阶）判断UA是否为已知爬虫UA：通过维护爬虫UA黑名单，拒绝常见爬虫框架的UA访问；</li><li data-pid=\"kbtXpibD\">验证通过则返回正常页面数据，验证失败则返回访问拒绝提示或空数据。</li></ol><h3>2.3 UA检测反爬的关键识别特征（新手必记）</h3><p data-pid=\"PYHvMjPZ\">这是快速判定网站是否开启UA检测的核心依据，记住这3点，可快速识别：</p><ol><li data-pid=\"NkOArjDF\">无UA请求返回<code>403 Forbidden</code>，或响应内容为空/包含“非法访问”提示；</li><li data-pid=\"whhVpCIo\">携带异常UA（乱写格式）请求，结果与无UA请求一致，均被拒绝；</li><li data-pid=\"Sk2v8rfL\">携带正常浏览器UA请求，返回<code>200 OK</code>和完整页面数据；</li><li data-pid=\"vlgFuPhj\">（补充）部分网站会返回<code>400 Bad Request</code>，提示“请求头格式错误”。</li></ol><h2>三、Python实战：UA检测反爬识别（三步验证法）</h2><p data-pid=\"XxZpxu6X\">本次实战选用<code>httpbin.org</code>（专门用于HTTP请求测试的公开站点，无反爬风险，可放心使用），使用<code>requests</code>库发送三种不同UA的请求，对比响应结果，完成UA检测识别。</p><h3>3.1 准备工作：安装requests库</h3><p data-pid=\"BapRKi3v\">若未安装<code>requests</code>库，先通过pip安装：</p><div class=\"highlight\"><pre><code class=\"language-text\">pip install requests</code></pre></div><h3>3.2 完整代码：三种UA场景对比测试</h3><div class=\"highlight\"><pre><code class=\"language-text\"># Python UA检测反爬识别实战（三步验证法）\nimport requests\n\n# 目标测试URL：专门返回请求头信息，方便验证UA是否传递成功\ntarget_url = &#34;http://httpbin.org/headers&#34;\n\ndef send_request(headers=None):\n    &#34;&#34;&#34;\n    发送HTTP GET请求，返回响应结果\n    :param headers: 请求头字典，可为None（无UA）\n    :return: 响应状态码、响应内容\n    &#34;&#34;&#34;\n    try:\n        resp = requests.get(target_url, headers=headers, timeout=10)\n        return resp.status_code, resp.json()  # httpbin.org返回JSON格式，方便解析\n    except Exception as e:\n        return None, f&#34;请求报错：{str(e)}&#34;\n\n# 场景1：无UA请求（不传递任何请求头）\nprint(&#34;=== 场景1：无UA请求 ===&#34;)\nstatus_code1, content1 = send_request()\nprint(f&#34;状态码：{status_code1}&#34;)\nprint(f&#34;响应内容：{content1}&#34;)\nprint(&#34;-&#34; * 60)\n\n# 场景2：异常UA请求（传递乱写的、不符合浏览器格式的UA）\nbad_headers = {\n    &#34;User-Agent&#34;: &#34;python-spider-123456&#34;  # 异常UA，无浏览器格式特征\n}\nprint(&#34;=== 场景2：异常UA请求 ===&#34;)\nstatus_code2, content2 = send_request(bad_headers)\nprint(f&#34;状态码：{status_code2}&#34;)\nprint(f&#34;响应内容：{content2}&#34;)\nprint(&#34;-&#34; * 60)\n\n# 场景3：正常浏览器UA请求（传递Chrome浏览器的合法UA）\ngood_headers = {\n    &#34;User-Agent&#34;: &#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36&#34;\n}\nprint(&#34;=== 场景3：正常浏览器UA请求 ===&#34;)\nstatus_code3, content3 = send_request(good_headers)\nprint(f&#34;状态码：{status_code3}&#34;)\nprint(f&#34;响应内容：{content3}&#34;)</code></pre></div><h3>3.3 运行结果分析与识别判定</h3><h3>1. 测试站点（<a href=\"https://link.zhihu.com/?target=http%3A//httpbin.org\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">http://</span><span class=\"visible\">httpbin.org</span><span class=\"invisible\"></span></a>）运行结果</h3><ul><li data-pid=\"ZOa75mwx\">场景1（无UA）：状态码<code>200</code>，响应内容中<code>User-Agent</code>字段为<code>python-requests/xx.xx.xx</code>（requests库默认UA）；</li><li data-pid=\"jqQvIAmD\">场景2（异常UA）：状态码<code>200</code>，响应内容中<code>User-Agent</code>字段为<code>python-spider-123456</code>（正常传递）；</li><li data-pid=\"iG96-h2m\">场景3（正常UA）：状态码<code>200</code>，响应内容中<code>User-Agent</code>字段为Chrome浏览器UA（正常传递）。</li></ul><h3>2. 真实站点UA检测识别判定逻辑</h3><p data-pid=\"zQXmjBkF\"><code>httpbin.org</code>仅用于测试请求，不做反爬拦截，而真实网站的判定逻辑如下：</p><ul><li data-pid=\"kvkmZkx-\">若场景1、场景2返回<code>403 Forbidden</code>（或<code>400</code>），场景3返回<code>200 OK</code>且包含完整页面数据→<b>判定存在UA检测反爬</b>；</li><li data-pid=\"hDXViK4r\">若三个场景均返回<code>200 OK</code>且数据完整→<b>判定未开启UA检测反爬</b>；</li><li data-pid=\"uIz8AlFX\">补充：若场景1返回<code>403</code>，场景2、场景3返回<code>200</code>→<b>判定仅验证UA是否存在，不验证格式合规性</b>（弱UA检测）。</li></ul><h2>四、进阶技巧：真实站点UA检测反爬识别要点</h2><h3>4.1 如何获取真实有效的浏览器UA？</h3><p data-pid=\"PkV6xBx-\">这是新手最容易踩坑的点，获取合法UA的步骤如下：</p><ol><li data-pid=\"z4Qf27Et\">打开Chrome/Edge浏览器，访问目标站点；</li><li data-pid=\"KoLvVqm8\">按<code>F12</code>打开开发者工具，切换到「Network」（网络）面板；</li><li data-pid=\"kSh3bhEq\">刷新页面，找到任意一个<code>GET</code>请求（通常是第一个文档请求），点击进入；</li><li data-pid=\"2iMNPviv\">下拉找到「Request Headers」（请求头），复制<code>User-Agent</code>对应的完整值；</li><li data-pid=\"39qmPI0I\">直接粘贴到Python请求头字典中，避免手动输入错误。</li></ol><h3>4.2 真实站点识别的核心技巧</h3><ol><li data-pid=\"CDGmbrIK\"><b>先浏览器，后Python</b>：先用浏览器正常访问，记录状态码和页面核心内容（如标题、关键数据），再用Python模拟，逐步对比差异；</li><li data-pid=\"ciYOMB-7\"><b>关注响应内容，而非仅状态码</b>：部分网站会返回<code>200</code>状态码，但响应内容是“访问被拒绝”的提示页面，此时也判定存在UA检测；</li><li data-pid=\"vtRrjPnB\"><b>排查UA传递失败问题</b>：确保请求头字典的键是<code>User-Agent</code>（首字母大写，无拼写错误），避免写成<code>user-agent</code>（部分严格网站会拦截）；</li><li data-pid=\"R_isNjti\"><b>批量验证UA有效性</b>：对于不确定的UA，可整理一个UA列表，通过循环发送请求，验证哪些UA可以正常通过检测；</li><li data-pid=\"IA2J_a25\"><b>识别隐藏的UA检测</b>：部分网站会验证UA中的浏览器版本、操作系统信息，即使格式合规，若版本过旧（如Chrome 50.0）也会被拦截。</li></ol><h3>4.3 实战示例：真实弱UA检测站点验证</h3><div class=\"highlight\"><pre><code class=\"language-text\"># 真实弱UA检测站点验证（以公开资讯站点为例，替换为合法公开站点）\nimport requests\n\n# 目标真实站点URL（合法公开，无反爬风险）\nreal_url = &#34;https://www.example.com/news&#34;\n\n# 1. 无UA请求\nprint(&#34;=== 真实站点：无UA请求 ===&#34;)\ntry:\n    resp1 = requests.get(real_url, timeout=10)\n    print(f&#34;状态码：{resp1.status_code}&#34;)\n    print(f&#34;页面是否包含核心内容：{&#39;新闻&#39; in resp1.text}&#34;)\nexcept Exception as e:\n    print(f&#34;报错：{e}&#34;)\nprint(&#34;-&#34; * 60)\n\n# 2. 正常浏览器UA请求\ngood_headers = {\n    &#34;User-Agent&#34;: &#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36&#34;\n}\nprint(&#34;=== 真实站点：正常UA请求 ===&#34;)\ntry:\n    resp2 = requests.get(real_url, headers=good_headers, timeout=10)\n    print(f&#34;状态码：{resp2.status_code}&#34;)\n    print(f&#34;页面是否包含核心内容：{&#39;新闻&#39; in resp2.text}&#34;)\nexcept Exception as e:\n    print(f&#34;报错：{e}&#34;)</code></pre></div><h2>五、常见问题与避坑指南</h2><ol><li data-pid=\"swiDx4SE\"><b>Q：requests库默认会传递UA吗？</b> A：会的，requests库默认的UA是<code>python-requests/xx.xx.xx</code>（xx为版本号），大部分开启UA检测的网站会直接拦截这个默认UA。</li><li data-pid=\"Hk0V5SEB\"><b>Q：为什么复制了浏览器的UA，还是被拦截？</b> A：可能有三个原因：① UA拼写错误或格式不全；② 网站开启了多重反爬（除了UA检测，还有IP封禁）；③ 浏览器中的UA包含动态字段，复制后已失效。</li><li data-pid=\"xAnylSZ3\"><b>Q：可以使用第三方UA池吗？</b> A：可以，对于频繁采集的场景，可使用公开UA池或自建UA池，但需注意UA的有效性和合规性，避免使用恶意爬虫UA。</li><li data-pid=\"Ei5cJ7CS\"><b>Q：UA检测反爬的应对原则是什么？</b> A：核心是“伪装成正常浏览器”，即传递合规、有效的浏览器UA，避免高频请求，遵守网站<code>robots.txt</code>协议，合法合规采集数据。</li></ol><p></p>",
        "id": "1988740504452605950",
        "thanks_count": 0,
        "vote_next_step": "vote",
        "favorite_count": 8,
        "answer_type": "normal",
        "url": "https://api.zhihu.com/answers/1988740504452605950",
        "created_time": 1766932685,
        "is_labeled": false,
        "navigator_vote": false,
        "voteup_count": 1,
        "preview_type": "default"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1988740504452605950}",
      "attached_info": "Cu4GCIDz8YnkvaDVsQEQBBoJNzYzMDcxMTQ5IM2BxcoGKAEwAEBxSkIKLVRTX1NPVVJDRV9UV09UT1dFUl9NVUxUSV9TQ0VORV9WMV9SRUNBTExfVEVYVBIBMBgAIAA6CnsicmF3IjoiIn1KKAodVFNfU09VUkNFX05FQVJMSU5FX0NPTlRFTlRfVjISATAYACAAOgBaBzU1MzUzNTRiIGVhZWE1NDA2NmM4MTlhNmE3OWI5ZmNiZTFkOTIyMzM0chMxOTg4NzQwNTA0NDUyNjA1OTUwigEIMzMzMjE5NTSqAQlyZWNvbW1lbmTCASBlNWRiZWYzOTgwNzkxZjFmNmU5YTI5ZjQzZjIzMjVjMPIBCggMEgZOb3JtYWzyASgIChIkYjhmYmM3ODEtODc2NS00NmVkLTk0NjAtNWJkNjI2YzhiNWVj8gEGCAsSAjE5ggIAiAKm/uCbuTOSAiBlNWRiZWYzOTgwNzkxZjFmNmU5YTI5ZjQzZjIzMjVjMJoCAMoCFEZpcnN0QnJ1c2hXZWlnaHRSdWxlygIWU2hvckludGVyZXN0V2VpZ2h0UnVsZcoCFkFjdGlvblNob3JJbnRlcmVzdFJ1bGXKAhtJbnRlcmFjdGlvblNob3JJbnRlcmVzdFJ1bGXKAhdUZXN0ZWRBbmRXb3JrV2VpZ2h0UnVsZcoCHEJheWVzRmlyc3RMZXZlbElzb2xhdGlvblJ1bGXaAi1UU19TT1VSQ0VfVFdPVE9XRVJfTVVMVElfU0NFTkVfVjFfUkVDQUxMX1RFWFToAgP6AgtOT1JNQUxfRkxPV4oDIDk5YzM0YTgzZDIxNTQ3NWM4ZDA3YTM0ZmEyYTcwNzdmmgMNCgJ2MhAAGgVvdGhlcqgDZtgDAOoDH3RleHRGZWVkVHdvVG93ZXJXYXJtdXBTdWNjZXNzVjH6Ax8SDFVOS05PV05fTU9ERSAAKg1OT19JTUFHRV9NT0RFgAQAiAQAkgQGTm9ybWFsmgQBM6AEAKgEALAEALoEAmFpwgQDNDAwyAQA0gQP5o6o6I2Q5bey5pu05paw2AQA8AQA+QQAAAAAASqKP4EFAAAAAAAAAACJBfuX0xNEibI/kgUAmgUDZGZ0ogUDZGZ0sgUBMbkFAAAAAAAAAADQBQDgBQDoBQDwBROQBgCgBnKoBgCSAi4KCTc2MzA3MTE0ORITMTk4ODc0MDUwNDQ1MjYwNTk1MBgEIgpJTUFHRV9URVhU",
      "action_card": false
    }
  ],
  "paging": {
    "is_end": false,
    "is_start": false,
    "next": "https://www.zhihu.com/api/v3/feed/topstory/recommend?action=down&ad_interval=-10&after_id=113&desktop=true&end_offset=114&page_number=20&session_token=eaea54066c819a6a79b9fcbe1d922334",
    "previous": "https://www.zhihu.com/api/v3/feed/topstory/recommend?action=pull&ad_interval=-10&before_id=113&desktop=true&end_offset=114&page_number=20&session_token=eaea54066c819a6a79b9fcbe1d922334",
    "totals": 0
  },
  "fresh_text": "推荐已更新"
}