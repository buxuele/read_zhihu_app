{
  "data": [
    {
      "id": "612_1755822926.909",
      "type": "feed",
      "offset": 612,
      "verb": "TOPIC_ACKNOWLEDGED_ARTICLE",
      "created_time": 1755822926,
      "updated_time": 1755822926,
      "target": {
        "id": "27940033952",
        "type": "article",
        "url": "https://api.zhihu.com/articles/27940033952",
        "author": {
          "id": "46d990b1dfc7a78932710e83d405c81d",
          "url": "https://api.zhihu.com/people/46d990b1dfc7a78932710e83d405c81d",
          "user_type": "people",
          "url_token": "5ycode",
          "name": "5ycode",
          "headline": "公众号5ycode",
          "avatar_url": "https://pic1.zhimg.com/50/v2-475bc8bf49e50c9043455e36848a0d27_l.jpg?source=b6762063",
          "is_org": false,
          "gender": 1,
          "followers_count": 643,
          "is_following": false,
          "is_followed": false
        },
        "title": "DeepSeek+ragflow构建企业知识库：突然觉的dify不香了（1）",
        "image_url": "https://picx.zhimg.com/v2-2204c489e4b2e3e4cb529a0b873d4076.jpg?source=7e7ef6e2&needBackground=1",
        "comment_permission": "all",
        "created": 1741085788,
        "updated": 1741085788,
        "voteup_count": 128,
        "voting": 0,
        "comment_count": 36,
        "linkbox": {
          "category": "",
          "pic": "",
          "title": "",
          "url": ""
        },
        "excerpt": "背景之前写了一些知识库的文章，最后试用了dify，想着前端dify+企业自己的向量数据，随时可以切换前端应用，觉得很香。有些朋友向我案例ragflow。 试用完以后我发现，我想复杂了，定制企业向量数据库，ragflow完全能够满足，简单调整下，成本最低。功能实在是太强大了. 相关文章 国产AI之光！DeepSeek本地部署教程，效果媲美GPT-4 DeepSeek+本地知识库：真的太香了(修订版) DeepSeek+本地知识库：真是太香了（企业方案） 本地Dee…",
        "excerpt_new": "背景之前写了一些知识库的文章，最后试用了dify，想着前端dify+企业自己的向量数据，随时可以切换前端应用，觉得很香。有些朋友向我案例ragflow。 试用完以后我发现，我想复杂了，定制企业向量数据库，ragflow完全能够满足，简单调整下，成本最低。功能实在是太强大了. 相关文章 国产AI之光！DeepSeek本地部署教程，效果媲美GPT-4 DeepSeek+本地知识库：真的太香了(修订版) DeepSeek+本地知识库：真是太香了（企业方案） 本地Dee…",
        "preview_type": "default",
        "preview_text": "",
        "content": "<p></p><h2>背景</h2><p data-pid=\"8bTkZHff\">之前写了一些知识库的文章，最后试用了dify，想着前端dify+企业自己的向量数据，随时可以切换前端应用，觉得很香。有些朋友向我案例ragflow。</p><p data-pid=\"uggsrZBs\">试用完以后我发现，我想复杂了，定制企业向量数据库，ragflow完全能够满足，简单调整下，成本最低。功能实在是太强大了.</p><p data-pid=\"KSHZ4PCJ\">相关文章</p><p data-pid=\"GXKkD0rH\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMjM5NzQxMTAyNw%3D%3D%26mid%3D2247485191%26idx%3D1%26sn%3D6590bae7fb960a2577c2b77c11479080%26scene%3D21%23wechat_redirect\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">国产AI之光！DeepSeek本地部署教程，效果媲美GPT-4</a></p><p data-pid=\"yAONvvN3\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMjM5NzQxMTAyNw%3D%3D%26mid%3D2247485376%26idx%3D1%26sn%3D054d7f3521683c3c876ffa8d44096099%26scene%3D21%23wechat_redirect\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">DeepSeek+本地知识库：真的太香了(修订版)</a></p><p data-pid=\"eIxeZkhd\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMjM5NzQxMTAyNw%3D%3D%26mid%3D2247485287%26idx%3D1%26sn%3Db54291f281cd1fadee229259050d8eab%26scene%3D21%23wechat_redirect\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">DeepSeek+本地知识库：真是太香了（企业方案）</a></p><p data-pid=\"TndrfohI\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMjM5NzQxMTAyNw%3D%3D%26mid%3D2247485351%26idx%3D1%26sn%3D120316a6d46da670af85a14691be9f15%26scene%3D21%23wechat_redirect\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">本地DeepSeek下载慢，中断、内网无法安装方案来了</a></p><p data-pid=\"s4huVtZT\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMjM5NzQxMTAyNw%3D%3D%26mid%3D2247485510%26idx%3D1%26sn%3D22eef6a6bddd360cb851e06566178ec5%26scene%3D21%23wechat_redirect\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">DeepSeek+dify 本地知识库：真的太香了</a></p><p data-pid=\"gtc8-fkd\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMjM5NzQxMTAyNw%3D%3D%26mid%3D2247485614%26idx%3D1%26sn%3D6edd8860da578d145bc05f158678dbe5%26scene%3D21%23wechat_redirect\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Deepseek+Dify本地知识库相关问题汇总</a></p><p data-pid=\"BubXwlto\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMjM5NzQxMTAyNw%3D%3D%26mid%3D2247485677%26idx%3D1%26sn%3D8977dea15592f5cd67565298b403b5ea%26scene%3D21%23wechat_redirect\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">DeepSeek+dify 本地知识库：高级应用Agent+工作流</a></p><p data-pid=\"et4M8-by\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMjM5NzQxMTAyNw%3D%3D%26mid%3D2247485744%26idx%3D1%26sn%3D781792522d8785df0609838fe17cc15c%26scene%3D21%23wechat_redirect\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">DeepSeek+dify知识库，查询数据库的两种方式（api+直连）</a></p><p data-pid=\"D2zYVDm4\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMjM5NzQxMTAyNw%3D%3D%26mid%3D2247485744%26idx%3D2%26sn%3D0d7a61367d6647737ba7aa7b11bc66c3%26scene%3D21%23wechat_redirect\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">DeepSeek+dify 工作流应用,自然语言查询数据库信息并展示</a></p><p data-pid=\"stM2HGjc\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMjM5NzQxMTAyNw%3D%3D%26mid%3D2247485765%26idx%3D1%26sn%3D082a9d1740e26ed8c8d31d9b449efb2a%26scene%3D21%23wechat_redirect\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">聊聊dify权限验证的三种方案及实现</a></p><h2>  ragflow主要功能</h2><h3>  &#34;Quality in, quality out&#34;</h3><ul><li data-pid=\"tIFF0C5_\">• 基于深度文档理解，能够从各类复杂格式的非结构化数据中提取真知灼见。<br/></li><li data-pid=\"_w-gTWO2\">• 真正在无限上下文（token）的场景下快速完成大海捞针测试。<br/></li></ul><h3>  基于模板的文本切片</h3><ul><li data-pid=\"QXLINT85\">• 不仅仅是智能，更重要的是可控可解释。<br/></li><li data-pid=\"cojWSGeY\">• 多种文本模板可供选择<br/></li></ul><h3>  有理有据、最大程度降低幻觉（hallucination）</h3><ul><li data-pid=\"Q2YnFu3A\">• 文本切片过程可视化，支持手动调整。<br/></li><li data-pid=\"i4GOxqA_\">• 有理有据：答案提供关键引用的快照并支持追根溯源。<br/></li></ul><h3>  兼容各类异构数据源</h3><ul><li data-pid=\"IGT_TaZf\">• 支持丰富的文件类型，包括 Word 文档、PPT、excel 表格、txt 文件、图片、PDF、影印件、复印件、结构化数据、网页等。<br/></li></ul><h3>  全程无忧、自动化的 RAG 工作流</h3><ul><li data-pid=\"fkHiVHvJ\">• 全面优化的 RAG 工作流可以支持从个人应用乃至超大型企业的各类生态系统。<br/></li><li data-pid=\"T_76AMNP\">• 大语言模型 LLM 以及向量模型均支持配置。<br/></li><li data-pid=\"bqzWCb4l\">• 基于多路召回、融合重排序。<br/></li><li data-pid=\"0vucBl2f\">• 提供易用的 API，可以轻松集成到各类企业系统。<br/></li></ul><h2>  系统架构</h2><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-af9b53ce086f4e1ddce11922b3834308_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-af9b53ce086f4e1ddce11922b3834308\" class=\"content_image\"/></figure><h2>安装</h2><h3>硬件要求</h3><ul><li data-pid=\"4TGYew8n\">• CPU &gt;= 4 核<br/></li><li data-pid=\"wdzLZqOY\">• RAM &gt;= 16 GB<br/></li><li data-pid=\"yerRT1aY\">• Disk &gt;= 50 GB<br/></li><li data-pid=\"_g61b6Ii\">• Docker &gt;= 24.0.0 &amp; Docker Compose &gt;= v2.26.1<br/></li></ul><h3>软件要求：</h3><p data-pid=\"zI6EFvJG\"><code>vm.max_map_count</code> 不小于 262144，这个是针对linux</p><h3>下载代码</h3><div class=\"highlight\"><pre><code class=\"language-text\">git clone https://github.com/infiniflow/ragflow.git</code></pre></div><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-03ae83d38fa8dfe0227e064463762ab1_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-03ae83d38fa8dfe0227e064463762ab1\" class=\"content_image\"/></figure><p data-pid=\"Yy12sqF4\">我们看下docker目录中的文件，主要关注圈中的3块</p><ul><li data-pid=\"RLGpPvHp\">• <code>.env</code> 主要是docker部署的时候一些变量,<code>service_conf.yaml.template</code>是服务启动使用的配置文件，需要和.env文件里的配置对应，特别是端口<br/></li><li data-pid=\"Y6YDuQ0E\">• 需要注意的是，在mac操作系统下，会引入<code>2</code></li></ul><p class=\"ztext-empty-paragraph\"><br/></p><h3>关键参数</h3><p data-pid=\"qC-z2WAX\"><code>.env</code>文件</p><div class=\"highlight\"><pre><code class=\"language-text\">#文档引擎，默认使用es\nDOC_ENGINE=${DOC_ENGINE:-elasticsearch}\n\n#docker部署的镜像，默认不带模型\nRAGFLOW_IMAGE=infiniflow/ragflow:v0.16.0-slim\n\n#redis端口，6379，我本机以及docker已经有了，我改程了6380\nREDIS_PORT=6380\n\n#服务端端口\nSVR_HTTP_PORT=9380\n\n#自定义了两个变量，nginx的暴露端口\nEXPOSE_NGINX_PORT=8002\nEXPOSE_NGINX_SSL_PORT=8444\n\n#如果你需要在docker中拉取模型，网有不好，添加此镜像，将前面的#去掉\n# HF_ENDPOINT=https://hf-mirror.com\n\n#mac系统需要将此参数放开，默认禁用，将前面的#去掉就开启了\n# MACOS=1</code></pre></div><p data-pid=\"i_36bRCm\">需要注意的是<code>.env</code>文件修改后，对应的<code>service_conf.yaml.template</code>配置中一些默认值也得改变。比如我们改了redis的端口，</p><div class=\"highlight\"><pre><code class=\"language-text\">#将redis的端口由6379改成6380\nredis:\n  db: 1\n  password: &#39;${REDIS_PASSWORD:-infini_rag_flow}&#39;\n  host: &#39;${REDIS_HOST:-redis}:6380&#39; </code></pre></div><h3>拉取镜像</h3><div class=\"highlight\"><pre><code class=\"language-text\"># 拉取镜像\ndocker compose  pull</code></pre></div><p data-pid=\"puWxBeoc\">如果拉不到，网络不稳定，替换国内的镜像</p><div class=\"highlight\"><pre><code class=\"language-text\">- 华为云镜像名：`swr.cn-north-4.myhuaweicloud.com/infiniflow/ragflow`\n- 阿里云镜像名：`registry.cn-hangzhou.aliyuncs.com/infiniflow/ragflow`</code></pre></div><h3>启动</h3><p data-pid=\"PSuJRdyq\">我们通过-p指定分组名称，或者在<code>docker-compose.yaml</code>中添加<code>name: &#39;ragflow&#39;</code></p><div class=\"highlight\"><pre><code class=\"language-text\">docker compose up -d -p ragflow</code></pre></div><p data-pid=\"aVTmmeY8\">等一会，安装过程只遇到了端口冲突的问题，修改下端口即可。</p><p data-pid=\"Co197adb\">通过<code>docker ps</code>或docker desktop 软件查看启动状态。</p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-1a7f643010211fce903100d1848e1db8_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-1a7f643010211fce903100d1848e1db8\" class=\"content_image\"/></figure><h3>登录</h3><p data-pid=\"LTVsJdSW\">点击docker desktop或者<code>http://localhost:8002/</code>就进入了登录注册界面。</p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-f1db81b32821bd73136b3f6935f9abba_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-f1db81b32821bd73136b3f6935f9abba\" class=\"content_image\"/></figure><p data-pid=\"9z0f-jQL\">上来是没有账户的，我们先点击注册一个，然后登录。</p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-4eea33a6f7ab1d4789f08bb67a3735ff_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-4eea33a6f7ab1d4789f08bb67a3735ff\" class=\"content_image\"/></figure><h2>基本设置</h2><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-52cf13f10b48cdb8c6d2eb032072ecb1_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-52cf13f10b48cdb8c6d2eb032072ecb1\" class=\"content_image\"/></figure><p data-pid=\"K3J8hSxj\">登录进来以后，我们先将右上角的<code>1</code>设置为简体中文，然后点击<code>2</code></p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-479bd2a212a9cc2e679bcc82199cc0e2_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-479bd2a212a9cc2e679bcc82199cc0e2\" class=\"content_image\"/></figure><p data-pid=\"IvZeZazW\">我们主要关注<code>1</code>模型供应商和<code>3</code>团队即可。可以通过<code>2</code>查看系统的资源概况，以及任务数。</p><p data-pid=\"Mc2a28u4\">点击<code>1</code>我们开始添加模型</p><h3>模型配置</h3><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-1dbf9d926aae8e5058686f707f841280_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-1dbf9d926aae8e5058686f707f841280\" class=\"content_image\"/></figure><p data-pid=\"Ntg7gj0a\">官方默认推荐通义，应该是合作了，我们添加本地<code>ollama</code>和刚充值的热乎的<code>deepseek</code>.</p><h3>本地Ollama 模型配置</h3><p data-pid=\"EzZCWEF9\">在<code>ragflow</code>中，ollama的模型类型可以选择4个，其实也就比dify多了一个reran模型，</p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-efc77c594f3e10b62db4c4a99f552ccb_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-efc77c594f3e10b62db4c4a99f552ccb\" class=\"content_image\"/></figure><p data-pid=\"RPuLiRsF\">通过<code>ollama listt</code>查看模型列表，然后添加两个一个chat模型，一个embedding模型。</p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-b78182c6d59a7e0f40c191c51f425623_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-b78182c6d59a7e0f40c191c51f425623\" class=\"content_image\"/></figure><figure data-size=\"normal\"><img src=\"https://picx.zhimg.com/v2-a5f3bff0e29f04e2618a5c12b9c74237_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-a5f3bff0e29f04e2618a5c12b9c74237\" class=\"content_image\"/></figure><p data-pid=\"oU-t0fFH\">最大token我们通过<code>ollama show deepseek-r1:32b</code>获取后填入。然后保存。</p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-4aa77366a56df0e75ac2dc43932f329e_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-4aa77366a56df0e75ac2dc43932f329e\" class=\"content_image\"/></figure><p data-pid=\"FipAliaJ\">报错了了，一看<code>cudaMalloc failed: out of memory</code>,一看内存81%了，空余12g的内存竟然不够用。赶紧关一些软件。</p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-c2639754599944baa9cb9720c8924c04_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-c2639754599944baa9cb9720c8924c04\" class=\"content_image\"/></figure><p data-pid=\"YkyJyWMY\">然后再保存。成功。然后点击添加向量模型。</p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-67c90bfcf42e073bdb337ec80a1b97ac_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-67c90bfcf42e073bdb337ec80a1b97ac\" class=\"content_image\"/></figure><figure data-size=\"normal\"><img src=\"https://picx.zhimg.com/v2-65335f1de357fa9c9903025abc80b195_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-65335f1de357fa9c9903025abc80b195\" class=\"content_image\"/></figure><h3>添加DeepSeek</h3><p data-pid=\"28shp7vj\">很简单，就填写一个api-key就行了。</p><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-4dd404400e00ad148072ffb692eb07eb_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-4dd404400e00ad148072ffb692eb07eb\" class=\"content_image\"/></figure><h3>系统模型配置</h3><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-04a6d7395540f342f0f7d57372e7d0ae_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-04a6d7395540f342f0f7d57372e7d0ae\" class=\"content_image\"/></figure><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-cbb6aa665849a1cdfe882ae5a39de409_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-cbb6aa665849a1cdfe882ae5a39de409\" class=\"content_image\"/></figure><p data-pid=\"eubAOhlM\">选择相应的模型即可。</p><h3>团队</h3><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-532fdafc7120b1e8cd62de767383337f_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-532fdafc7120b1e8cd62de767383337f\" class=\"content_image\"/></figure><p data-pid=\"YZ4VVAyG\">我点击右上角的邀请，填写用户邮箱，点击确定。提示用户不存在。</p><p data-pid=\"5VRpRKki\">我猜测，应该是注册制，注册以后再邀请进团队。</p><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-6668dfad505c0e7aaf989c419444dee7_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-6668dfad505c0e7aaf989c419444dee7\" class=\"content_image\"/></figure><p data-pid=\"E7_8fDA4\">然后角色是<code>Invite</code>，时间也有问题。应该是数据库的时区的问题。在<code>.env</code>中TIMEZONE配置的是shanghai时区。这个不太影响，下次再看下。</p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-84d798424568e88395114905c0e76128_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-84d798424568e88395114905c0e76128\" class=\"content_image\"/></figure><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-8b233f328d49ab55b5d86c0c2571b86e_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-8b233f328d49ab55b5d86c0c2571b86e\" class=\"content_image\"/></figure><p data-pid=\"LkoYzRCX\">然后我就很好奇，另外一个用户里是什么？我登录了另外一个账户，原来邀请的用户还得同意。</p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-f7e3cc64d02ec98385ddeb8475954fea_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-f7e3cc64d02ec98385ddeb8475954fea\" class=\"content_image\"/></figure><p data-pid=\"PLubFowT\">同意以后，还可以退出。我再切换到原来的账户里，</p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-9db4857ecd7c8b6b0e0644f8bd9158eb_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-9db4857ecd7c8b6b0e0644f8bd9158eb\" class=\"content_image\"/></figure><p data-pid=\"OkHRFqdN\">发现角色变成了<code>Normal</code></p><p data-pid=\"qep8_zcx\">需要注意的是，团队共享了知识库，但是聊天助理并没有共享，模型也没有共享。</p><p data-pid=\"9j-qeSL7\">不过想想也对，创建的应用可以通过api分享，出来，共用的功能，设置都不需要邀请用户。知识反而是核心。我的理念和他好像。哈哈。</p><h2>功能概述</h2><figure data-size=\"normal\"><img src=\"https://picx.zhimg.com/v2-328037ab92d060bc16866f609c9f8e37_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-328037ab92d060bc16866f609c9f8e37\" class=\"content_image\"/></figure><p data-pid=\"DKN2Poak\">从面板上看，就几个功能。还是很清晰，它的模板特别少，在创建agent的时候可以选择。</p><h2>知识库</h2><h3>创建知识库</h3><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-ae3e0aa6bbf1644edee0a13e1e2079fc_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-ae3e0aa6bbf1644edee0a13e1e2079fc\" class=\"content_image\"/></figure><p data-pid=\"mn_NVKM2\">点击创建知识库，填写名称，点确定即可。</p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-54b37c622bee8e87da67bf09472a7152_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-54b37c622bee8e87da67bf09472a7152\" class=\"content_image\"/></figure><p data-pid=\"D86yqiNC\">这个时间反而是准的。</p><h3>知识库配置</h3><p data-pid=\"VCxcSX-z\"><b>配置</b></p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-f60087f55cdcc19f5a542c44e225b0f0_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-f60087f55cdcc19f5a542c44e225b0f0\" class=\"content_image\"/></figure><ul><li data-pid=\"SgujQLQN\">• 点击<code>1</code>的配置，<br/></li><li data-pid=\"YA8R8m5C\">• 我们可以指定文档语言<code>2</code></li><li data-pid=\"ZQa25mmK\">• 也可以设置这个知识库的权限<code>3</code></li><li data-pid=\"zflzUKGr\">• 可以自定义解析方法<code>4</code>,而且每个解析方法后面都有对应的示例说明。是不是用它内置的向量模型会更好一些？<br/></li></ul><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-1e50af3b9f2e8390806c15564f5df43e_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-1e50af3b9f2e8390806c15564f5df43e\" class=\"content_image\"/></figure><p data-pid=\"0G-0yQ20\">解析方法类型</p><figure data-size=\"normal\"><img src=\"https://picx.zhimg.com/v2-4a18267d1dbbbea3ebaf87a71c84305b_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-4a18267d1dbbbea3ebaf87a71c84305b\" class=\"content_image\"/></figure><p data-pid=\"q1TfAmUJ\">分段标识符，支持多字符作为分隔符，这对复杂格式的文档，也太友好了。还能有布局识别和OCR功能。</p><h3>知识上传（数据集）</h3><p data-pid=\"ZNgda8sE\">在<code>ragflow</code>中上传的在数据集模块里。</p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-33bfd2c033cbb0edc5baa6c7682e6c7e_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-33bfd2c033cbb0edc5baa6c7682e6c7e\" class=\"content_image\"/></figure><p data-pid=\"W_TaEYDE\"><code>ragflow</code>的知识库，只支持和上传文件或s3同步。同时可以一次上次多个知识。提示也很友好<code>严禁上传公司数据或其他违禁文件</code>。</p><p data-pid=\"MYYTd0xs\">上传以后不会自动解析，需要手动点击。</p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-c127a3bfd5f243efeb4fcc9bf122e3d1_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-c127a3bfd5f243efeb4fcc9bf122e3d1\" class=\"content_image\"/></figure><p data-pid=\"MB-ExuGS\">可以通过<code>1</code>单个解析，也可以通过勾选多个，批量解析。</p><figure data-size=\"normal\"><img src=\"https://picx.zhimg.com/v2-a932da3c0b65e5cafb71b5f79b5e42ff_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-a932da3c0b65e5cafb71b5f79b5e42ff\" class=\"content_image\"/></figure><p data-pid=\"5vi3yXd2\">默认规则下，解析速度还行，<code>清华大学第一弹</code>一共104页，解析了110秒。</p><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-7aa0c449bebe6c772242af293c7c862f_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-qrcode-action=\"none\" data-original-token=\"v2-7aa0c449bebe6c772242af293c7c862f\" class=\"content_image\"/></figure><p data-pid=\"qIt5op82\">然后看了下分段效果。点开一看，<code>太强大了</code>图片内容也解析出来了。《清华大学第四弹》的内容。我没有使用ocr呀，这个后续再研究。</p><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-64424a2c1d26ea38994287c15129752b_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-64424a2c1d26ea38994287c15129752b\" class=\"content_image\"/></figure><p data-pid=\"_X-n4f_K\">还有表格的识别。</p><h3>检索测试</h3><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-2590eaebc5f565d711c35bca0e67fdd6_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-2590eaebc5f565d711c35bca0e67fdd6\" class=\"content_image\"/></figure><p data-pid=\"CbfTzWRf\">随便问一下，这检索效果，真棒。而且返回速度特别快。</p><h2>文件管理</h2><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-72dcfdb6ee93d4f0c98f0849b669c596_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-72dcfdb6ee93d4f0c98f0849b669c596\" class=\"content_image\"/></figure><p data-pid=\"gIHkXOo-\">上传的文件在文件管理里面。</p><h2>聊天</h2><h3>创建聊天</h3><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-b03d36194eaf7a3b25a8e3d1a6217878_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-b03d36194eaf7a3b25a8e3d1a6217878\" class=\"content_image\"/></figure><ul><li data-pid=\"rloQxdTI\">• 点击新建助手<br/></li><li data-pid=\"VKK0QaiT\">• 显示引文<code>3</code></li><li data-pid=\"UYHRcE_j\">• 关键词分析<code>4</code>开启。应用 LLM 分析用户的问题，提取在相关性计算中要强调的关键词。<br/></li><li data-pid=\"u8O8Vyo_\">• 知识库可以选择多个<code>5</code></li></ul><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-843025c786ff505a6c00386f28cde6ab_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-843025c786ff505a6c00386f28cde6ab\" class=\"content_image\"/></figure><p data-pid=\"fdGnQTQT\">提示引擎默认即可，不用动。</p><figure data-size=\"normal\"><img src=\"https://picx.zhimg.com/v2-0f28b8e6f119cdfa112393b702f70b59_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-0f28b8e6f119cdfa112393b702f70b59\" class=\"content_image\"/></figure><p data-pid=\"47FWM9Y9\">在模型设置里，主要是最大token数，默认512太小了，最大设置为8192</p><h3>使用</h3><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-3050c55f8f19f58222004116a25ac984_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-3050c55f8f19f58222004116a25ac984\" class=\"content_image\"/></figure><ul><li data-pid=\"wsctd6Jy\">• 我们选择小助手<code>1</code>,点击<code>2</code></li><li data-pid=\"iXaRZNLy\">• 直接在<code>3</code>输入问题，同时也可以再上传任何文件。</li></ul><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-e6a8fee3a36c790358c45e0cf6ebe497_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-e6a8fee3a36c790358c45e0cf6ebe497\" class=\"content_image\"/></figure><p data-pid=\"aJtclwik\">回答效果，有些图片里的内容都找到并填了进去。</p><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-08c40a989783bffd0fee4bccbdd0319f_1440w.jpg\" data-caption=\"\" data-size=\"normal\" data-original-token=\"v2-08c40a989783bffd0fee4bccbdd0319f\" class=\"content_image\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h2>后记</h2><p data-pid=\"Mi-feNwC\">简单的试用了下ragflow，突然感觉dify不香了。ragflow的理念和我实在是太贴合了。后续我得好好的深入研究下。</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>相关资料</b></h2><p data-pid=\"zc9O6vZ0\">清华DeepSeek相关资料<br/><a href=\"https://link.zhihu.com/?target=https%3A//pan.quark.cn/s/5c1e8f268e02\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">pan.quark.cn/s/5c1e8f26</span><span class=\"invisible\">8e02</span><span class=\"ellipsis\"></span></a></p><p data-pid=\"fYPMNdwz\"><a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/13zOEcm1lRk-ZZXukrDgvDw%3Fpwd%3D22ce\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">pan.baidu.com/s/13zOEcm</span><span class=\"invisible\">1lRk-ZZXukrDgvDw?pwd=22ce</span><span class=\"ellipsis\"></span></a></p><p data-pid=\"_3MZE5Sl\">北京大学DeepSeek相关资料<br/><a href=\"https://link.zhihu.com/?target=https%3A//pan.quark.cn/s/918266bd423a\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">pan.quark.cn/s/918266bd</span><span class=\"invisible\">423a</span><span class=\"ellipsis\"></span></a></p><p data-pid=\"9NlTq25E\"><a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1IjddCW5gsKLAVRtcXEkVIQ%3Fpwd%3Dech7\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">pan.baidu.com/s/1IjddCW</span><span class=\"invisible\">5gsKLAVRtcXEkVIQ?pwd=ech7</span><span class=\"ellipsis\"></span></a></p><p data-pid=\"Tn-WNfAM\">零基础使用DeepSeek<br/><a href=\"https://link.zhihu.com/?target=https%3A//pan.quark.cn/s/17e07b1d7fd0\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">pan.quark.cn/s/17e07b1d</span><span class=\"invisible\">7fd0</span><span class=\"ellipsis\"></span></a></p><p data-pid=\"oM9ZsgLr\"><a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1KitxQy9VdAGfwYI28TrX8A%3Fpwd%3Dvg6g\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">pan.baidu.com/s/1KitxQy</span><span class=\"invisible\">9VdAGfwYI28TrX8A?pwd=vg6g</span><span class=\"ellipsis\"></span></a></p><p data-pid=\"LksG_LFJ\">ollama的docker镜像</p><p data-pid=\"IeQuvZe4\"><a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/13JhJAwaZlvssCXgPaV_n_A%3Fpwd%3Dgpfq\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">pan.baidu.com/s/13JhJAw</span><span class=\"invisible\">aZlvssCXgPaV_n_A?pwd=gpfq</span><span class=\"ellipsis\"></span></a></p><p data-pid=\"8lqaPUeI\">deepseek的模型（ollama上pull下来的）<br/><a href=\"https://link.zhihu.com/?target=https%3A//pan.quark.cn/s/dd3d2d5aefb2\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">pan.quark.cn/s/dd3d2d5a</span><span class=\"invisible\">efb2</span><span class=\"ellipsis\"></span></a></p><p data-pid=\"YQnwJZIe\"><a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1FacMQSh9p1wIcKUDBEfjlw%3Fpwd%3Dks7c\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">pan.baidu.com/s/1FacMQS</span><span class=\"invisible\">h9p1wIcKUDBEfjlw?pwd=ks7c</span><span class=\"ellipsis\"></span></a></p><p data-pid=\"GQuRAfoX\">dify相关镜像</p><p data-pid=\"F1g8UppD\"><a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1oa27LL-1B9d1qMnBl8_edg%3Fpwd%3D1ish\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">pan.baidu.com/s/1oa27LL</span><span class=\"invisible\">-1B9d1qMnBl8_edg?pwd=1ish</span><span class=\"ellipsis\"></span></a></p><p data-pid=\"QD74yxoj\">ragflow相关资料和模型</p><ul><li data-pid=\"8Ka6Iaxm\">• <a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1bA9ZyQG75ZnBkCCenSEzcA%3Fpwd%3Du5ei\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">pan.baidu.com/s/1bA9ZyQ</span><span class=\"invisible\">G75ZnBkCCenSEzcA?pwd=u5ei</span><span class=\"ellipsis\"></span></a></li></ul><p data-pid=\"IDmcMJRg\">公众号案例</p><ul><li data-pid=\"4CFF0QTd\">• <a href=\"https://link.zhihu.com/?target=https%3A//pan.quark.cn/s/18fdf0b1ef2e\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">pan.quark.cn/s/18fdf0b1</span><span class=\"invisible\">ef2e</span><span class=\"ellipsis\"></span></a></li><li data-pid=\"oz-W9Cm8\">• <a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1aCSwXYpUhVdV2mfgZfdOvA%3Fpwd%3D6xc2\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">pan.baidu.com/s/1aCSwXY</span><span class=\"invisible\">pUhVdV2mfgZfdOvA?pwd=6xc2</span><span class=\"ellipsis\"></span></a></li></ul><p data-pid=\"HreTnuki\">总入口（有时候会被屏蔽）：<br/><a href=\"https://link.zhihu.com/?target=https%3A//pan.quark.cn/s/05f22bd57f47\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">pan.quark.cn/s/05f22bd5</span><span class=\"invisible\">7f47</span><span class=\"ellipsis\"></span></a> 提取码：HiyL</p><p data-pid=\"zsgj05Yo\"><a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1GK0_euyn2LtGVmcGfwQuFg%3Fpwd%3Dnkq7\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">pan.baidu.com/s/1GK0_eu</span><span class=\"invisible\">yn2LtGVmcGfwQuFg?pwd=nkq7</span><span class=\"ellipsis\"></span></a></p><h2><b>系列文档：</b></h2><h3><b>DeepSeek本地部署相关</b></h3><p data-pid=\"d5Q4b1By\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/SiKojXWrGAsbUluiY8njJw\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ollama+deepseek本地部署</a><br/><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/9z2UOE9f1P_G1X_PAVu40g\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">局域网或断网环境下安装DeepSeek</a></p><h3><b>DeepSeek相关资料</b></h3><p data-pid=\"0u6AFkMM\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/5oOWILoO9pfqjboVYEUkLw\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">清华出品！《DeepSeek从入门到精通》免费下载，AI时代进阶必看！</a><br/><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/Jgm7YIRP5OmGfwDDeFGJ2Q\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">清华出品！《DeepSeek赋能职场应用》轻松搞定PPT、海报、文案</a></p><h3><b>DeepSeek个人应用</b></h3><p data-pid=\"edf6_GmH\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/VYRjmXA64pJDG9Oexub1Sw\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">不要浪费deepseek的算力了，DeepSeek提示词库指南</a><br/><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/CufgwsIVSENtMdOwg6zMdQ\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">服务器繁忙，电脑配置太低，别急deepseek满血版来了</a>&#39;<br/><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/sWrwaMSozegrRs8iiIU8sA\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">DeepSeek+本地知识库：真的太香了(修订版)</a><br/><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/O6PIeLVbqS4UNHjTE1anYA\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">DeepSeek+本地知识库：真是太香了（企业方案）</a><br/><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/2Y9vpvTZ6qQZlaxKI9pvlw\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">deepseek一键生成小红书爆款内容，排版下载全自动！睡后收入不是梦</a><br/><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/yd71CAaTUhAFqvHtnaVXhQ\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">最轻量级的deepseek应用，支持联网和知识库</a></p><p data-pid=\"w0HXFDgx\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/rG8_RZr-5B_TuO3WdfXdsA\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">当我把公众号作为知识库塞进了智能体后</a></p><p data-pid=\"krxCsaz_\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/1M90FqPvXEHg0u3W4LQJhw\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">个人神级知识库DeepSeek+ima 个人学习神器</a></p><h3><b>dify相关</b></h3><p data-pid=\"rocjuGny\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/n5GrGZ9hZmdhzt4avs1XSw\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">DeepSeek+dify 本地知识库：真的太香了</a></p><p data-pid=\"XWPQDWP8\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/t46UiY4hQkkM3soqys5wYQ\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Deepseek+Dify本地知识库相关问题汇总</a><br/><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/zlfJU4N_CUvjeHQmkm6BSQ\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">dify的sandbox机制，安全隔离限制</a><br/><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/1p5KRDflsIISdOvm4QkWYw\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">DeepSeek+dify 本地知识库：高级应用Agent+工作流</a><br/><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/dYGiQ1VAmPQXYi3iNlCyug\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">DeepSeek+dify知识库，查询数据库的两种方式（api+直连）</a><br/><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/EIfp-DJolsbLnKo3ZmaBFQ\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">DeepSeek+dify 工作流应用,自然语言查询数据库信息并展示</a><br/><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/6kTPLpW8qhWyqJDbzJs-xA\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">聊聊dify权限验证的三种方案及实现</a><br/><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/xfRiYAIsZq5yQBSJ2JFtpQ\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">dify1.0.0版本升级及新功能预览</a></p><h3><b>ragflow相关</b></h3><p data-pid=\"sFSyx5pL\"><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/GG7SbG5ufMlsBjItiIYx5Q\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">DeepSeek+ragflow构建企业知识库：突然觉的dify不香了（1）</a><br/><a href=\"https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/noQDIAL_sMe5TQspRN6aHA\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"># DeepSeek+ragflow构建企业知识库之工作流，突然觉的dify又香了</a></p><h2><b>关于我</b></h2><p data-pid=\"WD-b0tyK\">资深全栈技术专家 | 互联网领域十年架构沉淀<br/>技术纵深：高并发架构 | 应用调优 | 分布式系统<br/>技术版图：Java/Vue/Go/Python<br/>管理沉淀：8年技术团队管理 | 百万级DAU经验<br/>专注输出：<br/>✓ 架构思维 × 技术管理 × 全栈实战<br/>✓ 新技术应用 × 行业趋势前瞻</p><div class=\"highlight\"><pre><code class=\"language-text\"> 【三连好运 福利拉满】 \n\n  若本日推送有收获：\n  点赞 → 小手一抖，bug没有\n  在看 → 一点扩散，知识璀璨\n  收藏 → 代码永驻，防止迷路\n  分享 → 传递战友，功德+999\n  关注 → 关注5ycode，追更不迷路，干货永同步\n\n  若有槽点想输出：\n  评论区已铺好红毯，等你来战！</code></pre></div><p></p>",
        "is_labeled": false,
        "visited_count": 15019,
        "thumbnails": [
          "https://picx.zhimg.com/v2-2204c489e4b2e3e4cb529a0b873d4076.jpg?source=7e7ef6e2&needBackground=1",
          "https://picx.zhimg.com/50/v2-87ff5bcbbdbced2457854ae49418337b_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-de0a070383bbdff3913548ba91f625f1_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-2426214f2ae87073460db808fdb8c6c3_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-5bf9243ebb9703eeb66e82f37cd74a4e_720w.jpg?source=b6762063",
          "https://pic1.zhimg.com/50/v2-80973bd9d342b4db2b601f993b56f90d_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-01478192efdea217e5cd8bcefa003418_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-5b8c8af8cad5648643bed5d3ffd3a76f_720w.jpg?source=b6762063",
          "https://picx.zhimg.com/50/v2-3c40b23cc505323d62e0ae0cc03f38c8_720w.jpg?source=b6762063",
          "https://pica.zhimg.com/50/v2-37566f1b3a13cb19d6cd51f16dbffaea_720w.jpg?source=b6762063"
        ],
        "favorite_count": 683,
        "article_type": "normal",
        "is_navigator": false,
        "navigator_vote": false,
        "vote_next_step": "vote"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"article\", \"id\": 27940033952}",
      "attached_info": "CtEWCLrX0La6yJHvlgEQBxoJMjU0NjEwNjEzINy4m74GKIABMCRA5ARKMQomVFNfU09VUkNFX1RFWFRfTVVMVElWSUVXX0dDRl9VU0VSQ0ZfVjESATAYACAAOgBKKAodVFNfU09VUkNFX05FQVJMSU5FX0NPTlRFTlRfVjISATAYACAAOgBiIGYwNzViYjAwYzI5ZjRjMzM2MjVhNTliYjM1MWFlMGE3cgsyNzk0MDAzMzk1MoIBX2h0dHBzOi8vcGljeC56aGltZy5jb20vdjItMjIwNGM0ODllNGIyZTNlNGNiNTI5YTBiODczZDQwNzYuanBnP3NvdXJjZT03ZTdlZjZlMiZuZWVkQmFja2dyb3VuZD0xqgEJcmVjb21tZW5kwgEgNDZkOTkwYjFkZmM3YTc4OTMyNzEwZTgzZDQwNWM4MWTyAQoIDBIGTm9ybWFs8gEoCAoSJDRlMGU4ZmEzLWJkOWUtNDMwMi1iNTc2LWNjY2IxN2ZlYjU5OPIBBwgLEgMxMDOCAgCIAuXSzvmMM5ICIDQ2ZDk5MGIxZGZjN2E3ODkzMjcxMGU4M2Q0MDVjODFkmgIAygIWU2hvckludGVyZXN0V2VpZ2h0UnVsZcoCFVVzZXJMY25FeGl0V2VpZ2h0UnVsZcoCFENvbnRlbnRBZ2VXZWlnaHRSdWxlygIXVGVzdGVkQW5kV29ya1dlaWdodFJ1bGXaAiZUU19TT1VSQ0VfVEVYVF9NVUxUSVZJRVdfR0NGX1VTRVJDRl9WMegCA/oCC05PUk1BTF9GTE9XigMgNTdhNzE5MTZjY2E2NGQ0MTlkZjZmNWUwMWNmYmY3MjeaAw0KAnYyEAAaBW90aGVyqAOrddgDAOoDI2ZlZWQtdGV4dC1hbGxzaXRlLW9ubGluZS11Y2YtcmVjYWxs+gOEEBIMVU5LTk9XTl9NT0RFIAAqDU5PX0lNQUdFX01PREU6LQgCELgIGOAEIiN2Mi1hZjliNTNjZTA4NmY0ZTFkZGNlMTE5MjJiMzgzNDMwODotCAIQhwMYjAMiI3YyLTAzYWU4M2QzOGZhOGRmZTAyMjdlMDY0NDYzNzYyYWIxOi0IAhCICBiPAyIjdjItMWE3ZjY0MzAxMDIxMWZjZTkwMzEwMGQxODQ4ZTFkYjg6LQgCEMYGGJQHIiN2Mi1mMWRiODFiMzI4MjFiZDczMTM2YjNmNjkzNWY5YWJiYTotCAIQwQQY7QQiI3YyLTRlZWEzM2E2ZjdhYjFkNDc4OWYwOGJiNjdhMzczNWZmOi0IAxCZAxiFAiIjdjItNTJjZjEzZjEwYjQ4Y2RiOGM2ZDJlYjAzMjA3MmVjYjE6LQgCEMwEGMwDIiN2Mi00NzliZDJhMjEyYTljYzJlNjc5YmNjODIxOTljYzBlMjotCAMQuAgYiQQiI3YyLTFkYmY5ZDkyNmFhZThlNTA1ODY4NmY3MDdmODQxMjgwOi0IAhCOBBiRBCIjdjItZWZjNzdjNTk0ZjNlMTBiNjJkYjRjNGE5OWY1NTJjY2I6LQgCELYEGJUBIiN2Mi1iNzgxODJjNmQ1OWE3ZTBmNDBjMTkxYzUxZjQyNTYyMzotCAIQ8wMY2gQiI3YyLWE1ZjNiZmYwZTI5ZjA0ZTI2MThhNWMxMmI5Yzc0MjM3Oi0IAhC4CBicByIjdjItNGFhNzczNjZhNTZkZjBlNzVhYzJkYzQzOTMyZjMyOWU6LQgCENsDGMsEIiN2Mi1jMjYzOTc1NDU5OTk0NGJhYTljYjk3MjBjODkyNGMwNDotCAMQuAgYigEiI3YyLTY3YzkwYmZjZjQyZTA3M2JkYjMzN2VjODBhMWI5N2FjOi0IAhCGBBifBCIjdjItNjUzMzVmMWRlMzU3ZmE5Yzk5MDMwMjVhYmM4MGIxOTU6LQgCEJ0EGLIBIiN2Mi00ZGQ0MDQ0MDBlMDBhZDE0ODA3MmZmYjY5MmViMDdlYjotCAIQuAgYkQMiI3YyLTA0YTZkNzM5NTU0MGYzNDJmMGY3ZDU3MzcyZTdkMGFlOi0IAhCJBBjwBCIjdjItY2JiNmFhNjY1ODQ5YTFjZGZlODgyYWU1YTM5ZGU0MDk6LQgCELgIGIUCIiN2Mi01MzJmZGFmYzcxMjBiMWU4Y2Q2MmRlNzY3MzgzMzM3ZjotCAIQuAgYhQQiI3YyLTY2NjhkZmFkNTA1YzBlN2FhZjk4OWM0MTk0NDRkZWU3Oi0IAhDdBBivBSIjdjItODRkNzk4NDI0NTY4ZTg4Mzk1MTE0OTA1YzBlNzYxMjg6LQgCELgIGLEEIiN2Mi04YjIzM2YzMjhkNDlhYjU1YjVkODZjMGMyNTcxYjg2ZTotCAIQuAgY9QEiI3YyLWY3ZTNjYzY0ZDAyZWM5ODM4NWRkZWI4NDc1OTU0ZmVhOi0IAhC4CBj6AiIjdjItOWRiNDg1N2VjZDdjOGI2YjBlMDY0NGY4YmQ5MTU4ZWI6LQgCELgIGJgBIiN2Mi0zMjgwMzdhYjkyZDA2MGJjMTY4NjZmNjA5YzlmOGUzNzotCAMQuAgYzgIiI3YyLWFlM2UwYWE2YmJmMTY0NGVkZWUwYTEzZTFlMjA3OWZjOi0IAhCGAxjtAyIjdjItNTRiMzdjNjIyYmVlOGU4N2RhNjdiZjA5NDcyYTcxNTI6LQgCELgIGI4FIiN2Mi1mNjAwODdmNTVjZGNjMTlmNWE1NDJjNDRlMjI1YjBmMDotCAIQnQMY4wIiI3YyLTFlNTBhZjNiOWYyZTgzOTA4MDZjMTU1NjRmNWRmNDNlOi0IAhDSAxiGAyIjdjItNGExODI2N2QxZGJiYmVhM2ViYWY4N2E3MWM4NDMwNWI6LQgDELgIGJsFIiN2Mi0zM2JmZDJjMDMzY2JiMGVkYzViYWE2Yzc2ODJlNmM3ZTotCAMQuAgYigMiI3YyLWMxMjdhM2JmZDVmMjQzZWZlYjRmY2M5YmYxMjJlM2QxOi0IAhC4CBj4BCIjdjItYTkzMmRhM2MwYjY1ZTVjYWZiNzFiNWY3OWI1ZTQyZmY6LQgCELgIGPsDIiN2Mi02NDQyNGEyYzFkMjZlYTM4OTk0Mjg3YzE1MTI5NzUyYjotCAMQuAgYqAUiI3YyLTI1OTBlYWViYzVmNTY1ZDcxMWMzNWJjYTBlNjdmZGQ2Oi0IAhC4CBjDAyIjdjItNzJkY2ZkYjZlZTkzZDRmMGM5OGYwODQ5YjY2OWM1OTY6LQgDELgIGMYGIiN2Mi1iMDNkMzYxOTRlYWY3YTNiMjVhOGUzZDFhNjIxNzg3ODotCAIQhQUY4AYiI3YyLTg0MzAyNWM3ODZmZjUwNWE2YzAwMzg2ZjI4Y2RlNmFiOi0IAhCYBRjlBCIjdjItMGYyOGI4ZTZmMTE5Y2RmYTExMjM5M2I3MDJmNzBiNTk6LQgDEIsHGJcFIiN2Mi0zMDUwYzU1ZjhmMTlmNTgyMjIwMDQxMTZhMjVhYzk4NDotCAIQuAgYxQMiI3YyLWU2YThmZWUzYTM2Yzc5MDM1OGM0NWUwY2Y2ZWJlNDk3Oi0IAhCXBRiPBiIjdjItMDhjNDBhOTg5NzgzYmZmZDBmZWU0YmNjYmRkMDMxOWY6LQgCELgIGMwDIiN2Mi0yMjA0YzQ4OWU0YjJlM2U0Y2I1MjlhMGI4NzNkNDA3NoAEAIgEAJIEBk5vcm1hbJoEATOgBACoBACwBAC6BAZtYW51YWzCBAMxNzDIBADSBA/mjqjojZDlt7Lmm7TmlrDYBADwBAD5BAAAAGAPMKI/gQUAAAAAAAAAAIkF/at0vAxU2T+SBQCaBQNkZnSiBQNkZnSyBQExuQUAAAAAAAAAANAFAOAFAOgFAPAFZ5AGAKAG6gSoBgGSAiYKCTI1NDYxMDYxMxILMjc5NDAwMzM5NTIYByIKSU1BR0VfVEVYVA==",
      "action_card": false
    },
    {
      "id": "613_1755822926.55",
      "type": "feed",
      "offset": 613,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1755822926,
      "updated_time": 1755822926,
      "target": {
        "id": "1939718540602086551",
        "type": "answer",
        "url": "https://api.zhihu.com/answers/1939718540602086551",
        "author": {
          "id": "13eda93ce5ae57af0c9575567f900e46",
          "url": "https://api.zhihu.com/people/13eda93ce5ae57af0c9575567f900e46",
          "user_type": "people",
          "url_token": "bu-la-ge-zhi-chun-38",
          "name": "布拉格之春",
          "headline": "",
          "avatar_url": "https://picx.zhimg.com/50/v2-4bb0935dcb31efff23a5bfca08754d37_l.jpg?source=b6762063",
          "is_org": false,
          "gender": -1,
          "followers_count": 39,
          "is_following": false,
          "is_followed": false
        },
        "created_time": 1755244938,
        "updated_time": 1755328455,
        "voteup_count": 244,
        "thanks_count": 2,
        "comment_count": 500,
        "is_copyable": true,
        "question": {
          "id": "664862586",
          "type": "question",
          "url": "https://api.zhihu.com/questions/664862586",
          "author": {
            "id": "88b5b3ed6119dc4d04fd7c79e73cdf68",
            "url": "https://api.zhihu.com/people/88b5b3ed6119dc4d04fd7c79e73cdf68",
            "user_type": "people",
            "url_token": "88-34-62-3-32",
            "name": "战争祭司",
            "headline": "欢迎咨询军内一切问题。",
            "avatar_url": "https://picx.zhimg.com/50/v2-64eff9a7888cb06025320ca26f8e6960_l.jpg?source=b6762063",
            "is_org": false,
            "gender": -1,
            "followers_count": 6145,
            "is_following": false,
            "is_followed": false
          },
          "title": "俄乌战争，真的没办法理清对错吗？",
          "created": 1724196384,
          "answer_count": 0,
          "follower_count": 0,
          "comment_count": 55,
          "bound_topic_ids": [
            285,
            5548,
            30738,
            136525
          ],
          "is_following": false,
          "excerpt": "",
          "relationship": {
            "is_author": false
          },
          "detail": "",
          "question_type": "normal"
        },
        "excerpt": "俄乌战争本来就清清楚楚，明明白白。但是在国内被混淆视听。 一、乌克兰独立（1991年12月1日） 时间：1991年12月1日 事件：乌克兰举行全民公投，决定是否独立。 主要人物：列昂尼德·克拉夫丘克：乌克兰人民代表大会主席，后成为首任总统。 米哈伊尔·戈尔巴乔夫：苏联总统。 原因/背景：1、苏联体制崩溃，戈尔巴乔夫推行改革与开放（Perestroika和Glasnost），导致中央权威削弱，鼓励公开讨论政治问题 2、东欧剧变（波兰、捷克…",
        "excerpt_new": "俄乌战争本来就清清楚楚，明明白白。但是在国内被混淆视听。 一、乌克兰独立（1991年12月1日） 时间：1991年12月1日 事件：乌克兰举行全民公投，决定是否独立。 主要人物：列昂尼德·克拉夫丘克：乌克兰人民代表大会主席，后成为首任总统。 米哈伊尔·戈尔巴乔夫：苏联总统。 原因/背景：1、苏联体制崩溃，戈尔巴乔夫推行改革与开放（Perestroika和Glasnost），导致中央权威削弱，鼓励公开讨论政治问题 2、东欧剧变（波兰、捷克…",
        "preview_type": "default",
        "preview_text": "",
        "reshipment_settings": "allowed",
        "content": "<p data-pid=\"zBloi5NW\">俄乌战争本来就清清楚楚，明明白白。但是在国内被混淆视听。</p><hr/><p data-pid=\"Fp-lxg_d\"><b>一、乌克兰独立（1991年12月1日）</b></p><p data-pid=\"4RKct1rh\"><b>时间：</b>1991年12月1日</p><p data-pid=\"-Fezc02q\"><b>事件：</b>乌克兰举行全民公投，决定是否独立。</p><p data-pid=\"GsHEfPrN\"><b>主要人物：</b></p><p data-pid=\"ZCEdO3GN\">列昂尼德·克拉夫丘克：乌克兰人民代表大会主席，后成为首任总统。</p><p data-pid=\"nt-auefE\">米哈伊尔·戈尔巴乔夫：苏联总统。</p><p data-pid=\"AoZBbFEv\"><b>原因/背景：</b></p><p data-pid=\"INc8d-op\">1、苏联体制崩溃，戈尔巴乔夫推行改革与开放（Perestroika和Glasnost），导致中央权威削弱，鼓励公开讨论政治问题</p><p data-pid=\"KfoWr4MW\">2、东欧剧变（波兰、捷克斯洛伐克转型）提供示范效应，激发独立思潮。</p><p data-pid=\"OD08GVT4\">3、乌克兰民族意识觉醒，长期受俄罗斯统治与文化影响，经济与政治不满增加。</p><blockquote data-pid=\"_4XoRWZZ\"><i>乌克兰历史上长期受俄罗斯帝国统治（17世纪后期至1917年），再被纳入苏联（1922-1991）。</i><br/><i>期间，乌克兰的语言、教育和宗教等文化领域受到强烈俄罗斯化政策影响。</i><br/><i>俄语成为官方语言，乌克兰语被边缘化，民族文化和历史教育被削弱。</i><br/><i>关键行政和党务职位多由俄裔或亲俄官员担任，乌克兰本地政治自主权有限。</i><br/><i>1980年代苏联经济停滞，计划经济效率低下，资源分配不均。</i><br/><i>乌克兰是苏联的粮仓和重工业基地，但产出主要服务苏联整体利益，而非本地发展。</i><br/><i>地方经济受中央计划控制，工资低、物资短缺导致乌克兰收入与生活水平差距巨大。</i><br/><i>乌克兰核心资源被“抽取/上交/掠夺（看大家怎么理解吧）”，农业、钢铁、煤炭等产业贡献巨大，但本地投资不足，民众感受资源被“掠夺”。</i><br/><i>官僚严重腐败，地方官员与中央权力勾结，民众对制度信任低。</i></blockquote><p data-pid=\"f62qBbGj\"><b>动机：</b></p><p data-pid=\"o8yoEiV2\">乌克兰希望通过合法、公民授权方式建立独立主权国家，获得国际承认。</p><p data-pid=\"eR2uzrGw\"><b>理据：</b></p><p data-pid=\"_jNqGObK\">1、法律：苏联法律允许加盟共和国通过公投决定自决。</p><p data-pid=\"wJZzAP_7\">2、民意：投票率84%，支持独立超过90%，显示明确民意基础。</p><p data-pid=\"u1j9rY-s\">3、国际承认：公投结果便于联合国及其他国家承认乌克兰独立。</p><p data-pid=\"azPclY6K\"><b>对错判断：</b>合法独立，正确。</p><hr/><p data-pid=\"oklP39G-\"><b>二、北约东扩与俄罗斯安全关切（1999年—2008年）</b></p><p data-pid=\"d8Y3pDV4\"><b>时间：</b></p><p data-pid=\"-IgwjjEE\">1、1999年：波兰、捷克、匈牙利加入北约。</p><p data-pid=\"e7GP9Jgc\">2、2004年：波罗的海三国、斯洛文尼亚等加入北约。</p><p data-pid=\"th_bLyw6\">3、2008年：北约布加勒斯特峰会讨论乌克兰、格鲁吉亚入约。</p><blockquote data-pid=\"5SQj6FVd\"><i><b>为什么都想加入北约？</b></i><br/><i>一、长期受苏联或俄罗斯控制：</i><br/><i>1、波兰、捷克、匈牙利、、爱沙尼亚、拉脱维亚、立陶宛在二战后被纳入苏联势力范围或受其影响。</i><br/><i>2、乌克兰和格鲁吉亚则直接成为苏联的加盟共和国。</i><br/><i>二、冷战经历：</i><br/><i>1、东欧国家长期缺乏自主国防能力，政治、军事和外交均受苏联控制。</i><br/><i>2、民众和国家对历史侵略和统治有深刻不信任感。</i><br/><i>三. 核心动机</i><br/><i>1、安全保障</i><br/><i>北约第5条明确集体防御：一国遭侵略，其他成员有义务援助。</i><br/><i>对长期受俄罗斯/苏联威胁的国家来说，这是最直接、最可靠的防御机制。</i><br/><i>对乌克兰和格鲁吉亚来说，2008年前俄格冲突和克里米亚、顿巴斯局势凸显了安全压力。</i><br/><i>2、政治稳定与民主建设</i><br/><i>加入北约有助于推动国内军事、政治和司法改革，强化民主制度。</i><br/><i>东欧和前苏联国家希望通过西方体系保障政治独立，避免国内倒退。</i><br/><i>3、国际地位与外交自主</i><br/><i>成为北约成员意味着正式融入西方安全体系，增加国际话语权。</i><br/><i>可获得经济、军事、外交援助，提高国家发展和战略自主性。</i><br/><i>4、历史经验驱动</i><br/><i>历史上多次遭受俄国或苏联侵略（如波兰二战被瓜分、波罗的海被苏联占领、格鲁吉亚战争）。</i><br/><i>民众和政界强烈渴望避免再次受外来强权控制。</i></blockquote><p data-pid=\"XLogOguh\"><b>主要人物：</b></p><p data-pid=\"-PzgazS2\">弗拉基米尔·普京：俄罗斯总统。</p><p data-pid=\"La-ASZku\">乔治·布什：美国总统。</p><p data-pid=\"iXzzs9Qk\"><b>原因/背景：</b></p><p data-pid=\"2wxfmkaG\">1、北约东扩迫近俄罗斯边界，俄罗斯担心战略安全。</p><p data-pid=\"Eja5E90f\">2、乌克兰与北约关系加深，引发俄罗斯紧张。</p><p data-pid=\"IbpRExbN\"><b>动机：</b></p><p data-pid=\"qHidvL9H\">俄罗斯认为扩张威胁国家安全，希望阻止乌克兰加入北约。</p><p data-pid=\"EiHQjnfe\"><b>理据：</b></p><p data-pid=\"fpBEkiX7\">国际法上，北约扩张合法，未直接违反俄罗斯领土完整。</p><p data-pid=\"fN0GlAKw\"><b>对错判断：</b></p><p data-pid=\"M7FnkVKm\">1、安全关切存在合理性，但不能作为合法侵略的理由。</p><p data-pid=\"DWncygPN\">2、动机可解释行为，但不改变法律对错。</p><blockquote data-pid=\"V3TtEgvU\"><i><b>一、北约是个啥？</b></i><br/><i>北约（北大西洋公约组织）成立于1949年4月4日，旨在对抗苏联及其盟友。自苏联解体（1991年12月26日）后，北约逐步吸纳原华沙条约国家和前苏联加盟国，这一过程被称为“东扩”。</i><br/><i><b>以下是关键时间线：</b></i><br/><i>1999年3月12日：波兰、匈牙利、捷克加入北约，标志着东扩第一波，直接靠近俄罗斯边境。</i><br/><i>2004年3月29日：波罗的海三国（爱沙尼亚、拉脱维亚、立陶宛）、保加利亚、罗马尼亚、斯洛伐克、斯洛文尼亚加入北约。其中，波罗的海三国与俄罗斯直接接壤，爱沙尼亚距圣彼得堡仅150公里。</i><br/><i>2008年4月3日：北约布加勒斯特峰会声明，乌克兰和格鲁吉亚“最终将加入北约”，引发俄罗斯强烈反对。</i><br/><i>2009年4月4日：阿尔巴尼亚、克罗地亚加入北约。</i><br/><i>2017年6月5日：黑山加入北约。</i><br/><i>2020年3月27日：北马其顿加入北约。</i><br/><i>2023年4月4日：芬兰加入北约，新增1300公里与俄罗斯接壤的边境。</i><br/><i>2024年3月7日：瑞典加入北约，进一步扩大北约在波罗的海地区的军事存在。</i><br/><i>截至2025年，北约成员国从1949年的12个增至32个，其中东扩新增14个国家，大多数靠近俄罗斯或前苏联势力范围。</i><br/><i><b>二、北约为何要对抗苏联及其盟友/苏联及其盟友为何要对抗北约</b></i><br/><i>北约其核心目的就是为了遏制苏联的扩张，为西欧国家提供集体安全保障。</i><br/><i><b>1、地缘政治与军事威胁</b></i><br/><i><b>苏联的东欧扩张：</b></i><br/><i><b>事件：</b>1945年二战结束，苏联占领东欧，1945-1948年间在波兰、匈牙利、捷克斯洛伐克、罗马尼亚、保加利亚、阿尔巴尼亚和东德建立亲苏政权，形成“铁幕”。</i><br/><i><b>数据：</b>1948年，苏联在东欧驻军约100万，配备坦克和重炮，远超西欧国家（英法美在西欧总兵力约80万）。</i><br/><i><b>事件</b>：1948年2月25日，捷克斯洛伐克共产主义政变，亲苏政府上台；1948年6月24日-1949年5月12日，苏联封锁西柏林（柏林危机），试图迫使西方放弃控制权。</i><br/><i><b>理据：</b>西方国家（美国、英国、法国）认为苏联通过军事占领和政治控制，意图将势力范围扩展至西欧，威胁其安全。</i><br/><i><b>苏联的核威胁：</b></i><br/><i><b>事件：</b>1949年8月29日，苏联成功试爆第一颗原子弹（RDS-1），打破美国核垄断。</i><br/><i><b>理据：</b>美国总统哈里·杜鲁门（1945-1953）和英国首相温斯顿·丘吉尔（1940-1945，1951-1955）担忧苏联核能力结合其常规部队优势，可能威胁西欧。</i><br/><i><b>共产主义全球扩张：</b></i><br/><i><b>事件：</b>1950年6月25日，朝鲜战争爆发，苏联支持北韩领导人金日成入侵南韩，联合国军（以美国及北约成员国为主）反击。（</i>朝鲜战争爆发后，苏联支持朝鲜民主主义人民共和国光复朝鲜半岛，随后西方列强（主要由美帝国主义及部分附庸走狗组成）不惜直接军事干预朝鲜内政。<i>）</i><br/><i><b>事件：</b>1949年10月1日，新中国建立，1950年2月14日与苏联签订《中苏友好同盟互助条约》，强化社会主义阵营。</i><br/><i><b>理据：</b>西方认为苏联通过支持盟友（如中国、朝鲜）和共产主义运动（如1947-1949年希腊内战中的共产主义游击队），威胁全球资本主义秩序。</i><br/><i><b>2、意识形态对立</b></i><br/><i><b>资本主义 vs. 社会主义：</b></i><br/><i><b>事件：</b>1946年3月5日，丘吉尔在富尔顿发表“铁幕演说”，警告苏联的共产主义扩张威胁自由世界。1947年3月12日，杜鲁门提出“杜鲁门主义”，承诺通过经济和军事援助遏制共产主义。</i><br/><i><b>事件：</b>1948年4月3日，意大利大选中，苏联支持的意大利共产党获31%选票，美国通过中情局（CIA）资助基督教民主党（48%选票）阻止共产主义上台。</i><br/><i><b>理据：</b>苏联的计划经济和一党制与西方的自由市场和多党民主对立，北约视苏联的“世界革命”理念（如共产国际，1919-1943年）为意识形态威胁。</i><br/><i><b>人物：</b>美国国务卿迪安·艾奇逊（1949-1953）推动北约成立，强调对抗苏联的共产主义扩张；CIA局长艾伦·杜勒斯（1953-1961）通过情报行动遏制苏联渗透。</i><br/><i><b>3、北约的直接行动</b></i><br/><i><b>事件：</b>1949年4月4日，北约成立，12个创始成员国（美国、英国、法国、加拿大等）签署《北大西洋公约》，第5条规定集体防御。</i><br/><i><b>事件：</b>1950年9月，北约建立常设军事指挥部（SHAPE），德怀特·艾森豪威尔（1951-1952）任首任最高司令，协调西欧军力。</i><br/><i><b>数据：</b>1953年，北约在西欧部署约20个师（约30万人），配备美国核武器，旨在威慑苏联可能的侵略。</i><br/><i><b>理据：</b>北约通过军事联盟和核威慑，应对苏联在东欧的军事优势（1948年100万驻军）和核能力（1949年试爆）。</i><br/><br/><i><b>苏联及其盟友（华约成员国、中国、朝鲜、蒙古、越南等）将北约视为美国主导的遏制工具，威胁其安全和社会主义体制。</b></i><br/><i>1、针对北约的军事包围态势，苏联联合东欧7国（波兰、东德、捷克斯洛伐克、匈牙利、罗马尼亚、保加利亚、阿尔巴尼亚）成立华沙条约组织，联合社会主义阵营作为对北约的直接回应。·斯大林认为，北约是美国为首的西方通过军事联盟包围苏联，削弱其地缘政治影响。</i><br/><i>2、苏联认为1947年6月5日，美国推出“马歇尔计划”和北约军事部署是美国遏制社会主义阵营的战略，威胁其盟友（如未加入华约组织的中国、朝鲜、蒙古、越南）。</i><br/><i>3、1947年9月22日，苏联成立共产主义情报局，协调东欧国家和全球共产主义运动，明确反对西方资本主义。</i><br/><i>4、1950年2月14日，苏联与中国签订《中苏友好同盟互助条约》，承诺共同对抗“帝国主义侵略”</i><br/><i>5、苏联及其盟友认为，北约支持的资本主义和民主制度（如1948年意大利选举的CIA干预）威胁社会主义的计划经济和一党制。</i><br/><i>6、1953年6月17日，东柏林工人起义，苏联指控西方情报机构（美国CIA、英国MI6）幕后支持，由此赫鲁晓夫认为，北约不仅是军事联盟，也是西方推广资本主义、颠覆社会主义国家的工具。</i><br/><i>7、华约组织成立，苏联部署约100万部队在东欧，配备坦克和导弹，对抗北约的30万西欧部队。</i><br/><i>8、1956年10月23日-11月10日，匈牙利起义，苏联出动坦克镇压，导致2.5万匈牙利人死亡，并指责北约国家（美国、英国）通过宣传和情报支持反苏势力。</i><br/><i>9、1961年8月13日，苏联在柏林修建柏林墙，防止东德居民逃往西柏林，称北约的“自由世界”宣传威胁东德稳定。</i><br/><i>10、1950-1953年间，苏联向朝鲜提供约2亿美元军事援助；1950-1960年，向中国提供约13亿美元经济和军事援助，强化反北约阵营。</i><br/><i><b>三、北约东扩合法吗？</b></i><br/><i>1、主权国家的权利</i><br/><i>国际法明确规定，主权国家有权自主选择加入军事或政治联盟。</i><br/><i>《联合国宪章》第2条第1款保障国家主权和独立，这意味着东欧和前苏联独立国家自由加入北约不违反国际法。</i><br/><i>2、北约章程</i><br/><i>北约自身章程允许组织扩张。</i><br/><i>加入北约需全体现有成员国一致同意，各国的入约程序合法且公开透明。</i><br/><i>1999年、2004年东扩均严格按照程序进行，符合法律要求。</i><br/><i>3、不侵犯第三国领土</i><br/><i>东扩并未改变俄罗斯或其他国家的领土完整。</i><br/><i>北约成员资格基于自愿加入，不等于攻击或吞并他国领土。</i><br/><i><b>四、北约东扩的本质原因</b></i><br/><i>北约东扩的根本原因是冷战后东欧与前苏联国家在历史安全压力下，为保障独立、国家安全、民主与现代化发展而主动寻求西方军事和政治体系的保护。 </i><br/><i><b>五、东扩对俄罗斯（苏联、华约），社会主义国家构成什么样的威胁</b></i><br/><b>俄罗斯视角：</b>北约东扩通过军事部署（2016年波兰反导基地、2023年芬兰加入）和支持乌克兰（2021年军演、武器援助），直接威胁俄罗斯的战略安全和地缘政治缓冲区。2022年2月24日俄乌战争被普京视为“被迫回应”。<br/><i><b>社会主义国家视角：</b></i><br/><i>中国：北约东扩是美国主导的全球霸权战略，威胁多极化世界秩序。认为北约东扩不仅是针对俄罗斯，也为美国在亚太地区的“印太战略”铺路。视北约东扩为美国遏制社会主义国家的工具，威胁其地缘政治利益，但威胁程度因中国未与北约直接接壤而较间接。</i><br/><i>朝鲜：将北约东扩视为美国全球军事扩张的一部分，威胁其生存。支持俄罗斯反对北约东扩，称其为“共同威胁”。认为北约东扩对朝鲜构成间接威胁，通过加强美日韩同盟，压缩朝鲜的战略空间。</i><br/><i>古巴：古巴将北约东扩视为美国霸权的延伸，威胁社会主义国家的意识形态。古巴长期受美国制裁（1960年起），认为北约东扩是美国推广西方民主模式的工具，威胁其社会主义体制。北约在拉美地区的活动（如与哥伦比亚的伙伴关系，2018年）被古巴视为潜在威胁。</i><br/><i>越南和老挝：对北约东扩持谨慎态度，但因地缘位置远离欧洲，威胁感较低。越南在2018年与北约建立“伙伴关系”，参与维和合作，但未加入北约主导的军事行动。老挝保持中立，未公开评论北约东扩。</i></blockquote><hr/><p data-pid=\"JGBSBjDz\"><b>三、乌克兰政权更替（2014年2月）</b></p><p data-pid=\"qGhxg3lz\"><b>时间：</b>2014年2月</p><p data-pid=\"kaZZKvhV\"><b>事件：</b>乌克兰总统亚努科维奇因反政府示威被推翻，流亡俄罗斯。</p><p data-pid=\"CyunU69d\"><b>主要人物：</b></p><p data-pid=\"UfLSAvM4\">亚努科维奇：乌克兰亲俄总统。</p><p data-pid=\"WxqwUTsA\">亚历山大·图尔奇诺夫：乌克兰临时总统。</p><p data-pid=\"SAfjPfiZ\"><b>原因/背景：</b></p><p data-pid=\"PKcVVhYu\">国内亲欧盟与亲俄政治分歧激烈，亚努科维奇拒绝签署与欧盟的联合协议，引发“尊严革命”示威。</p><p data-pid=\"nGEhLta1\"><b>动机：</b></p><p data-pid=\"lzAmapp1\">民众寻求民主改革、反对腐败与政府偏向俄罗斯。</p><p data-pid=\"8wuig7kw\"><b>理据：</b></p><p data-pid=\"JJZ1M9D2\">政权更替属于国内政治事件，符合民意表达和宪法程序。</p><p data-pid=\"_CF80qHI\"><b>对错判断：</b>合法政治变动，正确。</p><hr/><p data-pid=\"exleqS-V\"><b>四、克里米亚兼并（2014年3月）</b></p><p data-pid=\"7OqDD6VX\"><b>时间：</b>2014年3月</p><p data-pid=\"2g1W3Yy4\"><b>事件：</b>俄罗斯军队进入克里米亚并组织公投，随后兼并克里米亚。</p><blockquote data-pid=\"dokpOFDg\"><i><b>俄罗斯为什么兼并克里米亚？</b></i><br/><i>1954年，苏联领导人赫鲁晓夫将克里米亚从俄罗斯苏维埃联邦社会主义共和国划入乌克兰苏维埃社会主义共和国，当时属于苏联内部行政划分，未被视为国际边界。</i><br/><i>1991年苏联解体后，克里米亚成为乌克兰一部分，但大量俄罗斯族人口仍集中在当地，形成特殊民族结构。</i><br/><i>克里米亚是俄黑海舰队长期驻扎的基地，位于黑海北岸，是俄罗斯南部的重要战略缓冲区。</i><br/><i>乌克兰独立后，俄罗斯对舰队控制权和南部安全存在担忧，并且担心乌克兰向西方靠拢、加入北约和欧盟。</i><br/><i>2014年乌克兰爆发政治危机、亲俄总统亚努科维奇被推翻后，克里米亚举行公投（官方称96.77%支持加入俄罗斯），随后并入俄罗斯。俄罗斯认为依据自决权和公投结果合法，而联合国多数国家依据《联合国宪章》第2条关于领土完整和不干涉内政则不承认，认为违反乌克兰主权和国际法。</i><br/><i>克里米亚兼并的本质动因是历史民族认同、地缘战略安全及防止乌克兰西向靠拢，法律上存在争议，但战略上对俄罗斯具有重要意义。</i></blockquote><p data-pid=\"Qq3X307X\"><b>主要人物：</b></p><p data-pid=\"YQI3DM9b\">弗拉基米尔·普京：俄罗斯总统。</p><p data-pid=\"McuKAafZ\">亚历山大·图尔奇诺夫：乌克兰临时总统。</p><p data-pid=\"N1d-p6MP\"><b>原因/背景：</b></p><p data-pid=\"ijxW6JNh\">克里米亚战略位置重要，是俄罗斯黑海舰队驻地。</p><p data-pid=\"8kkdXzBk\">当地俄裔人口约58%，部分支持加入俄罗斯。</p><p data-pid=\"1lHyPOkT\">乌克兰政权更替提供政治机会。</p><p data-pid=\"mVn9utc6\"><b>动机：</b></p><p data-pid=\"AjyBTrb0\">俄罗斯意图控制战略要地，保护俄裔民众，巩固地缘影响力。</p><p data-pid=\"gp1AAtwt\"><b>理据：</b></p><p data-pid=\"Hbikd4w1\">国际法：联合国大会A/RES/68/262决议不承认兼并，属非法占领。</p><p data-pid=\"7LtdT-6o\">乌克兰主权受侵害。</p><p data-pid=\"8T0-gnaP\"><b>对错判断：</b>法律层面存在争议</p><hr/><p data-pid=\"ttmIa4hU\"><b>五、顿巴斯冲突（2014年4月起）</b></p><p data-pid=\"_YbceMvr\"><b>时间：</b>2014年4月起</p><p data-pid=\"1jfF9axA\"><b>事件：</b>顿涅茨克、卢甘斯克地区亲俄分离武装与乌克兰政府军爆发冲突。</p><p data-pid=\"rvwox5dW\"><b>主要人物：</b></p><p data-pid=\"ouAEDN4F\">亚历山大·扎哈尔琴科：顿涅茨克领导人。</p><p data-pid=\"42PSzrUR\">伊戈尔·普罗霍洛夫：乌克兰将领。</p><p data-pid=\"WlpdmilQ\"><b>原因/背景：</b></p><p data-pid=\"LAzB9kRI\">乌克兰内部亲俄武装寻求自治或加入俄罗斯。</p><p data-pid=\"dLvZMkRe\">俄罗斯向分离武装提供武器、训练和人员支援。</p><p data-pid=\"kp5s6RBW\"><b>动机：</b></p><p data-pid=\"Fkw-Irmb\">乌克兰维护国家主权和领土完整。</p><p data-pid=\"GmZVYjOJ\">俄罗斯企图扩大影响力，保护俄裔民众。</p><p data-pid=\"X1buMEPe\"><b>理据：</b></p><p data-pid=\"rw7gTN7t\">乌克兰合法行使国家权力。</p><p data-pid=\"2x5k7X8y\">俄罗斯跨境干预违反国际法。</p><p data-pid=\"ZJL476t3\"><b>对错判断：</b>乌克兰合法防卫，俄罗斯违法。</p><hr/><p data-pid=\"SG6EVCAR\"><b>六. 俄乌战争爆发（2022年2月24日）</b></p><p data-pid=\"pQ1piE0u\"><b>时间：</b>2022年2月24日</p><p data-pid=\"KB1kjV4A\"><b>事件：</b>俄罗斯从北、东、南三线发动大规模发动军事行动，提出“去军事化”和“去纳粹化”乌克兰的目标。</p><p data-pid=\"JR2ZUhz5\"><b>主要人物：</b></p><p data-pid=\"I4TvZIez\">弗拉基米尔·普京：俄罗斯总统。</p><p data-pid=\"0NAJeHSD\">弗拉基米尔·泽连斯基：乌克兰总统。</p><p data-pid=\"DDkceb3f\"><b>原因/背景：</b></p><p data-pid=\"_J3Pjruw\">俄罗斯历史与地缘考虑：克里米亚与顿巴斯地区俄裔人口及历史联系。</p><p data-pid=\"cNROdULr\">国家安全：阻止乌克兰加入北约。</p><p data-pid=\"YxtDhqMh\">内部政治：巩固政权和民族主义叙事。</p><p data-pid=\"1QyazNYS\"><b>动机：</b></p><p data-pid=\"Q1STcbq0\">俄罗斯意图控制乌克兰，保护俄裔，增强战略深度。</p><p data-pid=\"G6WUi91i\">乌克兰旨在捍卫主权和国家生存。</p><p data-pid=\"Yw6-y9vO\"><b>理据：</b></p><p data-pid=\"aL9249XK\">违反《联合国宪章》第2条4款，属侵略。</p><p data-pid=\"-XmbwQIG\">乌克兰依据《联合国宪章》第51条行使自卫权。</p><p data-pid=\"py7VgU7X\">“去纳粹化”缺乏事实依据，乌克兰无纳粹政权。</p><p data-pid=\"x_ynhBJd\"><b>对错判断：</b>俄罗斯侵略，乌克兰自卫合法。</p><hr/><p data-pid=\"lprDJEus\"><b>七、国际反应（2022年3月2日）</b></p><p data-pid=\"WRWNvCBN\"><b>时间：</b>2022年3月2日</p><p data-pid=\"OZZdNWO4\"><b>事件：</b>联合国大会通过A/RES/ES-11/1决议，谴责俄罗斯入侵乌克兰。</p><p data-pid=\"_cnnJBbP\"><b>理据：</b></p><p data-pid=\"FXOL_9SN\">决议明确俄罗斯侵略行为违法，呼吁撤军。</p><p data-pid=\"Ij7IrDdR\"><b>对错判断：</b>进一步确认俄罗斯违法、乌克兰合法。</p><hr/><p data-pid=\"vdtgqRvm\"><b>20250816新增补充：</b></p><p data-pid=\"F2CVxVI-\">原本我以为关于俄乌战争的回答整体脉络已经梳理的很清晰了，从 <b>乌克兰独立 → 北约东扩 → 乌克兰政权更替 → 克里米亚兼并 → 俄乌战争爆发</b>，条理、逻辑完整，也做到了对每个节点的“历史背景—动机—理据—对错判断”的梳理。</p><p data-pid=\"x90gEFma\">可能是由于在“对错”的界定方面写的比较偏“史料陈述 + 法理判断”，所以还是有朋友提出了：</p><blockquote data-pid=\"pg8GIXll\">“亲西方的人颜色革命推翻合法政府的行为判为合法，又把随后亲俄的人反抗颜色革命上台政府的行为判为非法，实际当时乌克兰已经分裂·········”等疑问。</blockquote><p data-pid=\"0m-R3if-\"><b>我再补充一下这个问题：</b></p><p data-pid=\"BmpM5l-7\"><b>一、对错界定：</b></p><p data-pid=\"kcxBxMDg\"><b>乌克兰：</b> 独立合法；政权更替是国内政治发展；寻求加入北约是主权权利；整体上在法律与民意上站得住脚。</p><p data-pid=\"0kFU8HIY\"><b>俄罗斯：</b> 有安全关切的“合理性”，但侵略和兼并不合法；克里米亚公投不具备国际法效力，违反乌克兰领土完整原则；入侵乌克兰是赤裸裸的侵略。</p><blockquote data-pid=\"DcYYVUjy\">（“俄罗斯认为依据自决权和公投结果合法，而联合国多数国家依据《联合国宪章》第2条关于领土完整和不干涉内政则不承认”。也就是“俄罗斯用‘自决’做理由，但在国际法上‘领土完整优先于自决’，所以克里米亚兼并不合法。”）</blockquote><p data-pid=\"IjvpO4hL\"><b>北约：</b> 扩张合法，但在政治上确实加剧了俄罗斯的安全焦虑；然而这种焦虑不足以成为战争的正当理由。</p><p data-pid=\"l5js87U8\"><b>结论：</b>俄乌战争的对错是清楚的，俄罗斯的侵略行为不合法；乌克兰的抵抗与自保合法；北约东扩虽有现实矛盾，但不等于“侵略”。</p><p data-pid=\"q26DIXOv\"><b>二、道义层面：</b></p><p data-pid=\"pSWDSanA\"><b>俄罗斯</b>：动用武力改变国际边界 → 开了危险的先例 → 损害国际秩序。</p><p data-pid=\"o1ffj0T-\"><b>乌克兰</b>：为国家独立与主权抗争，符合民族自决和国际承认的正当性。</p><p data-pid=\"fIrR2YNg\"><b>北约</b>：虽有显而易见的政治算计，但本质上是成员国自主选择的结果，而非强制扩张。</p><p data-pid=\"inWyJD6x\"><b>三、颜色革命与“合法性”</b></p><p data-pid=\"6sOV6Lr4\"><b>（一）、乌克兰2014年政权更替背景</b></p><p data-pid=\"M-1PmS_Z\">亚努科维奇的确是合法选举上台，但因其<b>违背竞选承诺</b>拒绝与欧盟签订联系国协定和自由贸易协定，并试图加入俄主导的欧亚经济共同体，所以激起了大规模抗议示威，示威终演变为“广场革命”，在试图暴力镇压示威失败后，亚努科维奇于2014年2月21日逃亡至俄罗斯。这过程中确实存在外部势力（如欧美）支持的成分。但他最后<b>违背竞选承诺、弃职、逃往</b>俄罗斯的行为，最终被<span class=\"nolink\">乌克兰最高拉达</span>依宪法程序投票罢免并成立临时政府。</p><blockquote data-pid=\"4Hy2d-hT\">此后，俄军声称西方干预乌克兰，并借亚努科维奇要求俄派兵进入乌克兰帮助其夺权之机，对顿巴斯民兵提供武装支持，俄趁机兼并克里米亚半岛，乌境内政治冲突，爆发俄乌战争。</blockquote><p data-pid=\"KLBwzK1V\"><b>（二）、合法性 vs 正当性</b></p><p data-pid=\"PiadR2zi\"><b>法理上：</b>议会有权罢免总统，的确存在过程仓促，程序瑕疵（西方势力渗透等），但并非完全非法政变。</p><p data-pid=\"j63jxq3s\"><b>政治上：</b>这是一次带有“革命性质”的政权更替，有绝对的民意支持，但也确实有外部干预的痕迹。</p><p data-pid=\"ibly3szk\"><b>也就是说，在“程序正义”上确实可以争议，但并不能因此否认乌克兰国家整体的主权与独立。</b></p><p data-pid=\"WWeccy9D\"><b>四、亲俄地区的“反抗”与分裂问题</b>（“实际当时乌克兰是否已经分裂？”）</p><p data-pid=\"_72qyVmE\"><b>（一）、克里米亚与顿巴斯的逻辑不同</b></p><p data-pid=\"V0rkx3ux\">克里米亚和顿巴斯确实有亲俄情绪，但他们的做法是<b>绕过乌克兰宪法</b>，<b>直接宣布独立或公投脱离</b>。</p><p data-pid=\"tKsuo5rM\">国际法核心原则是“<b>领土完整优先于地方自决</b>”。即使中央政府有瑕疵，地方也不能随意脱离。</p><blockquote data-pid=\"gFgKWX0e\">如果有人以此作为依据，认为某些人或组织可以绕过宪法，直接宣布独立或公投脱离，便是正式分裂，国家消亡的话，大家别往远了想，这种事如果发生在当下我们的国家会怎样？咱不能烙饼不翻个儿啊。事要是都能这么干，谁都能混个总统当当了。<br/>这和嘉兴南湖会议完全不是一个逻辑，压根就不是一回事啊。</blockquote><p data-pid=\"-baC2CfF\"><b>（二）、“颜色革命”≠国家消亡</b></p><p data-pid=\"3Nc7xHdk\">1、就算中央政府换人（不论是亲西方还是亲俄），乌克兰这个国家的国际法地位并没有消失。</p><p data-pid=\"Bl0Ks1qO\">2、所以不能因为基辅政权更替，就推翻乌克兰整体主权的合法性。</p><p data-pid=\"LKlh92nz\"><b>说句不好听的话，“基辅的政府可以合法性的存疑，但乌克兰国家的领土完整不容质疑”。</b></p><blockquote data-pid=\"TS_0rPew\"><b>“你可以因为张小虎的妈和隔壁王大爷过从甚密，而怀疑张小虎是不是隔壁王大爷下的种，但你不能因此说他就不是老张家的崽，更不能把他从老张家户口本上划掉。”</b></blockquote><p data-pid=\"YzoMXM-A\"><b>（三）、亲西的颜色革命和亲俄反颜色革命（这话有点别扭）</b></p><p data-pid=\"qJ6yJ6cB\">有人说了：“既然亲西方的人推翻合法政府算合法，那亲俄的人反抗怎么就不合法？”</p><p data-pid=\"r1jNrkMJ\"><b>1、首先，对象不同</b></p><p data-pid=\"C24xfm1e\">亲西方的抗议是针对总统，但并未宣布乌克兰解体。</p><p data-pid=\"YwFzTwCh\">亲俄的反抗直接挑战乌克兰作为主权国家的存在，试图脱离。</p><p data-pid=\"JMFVqyJ9\"><b>2、其次，程序上的差别</b></p><p data-pid=\"AtbsjLgT\">亚努科维奇的罢免，确有外部压力，但他的<b>违背竞选承诺、弃职、逃往俄（我没说他叛逃）</b>一系列行为，最后通过议会投票表决，有形式上的宪法依据。</p><p data-pid=\"TuIVRzWX\">克里米亚和顿巴斯的“公投”，则完全跳过乌克兰宪法与全国公投程序，“自决”局部搞公投，不具法律效力。</p><p data-pid=\"EkyKhuLz\"><b>3、最后，国际承认度不同</b></p><p data-pid=\"8VW2SHq9\">新的乌克兰政府很快获得广泛国际承认。</p><p data-pid=\"_c5eovjI\">克里米亚并入俄罗斯则遭到大多数国家拒绝承认。</p><blockquote data-pid=\"d7aMQnC9\"><b>截止目前明确不承认乌克兰政府（以弗拉基米尔·泽连斯基为总统的政府）的国家和实体</b><br/>俄罗斯联邦、俄罗斯控制的乌克兰占领区（克里米亚、顿涅茨克“人民共和国”、卢甘斯克“人民共和国”、赫尔松占领区、扎波罗热占领区）、白俄罗斯、北朝鲜、叙利亚、尼加拉瓜<br/><b>模糊的国家</b><br/>中国、印度未明确声明不承认，但在某些国际场合（如联合国投票）中选择弃权或避免明确支持。可能是地缘政治考量：<br/>在2022年10月12日联合国大会第ES-11/4号决议中，35个国家选择弃权，如阿尔及利亚、玻利维亚、巴西、埃及、南非、泰国、越南等。<br/>在2022年10月12日的联合国大会投票显示，联合国193个成员国中的143个国家支持谴责俄罗斯吞并乌克兰领土，5个国家（俄罗斯、白俄罗斯、朝鲜、叙利亚、尼加拉瓜）反对。</blockquote><p data-pid=\"MWaJQ5WL\"><b>所以，事实的逻辑链是：</b></p><p data-pid=\"0jgPCjXG\">政府更替可以有争议，但国家主权和领土完整仍然有效。</p><p data-pid=\"my8tlN8c\">亲俄的“分裂运动”超出了抗议或换届的范围，直接触碰到国际法红线，因此不合法。</p><p data-pid=\"qBpPYUBY\">颜色革命再怎么有瑕疵，也没否定乌克兰作为一个主权国家的存在；而亲俄分裂派的做法，则是否定乌克兰这个国家本身。二者性质完全不同。</p>",
        "relationship": {
          "is_thanked": false,
          "is_nothelp": false,
          "voting": 0
        },
        "is_labeled": true,
        "visited_count": 38080,
        "favorite_count": 207,
        "answer_type": "normal",
        "is_navigator": false,
        "navigator_vote": false,
        "vote_next_step": "vote"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1939718540602086551}",
      "attached_info": "CrEFCLrX0La6yJHvlgEQBBoJNzQyMzQyOTA1IIrT+8QGKPQBMPQDQOUESigKHVRTX1NPVVJDRV9ORUFSTElORV9DT05URU5UX1YyEgEwGAAgADoAWgkxMTAwMjQ3NDliIGYwNzViYjAwYzI5ZjRjMzM2MjVhNTliYjM1MWFlMGE3chMxOTM5NzE4NTQwNjAyMDg2NTUxigEJNjY0ODYyNTg2qgEJcmVjb21tZW5kwgEgMTNlZGE5M2NlNWFlNTdhZjBjOTU3NTU2N2Y5MDBlNDbyAQoIDBIGTm9ybWFs8gEoCAoSJGI1YTM0NWEyLTBjNmYtNGFkMS04NWZkLTJiMTFjNDI4MzRhOfIBBwgLEgMxMDOCAgCIAuXSzvmMM5ICIDEzZWRhOTNjZTVhZTU3YWYwYzk1NzU1NjdmOTAwZTQ2mgIAygIWU2hvckludGVyZXN0V2VpZ2h0UnVsZcoCFVVzZXJMY25FeGl0V2VpZ2h0UnVsZdoCHVRTX1NPVVJDRV9ORUFSTElORV9DT05URU5UX1Yy6AIC+gILTk9STUFMX0ZMT1eKAyA1N2E3MTkxNmNjYTY0ZDQxOWRmNmY1ZTAxY2ZiZjcyN5IDF3poaWh1Oi8vdG9waWNzLzE5OTUzNTM4mgMNCgJ2MhAAGgVvdGhlcqgDwKkC2AMA+gMfEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERYAEAIgEAJIEBk5vcm1hbJoEATKgBACoBACwBAC6BAZtYW51YWzCBAMxNTnIBADSBA/mjqjojZDlt7Lmm7TmlrDYBADwBAD5BAAAAIBPo6s/gQUAAAAAAAAAAIkF/at0vAxU2T+SBQCaBQNkZnSiBQNkZnSyBQExuQUAAAAAAAAAANAFAOAFAOgFAPAFZ5AGAKAG6wSoBgOSAi4KCTc0MjM0MjkwNRITMTkzOTcxODU0MDYwMjA4NjU1MRgEIgpJTUFHRV9URVhU",
      "action_card": false
    },
    {
      "id": "614_1755822926.483",
      "type": "feed",
      "offset": 614,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1755822926,
      "updated_time": 1755822926,
      "target": {
        "id": "1891788755498689011",
        "type": "answer",
        "url": "https://api.zhihu.com/answers/1891788755498689011",
        "author": {
          "id": "180505bb45e12860f2cfcf5d962341d6",
          "url": "https://api.zhihu.com/people/180505bb45e12860f2cfcf5d962341d6",
          "user_type": "people",
          "url_token": "mockingbird2046",
          "name": "剁椒鹿",
          "headline": "全网同名，有公号（私信都会看）",
          "avatar_url": "https://picx.zhimg.com/50/v2-e25572a276c7d6eebf9387a76b1ca929_l.jpg?source=b6762063",
          "is_org": false,
          "gender": 0,
          "badge": [
            {
              "type": "zhihu_yearly_answerer",
              "description": "新知答主"
            },
            {
              "type": "best_answerer",
              "description": "猫等 2 个话题下的优秀答主",
              "topic_names": [
                "猫",
                "动物学"
              ],
              "topic_ids": [
                1570,
                22767
              ]
            },
            {
              "type": "super_activity",
              "description": "知势榜科学工程领域影响力榜答主"
            },
            {
              "type": "identity_people",
              "description": "宠物服务行业 兽医"
            }
          ],
          "followers_count": 74936,
          "is_following": false,
          "is_followed": false
        },
        "created_time": 1743817587,
        "updated_time": 1743901354,
        "voteup_count": 2071,
        "thanks_count": 358,
        "comment_count": 120,
        "is_copyable": true,
        "question": {
          "id": "14095049598",
          "type": "question",
          "url": "https://api.zhihu.com/questions/14095049598",
          "author": {
            "id": "b8536f6c4ba126a1f8e0de59e77c308c",
            "url": "https://api.zhihu.com/people/b8536f6c4ba126a1f8e0de59e77c308c",
            "user_type": "people",
            "url_token": "93-79-5-77-34",
            "name": "人类",
            "headline": "",
            "avatar_url": "https://pic1.zhimg.com/50/v2-e5aeb4872c80f1b3edccc46617dfe3de_l.jpg?source=b6762063",
            "is_org": false,
            "gender": 0,
            "followers_count": 0,
            "is_following": false,
            "is_followed": false
          },
          "title": "人类为何无法准确控制自己的每一个器官?",
          "created": 1741134333,
          "answer_count": 0,
          "follower_count": 0,
          "comment_count": 34,
          "bound_topic_ids": [
            2713,
            8437,
            17592,
            23174,
            310757
          ],
          "is_following": false,
          "excerpt": "",
          "relationship": {
            "is_author": false
          },
          "detail": "",
          "question_type": "normal"
        },
        "thumbnail": "https://picx.zhimg.com/50/v2-5371d25c7847358cf9f4eac1d662fca0_720w.jpg?source=b6762063",
        "excerpt": "如果你能用意识控制肠胃的平滑肌让它们震动，那么你一天之内就可能疯掉，不用去拉莱耶也能听见克苏鲁在你耳边的低语。 因为那意味着血脑屏障可能不存在了。 具体来说的话，让我先举个例子。 你会放心把电脑交给deepseek控制吗？ deepseek有时候回答问题很好用，有时候却有很严重的幻觉，相较起来，还是Windows系统更可靠一些，至于底层的主板硬件，还需要更基础的BIOS系统来控制开机自检（\"Basic Input Output System\"的缩略词，…",
        "excerpt_new": "如果你能用意识控制肠胃的平滑肌让它们震动，那么你一天之内就可能疯掉，不用去拉莱耶也能听见克苏鲁在你耳边的低语。 因为那意味着血脑屏障可能不存在了。 具体来说的话，让我先举个例子。 你会放心把电脑交给deepseek控制吗？ deepseek有时候回答问题很好用，有时候却有很严重的幻觉，相较起来，还是Windows系统更可靠一些，至于底层的主板硬件，还需要更基础的BIOS系统来控制开机自检（\"Basic Input Output System\"的缩略词，…",
        "preview_type": "default",
        "preview_text": "",
        "reshipment_settings": "allowed",
        "content": "<p data-pid=\"L1G6GK54\">如果你能用意识控制肠胃的平滑肌让它们震动，那么你一天之内就可能疯掉，不用去拉莱耶也能听见克苏鲁在你耳边的低语。</p><p data-pid=\"2ZFgusVQ\">因为那意味着血脑屏障可能不存在了。</p><p data-pid=\"T6KC0fLw\">具体来说的话，让我先举个例子。</p><p data-pid=\"BwxJ05nY\">你会放心把电脑交给deepseek控制吗？</p><p data-pid=\"hXH8uXgq\">deepseek有时候回答问题很好用，有时候却有很严重的幻觉，相较起来，还是Windows系统更可靠一些，至于底层的主板硬件，还需要更基础的BIOS系统来控制开机自检（&#34;Basic Input Output System&#34;的缩略词，直译是&#34;基本输入输出系统&#34;），你要用deepseek控制估计一小时蓝屏五六次，人的意识有时候比deepseek幻觉还严重，身体怎么可能给它全部权限。</p><p data-pid=\"AI9tqQmi\">你可以把大脑看成是个三权分立的系统，简单来说，你的身体压根不相信你那<b>受点刺激就要死要活</b>的<b>愚蠢自我意识</b>，一开始就通过<b>血脑屏障</b>的方式架空了意识的大多数控制权。</p><p data-pid=\"YuZeIu95\">但这是对你有好处的，血脑屏障出不去的东西也进不来，这是保护你不会随便吃点什么东西就像吃了菌子一样产生幻觉。</p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-15690f65310f59b14728d20e2ecd7416_1440w.jpg\" data-rawwidth=\"1024\" data-rawheight=\"1024\" data-size=\"normal\" data-original-token=\"v2-15690f65310f59b14728d20e2ecd7416\" data-default-watermark-src=\"https://pic3.zhimg.com/v2-5d58716d95b2b1af71cdebc200f782b4_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1024\" data-original=\"https://pica.zhimg.com/v2-15690f65310f59b14728d20e2ecd7416_r.jpg\"/><figcaption>不要啊，充满oi猫和灵感菇的世界</figcaption></figure><p data-pid=\"zEP8J68b\">但是也不意味着你对你的植物神经系统毫无办法。</p><p data-pid=\"4nI_6YMv\"><b>来吧，先从简单的开始，我今天先教你怎么控制自己的体温。</b></p><p data-pid=\"ler7BFrJ\">简直笑话，我的身体自己不能控制那这么多知识岂不是白学了。</p><p data-pid=\"yhyEenED\">我现在喝一杯菠萝泡椒冰沙，就能让我的胃部肌肉抽动一晚上。</p><p data-pid=\"HhPQHUik\">哦，你说的是那种让心跳从70/分钟改成30/分钟的精准？那确实没那么简单，只靠你自己坐在那里想是做不到的。</p><p data-pid=\"cc8T6w_h\">但是借助科技也不是不行。</p><p data-pid=\"K7pxVg2W\">好了，开玩笑的部分结束。要知道我们的意识为什么能控制一些地方，而不能控制另外一些地方。</p><h2>我们要先知道骨骼肌和平滑肌的区别。</h2><p data-pid=\"oasy0yhz\">骨骼肌可以靠动作电位驱动也可以靠激素，平滑肌主要依赖激素和植物神经的化学调控。</p><h3>但是问题来了，你操控的意识部分大多数时候只能放电，不能想放激素就放激素，所以你几乎无法操控平滑肌。</h3><p data-pid=\"y79DXCWs\">首先，哪些是骨骼肌，哪些是平滑肌？</p><p data-pid=\"zH1HZcl5\">人体有206块骨头，骨骼肌是附着于骨骼的横纹肌，受意识控制（<b>随意肌</b>），分布于头、颈、躯干和四肢，也就是你所说的手啊脚啊等等。</p><p data-pid=\"TVLJPBT8\">这是你可以靠意识操控的。</p><p data-pid=\"AOhlFwnK\">但是注意，多达<b>639-640块的随意肌，也不是每一块你都可以随便控制的。</b></p><p data-pid=\"Ow52DL-2\">比如说长期缺乏锻炼的人会丢失臀大肌的感觉和控制，这也是<b>嫪毐能转轮你不能的原因之一</b>……（我在说什么东西），具体内容可以看之前写的这篇：</p><a data-draft-node=\"block\" data-draft-type=\"link-card\" href=\"https://www.zhihu.com/question/7379411639/answer/67022978638\" data-image=\"https://pic3.zhimg.com/v2-1d2b4d80f4fd184a552e290a5a46f398_ipico.jpg\" data-image-width=\"1024\" data-image-height=\"1024\" class=\"internal\">练肌肉对普通人来说有哪些实实在在的好处？</a><p data-pid=\"0PQxTB-d\">平滑肌为无横纹的<b>非随意肌</b>，分布于内脏器官和血管壁，也就是胃壁肌、食管、胃肠壁肌层、膀胱逼尿肌、尿道括约肌等。</p><p data-pid=\"G1m9jrAK\">刚才说了，骨骼肌运动基本靠动作电位指挥，平滑肌靠激素和化学物质，那么问题来了，为什么意识大多数时候只能放电？</p><p data-pid=\"M7JtgAAh\">因为<b>血脑屏障</b>把<b>意识</b>卡得死死的。</p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-2bee701e4d9b67690b9d4c440f6b5568_1440w.jpg\" data-rawwidth=\"1155\" data-rawheight=\"541\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-2bee701e4d9b67690b9d4c440f6b5568\" data-default-watermark-src=\"https://pic2.zhimg.com/v2-49d0934f6511ffee2f0ec0204eb9871f_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1155\" data-original=\"https://pic3.zhimg.com/v2-2bee701e4d9b67690b9d4c440f6b5568_r.jpg\"/></figure><p data-pid=\"lhxVmLa_\">通常来说，意识系统包括你<b>能控制的蓝色部分</b>：前额叶皮质（前扣带回，内侧额叶皮层）和顶叶联合区（楔前叶，后扣带回，反向连接皮层），以及你一般<b>不能控制的</b>，类似于BIOS负责大脑开机唤醒以及注意力等潜意识部分的皮质下觉醒系统（<b>红色部分</b>）：中脑（脑干最上端部分）、丘脑、基底前脑、下丘脑等。*1</p><h3>血脑屏障是什么？</h3><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-0e88b8a260ec238b409d54e0d945f733_1440w.jpg\" data-rawwidth=\"1000\" data-rawheight=\"635\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-0e88b8a260ec238b409d54e0d945f733\" data-default-watermark-src=\"https://pica.zhimg.com/v2-06a49e91201b270d6357c6be618169d8_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1000\" data-original=\"https://pic4.zhimg.com/v2-0e88b8a260ec238b409d54e0d945f733_r.jpg\"/></figure><p data-pid=\"ImFRPgk-\"><b>血脑屏障由脑毛细血内皮细胞（紧密连接）、基膜、周细胞及星形胶质细胞终足共同构成，覆盖整个中枢神经系统（脑和脊髓）。</b></p><p data-pid=\"r4cqkI9q\"><b>你可以把它看成一个保护大脑的结界。</b></p><p data-pid=\"Se1s7MfI\">只能允许钠钾钙离子、氧气二氧化碳，必须氨基酸等维持机能运转的少部分物质通过。</p><p data-pid=\"Zn6P5NB6\">98%的小分子药物和99.9%的大分子药物（如抗体）无法穿透血脑屏障，所以脑部疾病的治疗是非常麻烦的。药企都在想法设法做一些能透过的药物以期解决帕金森等疾病。</p><p data-pid=\"fh3CfV41\">（但是万事无绝对，靶向<b>转铁蛋白受体的分子可以透过血脑屏障，</b>因此这几年学界和药企研究得比较多，有望开发成CNS递送载体，把原本不能透脑的大分子通过转铁蛋白受体一起带进去。）</p><p data-pid=\"L06Kh3sM\">98%的小分子药物不行，能进入血脑屏障的外源性化合物一般来说要满足分子量＜450，拓扑极性表面积小于90平方埃，ClogP在2-4之间，氢键给体（活泼氢）数量小于3等条件，当然这些条件并不绝对，总有个别例外。</p><p data-pid=\"jPfwFVc0\">常见的各种阿片类药物（以及各种致幻剂、毒品），酒精等，外源性能透脑的小分子很容易控制你的意识。</p><p data-pid=\"1ImqQBLo\">这是沾染上就几乎无法戒断的Meth（冰）：</p><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-99216332274e96378f9a72d4248d8a09_1440w.jpg\" data-rawwidth=\"364\" data-rawheight=\"265\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-99216332274e96378f9a72d4248d8a09\" data-default-watermark-src=\"https://pic1.zhimg.com/v2-786667d6061efcae8580976c8eee3f6a_b.jpg\" class=\"content_image\" width=\"364\"/></figure><p data-pid=\"unAYqo8V\">它的分子量小，且是一定脂溶性（CLogP越大脂溶性越好），tPSA才12平方埃，氢键给体1个，它可以穿过血脑屏障，是一种苯丙胺类兴奋剂，能够刺激中枢神经系统，导致神经递质失衡，特别是多巴胺、去甲肾上腺素和5-羟色胺的过度释放，这种现象被称为“单胺风暴”‌，所以溜冰会产生很强烈的情绪和幻觉。让你的意识根本无法控制任何事情。</p><p data-pid=\"GZrgFubG\">问题来了，常见的控制平滑肌的激素是没法通过血脑屏障的。</p><p data-pid=\"KHqjY3Gr\">比如抑制平滑肌收缩的去甲肾上腺素，你可以用它来抑制肠胃蠕动（也就是遇到天敌准备逃跑的时候分泌一点，让肠胃不要乱动，免得跑的时候难受。），这个玩意结构式很简单：</p><figure data-size=\"normal\"><img src=\"https://picx.zhimg.com/v2-0c888e9135df1b1bf1c1f8ebac5cc449_1440w.jpg\" data-rawwidth=\"335\" data-rawheight=\"280\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-0c888e9135df1b1bf1c1f8ebac5cc449\" data-default-watermark-src=\"https://picx.zhimg.com/v2-6d26b89b25fa2b1bdef116c0db3a39c1_b.jpg\" class=\"content_image\" width=\"335\"/></figure><p data-pid=\"PVBCK9bP\">它的氢键给体有5个，水溶性极大，tPSA接近90平方埃，无法透过血脑屏障。</p><p data-pid=\"JFxAG9n_\">没法进去也没法出来，产生意识的大脑皮层无法合成这个，合成了也没法运送出来控制身体。</p><p data-pid=\"tem7Have\">那为什么脑干里的蓝斑等位置就合成去甲肾上腺素，来控制内脏呢？</p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-1abd885dd9c5c9c26baf4a63d6a05d33_1440w.jpg\" data-rawwidth=\"526\" data-rawheight=\"403\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-1abd885dd9c5c9c26baf4a63d6a05d33\" data-default-watermark-src=\"https://pic4.zhimg.com/v2-dafea82b2b3b3c88c8a12be3cf27f8f3_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"526\" data-original=\"https://pic4.zhimg.com/v2-1abd885dd9c5c9c26baf4a63d6a05d33_r.jpg\"/></figure><p data-pid=\"eIdtkSBR\">刚才提到你的大脑里面有个类似BIOS的皮质下觉醒系统，这块区域啊，它属于血脑屏障的漏洞区域：室周器官（Circumventricular Organs）。</p><figure data-size=\"normal\"><img src=\"https://pica.zhimg.com/v2-263f3c6214000be7bb0e0e784d2ee08a_1440w.jpg\" data-rawwidth=\"864\" data-rawheight=\"627\" data-size=\"normal\" data-original-token=\"v2-263f3c6214000be7bb0e0e784d2ee08a\" data-default-watermark-src=\"https://pic3.zhimg.com/v2-bb624e8ec6b9cdc1d69884d1c939786e_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"864\" data-original=\"https://pica.zhimg.com/v2-263f3c6214000be7bb0e0e784d2ee08a_r.jpg\"/><figcaption>彩色部分</figcaption></figure><p data-pid=\"fFQmpz-B\">脑部功能很重要，所以需要血脑屏障保护，但是它又需要向身体发出很多指令，所以必须留出来一个对外的控制室。</p><p data-pid=\"AuqPdYpU\">室周器官就是这么一个对外指挥中心。</p><p data-pid=\"5HU6tsO7\"><span class=\"nolink\">中枢神经系统</span>通过室周器与外周血液联系，同时室周器也是参与神经内分泌功能的重要组成部分。室周器不完整的血脑屏障组织结构允许肽类和激素等分子在神经组织与血液之间进行交换，但仍可阻止毒素入脑。</p><p data-pid=\"Wy-upB46\">看到这里你应该明白为什么下丘脑可以分泌一些激素，并与垂体等组成<b>下丘脑-垂体系统，</b>参与一些重要的身体内调控了。</p><p data-pid=\"EbEYuyM1\">因为它是脑子里的法外之地啊。</p><p data-pid=\"7_mOP2Xf\">像生长激素（GH）、甲状腺激素（TSH）、促肾上腺皮质激素（ACTH）、促性腺激素（FSH/LH）、催乳素（PRL）等等重要的激素都由下丘脑-垂体系统直接参与。</p><p data-pid=\"c2EKpfN9\">这些都跟BIOS系统的逻辑一样，你直接在deepseek页面是无法操控的，要进入专门的系统才行。</p><p data-pid=\"ffozkhOp\">好了，我们现在再来比较一下你能控制的意识区域和漏洞区域：</p><figure data-size=\"normal\"><img src=\"https://pic4.zhimg.com/v2-7e73861984da865c44f00b9f5a7e13bd_1440w.jpg\" data-rawwidth=\"1090\" data-rawheight=\"1938\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-7e73861984da865c44f00b9f5a7e13bd\" data-default-watermark-src=\"https://pica.zhimg.com/v2-d9b69e9904ba5686a64fcd64bed0f442_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1090\" data-original=\"https://pic4.zhimg.com/v2-7e73861984da865c44f00b9f5a7e13bd_r.jpg\"/></figure><p data-pid=\"FGor1OSu\">你会惊喜的发现你的意识被完全架空了，无法分泌激素等物质透过血脑屏障来控制内脏。</p><h3>但是一如前面所说，这是对你有好处的。</h3><p data-pid=\"dfUnpSxe\">因为不这么做的话，其他小分子物质或者蛋白等都有可能穿过血脑屏障直达你的意识指挥中心，这样的后果人体是无法接受的。</p><p data-pid=\"Kgxg_b3O\">你可能随便吃点什么东西就不小心吃到了大脑的受体激动剂，开始产生幻觉，比如你正在树上，却以为自己在平地上，一脚踏空，你就game over了，正是为了避免这种极端不利的情况，进化才选择了三权分立的大脑系统。</p><p data-pid=\"6Y_fq0JT\">说到这里不得不再说点有趣的事情，动作电位是即时的，你想打字的时候抬手就打字了。但是激素调节是有滞后性的，比如甲状腺需要碘来合成甲状腺素，甲状腺素是个非常重要的身体机能调节激素，还可以利用T3和T4来打个时间差，平衡所有器官的反应时间：</p><blockquote data-pid=\"QjFJ_X3q\">分子上<b>多放几个碘，增加容错率</b>，防止随便摄入的一个含碘芳环身体就激动得不要不要的。</blockquote><figure data-size=\"normal\"><img src=\"https://pic2.zhimg.com/v2-e47ce3c3d35e8ffc2ca0180b2d5635a7_1440w.jpg\" data-rawwidth=\"875\" data-rawheight=\"593\" data-size=\"normal\" data-original-token=\"v2-e47ce3c3d35e8ffc2ca0180b2d5635a7\" class=\"origin_image zh-lightbox-thumb\" width=\"875\" data-original=\"https://pic2.zhimg.com/v2-e47ce3c3d35e8ffc2ca0180b2d5635a7_r.jpg\"/><figcaption>3GWS，Crystal Structure of T3-Bound Thyroid Hormone Receptor，受体空腔内部含多个硫原子，形成硫属元素和卤素的相互作用（软亲软，软硬酸碱理论）裹着绿球的紫球是碘原子，黄色折角是硫原子</figcaption></figure><blockquote data-pid=\"Y9Wmt22J\">对了！还要<b>防止与这个模块挨得近的器官把信号分子近水楼台全独吞了，导致近一点儿的器官过度激动，远一些的激动不了。那就设计冗余和局部掉碘的机制打个时间差，以平衡所有器官的反应时间。</b>设计3个碘的T3活性高、起效快，但持续时间短，掉一个碘就没活性；四个碘的T4的活性低、起效慢，但持续时间长，因为还可以脱一个碘变T3。 </blockquote><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-720fd637286c0b484a9fd6345201aafc_1440w.jpg\" data-rawwidth=\"2450\" data-rawheight=\"896\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-720fd637286c0b484a9fd6345201aafc\" class=\"origin_image zh-lightbox-thumb\" width=\"2450\" data-original=\"https://pic1.zhimg.com/v2-720fd637286c0b484a9fd6345201aafc_r.jpg\"/></figure><blockquote data-pid=\"gMkkogDc\">如前所述，还需要设计一个对碘代物独一无二的代谢通路，<b>它最好也是稀有的，用到微量元素的，这样不容易出系统级bug，满足正交性</b>。你看向剩下的Se元素，它因为一定的金属性和与S元素的相似性一开始并未被你选作信号分子的原材料，但作为掉碘的工具是个不二的选择。</blockquote><p data-pid=\"fmeK-qyz\">具体可以看看我老公之前写的这篇有趣的碘的科普：</p><a data-draft-node=\"block\" data-draft-type=\"link-card\" href=\"https://www.zhihu.com/question/430020050/answer/83518072253\" data-image=\"https://picx.zhimg.com/v2-7a1d5fc563163229557b0ce08b2694df_180x120.jpg\" data-image-width=\"884\" data-image-height=\"718\" class=\"internal\">既然碘在自然界中并不富裕，那么为什么甲状腺激素一定要用碘来合成？</a><p data-pid=\"UlJwoZKk\">哦，还有植物神经系统没说。</p><p data-pid=\"PJiJnGef\">刚才的图片可以看见， 你的意识只能控制大脑皮层的一部分（甚至你连这可怜的一部分都不是完全控制的，比如我叫你现在不要去想一头大象，你的脑子里马上就会出现大象的影子，这也是很多人失眠的原因）</p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-e797944afbaea1f04a949cc00f5c82e2_1440w.jpg\" data-rawwidth=\"362\" data-rawheight=\"512\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-e797944afbaea1f04a949cc00f5c82e2\" data-default-watermark-src=\"https://pic2.zhimg.com/v2-dc708989409600c34a597f0d747aecd9_b.jpg\" class=\"content_image\" width=\"362\"/></figure><p data-pid=\"wxZOT3kx\">剩下不能控制的大脑皮层、下丘脑、脑干和脊髓组成植物神经系统，用来控制呼吸、心跳、肠胃蠕动等等非常重要的基本生理功能。</p><p data-pid=\"Ehl_TYRP\">植物神经系统是在你意识不到的情况下自动运行的。</p><p data-pid=\"gssBTx9j\">说了这么多，我要兑现开头的承诺了。</p><h3>教你控制体温。</h3><p data-pid=\"EMac2yCg\">一般情况下你不能控制体温，是因为你的意识压根不知道体温是个什么东西，怎么去度量它。</p><p data-pid=\"rNRXeDBj\">但是现在借住<b>生物反馈技术，</b>我们可以直观地观察一些我们的生理指标。</p><figure data-size=\"normal\"><img src=\"https://pic3.zhimg.com/v2-6c2012c0cffeb341211385edc756d736_1440w.jpg\" data-rawwidth=\"462\" data-rawheight=\"336\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-6c2012c0cffeb341211385edc756d736\" data-default-watermark-src=\"https://pic3.zhimg.com/v2-25dc43a44479d72a29a3bc4d802893ae_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"462\" data-original=\"https://pic3.zhimg.com/v2-6c2012c0cffeb341211385edc756d736_r.jpg\"/></figure><p data-pid=\"iPodq-5_\">比如把你的手指跟体温监测仪器相连接，你可以直接看到你的体表温度。</p><p data-pid=\"zEXUZ8vn\"><b>虽然核心体温</b>（如直肠、食道温度）受下丘脑严格调控，意识直接干预难度大。</p><p data-pid=\"i1SI5xzg\">但是<b>体表温度</b>（如四肢、面部）可通过血流再分配部分调节，也就是说，这部分你是有一定权限控制的。</p><p data-pid=\"aoG2QSyv\">受试者可以通过冥想、呼吸调控或心理暗示尝试影响信号变化。</p><p data-pid=\"TEc_MzKT\">通过放松训练激活副交感神经，降低代谢率，间接影响体温（如降低0.2~0.5℃）。</p><p data-pid=\"zAslTHvU\">注意力惊人的可以靠全神贯注引发特定部位血管舒张/收缩（如手部温度升高1~3℃）。*2</p><p data-pid=\"SOLCTpYi\">这个体温控制实验其实不是让你用来玩的，而是有实际用处的。</p><p data-pid=\"gg4J1Vyq\">有些焦虑症患者通过训练提升手部温度，缓解交感神经过度激活，能有效缓解焦虑症。</p><p data-pid=\"yjJ5nFpQ\">是不是很神奇！</p><p data-pid=\"zlEM1WtR\">但是你想绕开下丘脑分泌激素则不太可能，我们先从一些小分子入手倒是方便。</p><p data-pid=\"AqMuDOuV\">记住前面一个很重要的点，能进去的分子才能出来。</p><p data-pid=\"UTW09Fb5\">五羟色胺能进去，这是一种能让人快乐的小分子，现在请你说“感谢大脑，来点五羟色胺”，你就会真的笑出来诶~~</p><figure data-size=\"normal\"><img src=\"https://pic1.zhimg.com/v2-116f8d53a0e3eedb7770d1d885216776_1440w.jpg\" data-rawwidth=\"1024\" data-rawheight=\"1024\" data-size=\"normal\" data-caption=\"\" data-original-token=\"v2-116f8d53a0e3eedb7770d1d885216776\" data-default-watermark-src=\"https://pic2.zhimg.com/v2-93ff8d03851939ed7727cb09c0b9a6d5_b.jpg\" class=\"origin_image zh-lightbox-thumb\" width=\"1024\" data-original=\"https://pic1.zhimg.com/v2-116f8d53a0e3eedb7770d1d885216776_r.jpg\"/></figure><p data-pid=\"1pLyX5nE\">（当然五羟色胺这个是我逗你开心的小把戏，请你不要当真。）</p><p data-pid=\"gxXGDAul\">以上~</p><p data-pid=\"7MThUIh1\">引用文献:</p><p data-pid=\"-y4YMWRh\">1Epilepsy and driving: Potential impact of transient impaired consciousness</p><p data-pid=\"abMeeVlG\">2Biofeedback:An overview in the contextof heart-brain medicine</p>",
        "relationship": {
          "is_thanked": false,
          "is_nothelp": false,
          "voting": 0
        },
        "is_labeled": true,
        "visited_count": 115655,
        "thumbnails": [
          "https://picx.zhimg.com/50/v2-5371d25c7847358cf9f4eac1d662fca0_720w.jpg?source=b6762063",
          "https://pic1.zhimg.com/50/v2-b634ed1849839077db7258d546579ef3_720w.jpg?source=b6762063",
          "https://pica.zhimg.com/50/v2-48caa6ebc8000c9af7d72650b34e464c_720w.jpg?source=b6762063",
          "https://pic1.zhimg.com/50/v2-f9a1b2557c4df8bc6bf485f0f669ba80_720w.jpg?source=b6762063"
        ],
        "favorite_count": 1983,
        "answer_type": "normal",
        "is_navigator": false,
        "navigator_vote": false,
        "vote_next_step": "vote"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1891788755498689011}",
      "attached_info": "CtQKCLrX0La6yJHvlgEQBBoJNzIxMzY4Njk3IPOWwr8GKJcQMHhA5gRKKAodVFNfU09VUkNFX05FQVJMSU5FX0NPTlRFTlRfVjISATAYACAAOgBKPwoYVFNfU09VUkNFX0FVVEhPUl9HQ0ZfSFBWEh1kb2NfdHlwZTogTWVtYmVyCmlkOiAxNzk2MTI1ChgAIAA6AFoJMTEzNzk0NTIzYiBmMDc1YmIwMGMyOWY0YzMzNjI1YTU5YmIzNTFhZTBhN3ITMTg5MTc4ODc1NTQ5ODY4OTAxMYoBCzE0MDk1MDQ5NTk4qgEJcmVjb21tZW5kwgEgMTgwNTA1YmI0NWUxMjg2MGYyY2ZjZjVkOTYyMzQxZDbyAQoIDBIGTm9ybWFs8gEoCAoSJGVhYjdlZjhmLTZjN2ItNDg3NC05MWFkLTA2ZTdlMmE3ZTQyY/IBBwgLEgMxMDOCAgCIAuXSzvmMM5ICIDE4MDUwNWJiNDVlMTI4NjBmMmNmY2Y1ZDk2MjM0MWQ2mgIAygIWU2hvckludGVyZXN0V2VpZ2h0UnVsZcoCFVVzZXJMY25FeGl0V2VpZ2h0UnVsZcoCFENvbnRlbnRBZ2VXZWlnaHRSdWxl2gIdVFNfU09VUkNFX05FQVJMSU5FX0NPTlRFTlRfVjLoAgT6AgtOT1JNQUxfRkxPV4oDIDU3YTcxOTE2Y2NhNjRkNDE5ZGY2ZjVlMDFjZmJmNzI3mgMNCgJ2MhAAGgVvdGhlcqgDx4cH2AMA+gOCBRIMVU5LTk9XTl9NT0RFIAAqDU5PX0lNQUdFX01PREU6LQgCEIAIGIAIIiN2Mi0xNTY5MGY2NTMxMGY1OWIxNDcyOGQyMGUyZWNkNzQxNjotCAQQgwkYnQQiI3YyLTJiZWU3MDFlNGQ5YjY3NjkwYjlkNGM0NDBmNmI1NTY4Oi0IAxDoBxj7BCIjdjItMGU4OGI4YTI2MGVjMjM4YjQwOWQ1NGUwZDk0NWY3MzM6LQgCEOwCGIkCIiN2Mi05OTIxNjMzMjI3NGU5NjM3OGY5YTcyZDQyNDhkOGEwOTotCAIQzwIYmAIiI3YyLTBjODg4ZTkxMzVkZjFiMWJmMWMxZjhlYmFjNWNjNDQ5Oi0IAhCOBBiTAyIjdjItMWFiZDg4NWRkOWM1YzljMjZiYWY0YTYzZDZhMDVkMzM6LQgCEOAGGPMEIiN2Mi0yNjNmM2M2MjE0MDAwYmU3YmIwZTBlNzg0ZDJlZTA4YTotCAIQwggYkg8iI3YyLTdlNzM4NjE5ODRkYTg2NWM0NGYwMGI5ZjVhN2UxM2JkOi0IBBDrBhjRBCIjdjItZTQ3Y2UzYzNkMzVlOGZmYzJjYTAxODBiMmQ1NjM1YTc6LQgCEJITGIAHIiN2Mi03MjBmZDYzNzI4NmMwYjQ4NGE5ZmQ2MzQ1MjAxYWFmYzotCAIQ6gIYgAQiI3YyLWU3OTc5NDRhZmJhZWExZjA0YTk0OWNjMDBmNWM4MmUyOi0IAxDOAxjQAiIjdjItNmMyMDEyYzBjZmZlYjM0MTIxMTM4NWVkYzc1NmQ3MzY6LQgEEIAIGIAIIiN2Mi0xMTZmOGQ1M2EwZTNlZWRiNzc3MGQxZDg4NTIxNjc3NoAEAIgEAJIEBk5vcm1hbJoEATSgBACoBACwBAC6BAZtYW51YWzCBAMxNjDIBADSBA/mjqjojZDlt7Lmm7TmlrDYBADwBAD5BAAAAMDFM6E/gQUAAAAAAAAAAIkF/at0vAxU2T+SBQCaBQNkZnSiBQNkZnSyBQExuQUAAAAAAAAAANAFAOAFAOgFAPAFZ5AGAKAG7ASoBgCSAi4KCTcyMTM2ODY5NxITMTg5MTc4ODc1NTQ5ODY4OTAxMRgEIgpJTUFHRV9URVhU",
      "action_card": false
    },
    {
      "id": "615_1755822926.114",
      "type": "feed",
      "offset": 615,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1755822926,
      "updated_time": 1755822926,
      "target": {
        "id": "1941882352860107532",
        "type": "answer",
        "url": "https://api.zhihu.com/answers/1941882352860107532",
        "author": {
          "id": "15e71cd124ddc3c5727c981cd850a6db",
          "url": "https://api.zhihu.com/people/15e71cd124ddc3c5727c981cd850a6db",
          "user_type": "people",
          "url_token": "li-li-12-85",
          "name": "洛阳小散户",
          "headline": "",
          "avatar_url": "https://picx.zhimg.com/50/v2-03c324dd30eda7ac3edfbf4ea9f672a5_l.jpg?source=b6762063",
          "is_org": false,
          "gender": 1,
          "followers_count": 122991,
          "is_following": false,
          "is_followed": false
        },
        "created_time": 1755760831,
        "updated_time": 1755760831,
        "voteup_count": 45,
        "thanks_count": 0,
        "comment_count": 44,
        "is_copyable": false,
        "question": {
          "id": "1929306222936449920",
          "type": "question",
          "url": "https://api.zhihu.com/questions/1929306222936449920",
          "author": {
            "id": "3888fe57b04dfa0938a81ad5c39a393d",
            "url": "https://api.zhihu.com/people/3888fe57b04dfa0938a81ad5c39a393d",
            "user_type": "people",
            "url_token": "xin-xin-14-17-87",
            "name": "鑫鑫",
            "headline": "",
            "avatar_url": "https://picx.zhimg.com/50/v2-00360b1bc8784febc4152ff4c8ff6c4b_l.jpg?source=b6762063",
            "is_org": false,
            "gender": -1,
            "followers_count": 3,
            "is_following": false,
            "is_followed": false
          },
          "title": "想定投纳斯达克实现财务自由，另一半不同意怎么办?",
          "created": 1752762448,
          "answer_count": 0,
          "follower_count": 0,
          "comment_count": 10,
          "bound_topic_ids": [
            15755,
            23071
          ],
          "is_following": false,
          "excerpt": "",
          "relationship": {
            "is_author": false
          },
          "detail": "",
          "question_type": "normal"
        },
        "excerpt": "曾经有个哥们和我聊天，家里挺有钱的，他父母有几百万，他也有小几百万，他老婆也还可以，存款大几十万。 然后，他非常不理解的是，他老婆非逼他买一套大房子，买了大房子，他的两三百万存款几乎耗尽，还要有一点贷款。 他和老婆说的是，买高股息股票，或者纳斯达克，每年光股息都快财务自由了，但是就是不同意。 他非常费解，你们说这是为啥？",
        "excerpt_new": "曾经有个哥们和我聊天，家里挺有钱的，他父母有几百万，他也有小几百万，他老婆也还可以，存款大几十万。 然后，他非常不理解的是，他老婆非逼他买一套大房子，买了大房子，他的两三百万存款几乎耗尽，还要有一点贷款。 他和老婆说的是，买高股息股票，或者纳斯达克，每年光股息都快财务自由了，但是就是不同意。 他非常费解，你们说这是为啥？",
        "preview_type": "default",
        "preview_text": "",
        "reshipment_settings": "disallowed",
        "content": "<p data-pid=\"MsO0E3Sg\">曾经有个哥们和我聊天，家里挺有钱的，他父母有几百万，他也有小几百万，他老婆也还可以，存款大几十万。</p><p data-pid=\"bzEYyJ7y\">然后，他非常不理解的是，他老婆非逼他买一套大房子，买了大房子，他的两三百万存款几乎耗尽，还要有一点贷款。</p><p data-pid=\"PYUBGNf6\">他和老婆说的是，买高股息股票，或者纳斯达克，每年光股息都快财务自由了，但是就是不同意。</p><p data-pid=\"aBmHNwR2\">他非常费解，你们说这是为啥？</p>",
        "relationship": {
          "is_thanked": false,
          "is_nothelp": false,
          "voting": 0
        },
        "is_labeled": false,
        "visited_count": 6617,
        "favorite_count": 10,
        "answer_type": "normal",
        "is_navigator": false,
        "navigator_vote": false,
        "vote_next_step": "vote"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 1941882352860107532}",
      "attached_info": "CqcFCLrX0La6yJHvlgEQBBoJNzQzMjcyMjgzIL+Rm8UGKC0wLEDnBEorChZUU19TT1VSQ0VfRkVFRFJFX01TX1YyEgEwGAAgADoKeyJyYXciOiIifVoJMTE1ODQ1MjgyYiBmMDc1YmIwMGMyOWY0YzMzNjI1YTU5YmIzNTFhZTBhN3ITMTk0MTg4MjM1Mjg2MDEwNzUzMooBEzE5MjkzMDYyMjI5MzY0NDk5MjCqAQlyZWNvbW1lbmTCASAxNWU3MWNkMTI0ZGRjM2M1NzI3Yzk4MWNkODUwYTZkYvIBCggMEgZOb3JtYWzyASgIChIkYTAwM2ZmN2ItZmNkZS00OWE3LWE3NGUtNjFjZDBjZGNhZjE28gEHCAsSAzEwM4ICAIgC5dLO+YwzkgIgMTVlNzFjZDEyNGRkYzNjNTcyN2M5ODFjZDg1MGE2ZGKaAgDKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygIVVXNlckxjbkV4aXRXZWlnaHRSdWxl2gIWVFNfU09VUkNFX0ZFRURSRV9NU19WMugCAvoCC05PUk1BTF9GTE9XigMgNTdhNzE5MTZjY2E2NGQ0MTlkZjZmNWUwMWNmYmY3MjeaAw0KAnYyEAAaBW90aGVyqAPZM9gDAOoDDmZlZWRyZV9tc19nYXRl+gMfEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERYAEAIgEAJIEBk5vcm1hbJoEATKgBACoBACwBAC6BAJhacIEAzQwMMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAgLFIqj+BBQAAAAAAAAAAiQX9q3S8DFTZP5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AVnkAYAoAbtBKgGAJICLgoJNzQzMjcyMjgzEhMxOTQxODgyMzUyODYwMTA3NTMyGAQiCklNQUdFX1RFWFQ=",
      "action_card": false
    },
    {
      "id": "616_1755822926.687",
      "type": "feed",
      "offset": 616,
      "verb": "TOPIC_ACKNOWLEDGED_ARTICLE",
      "created_time": 1755822926,
      "updated_time": 1755822926,
      "target": {
        "id": "1941515527517368861",
        "type": "article",
        "url": "https://api.zhihu.com/articles/1941515527517368861",
        "author": {
          "id": "a747380416832bd8ec69c42e13591f9b",
          "url": "https://api.zhihu.com/people/a747380416832bd8ec69c42e13591f9b",
          "user_type": "people",
          "url_token": "yan-jing-123-91",
          "name": "LLM大语言模型",
          "headline": "",
          "avatar_url": "https://picx.zhimg.com/50/v2-cb16e54c3687007e5d127062cbdc30d8_l.jpg?source=b6762063",
          "is_org": false,
          "gender": 1,
          "followers_count": 122,
          "is_following": false,
          "is_followed": false
        },
        "title": "基于 Docker 的 LLaMA-Factory 全流程部署指南",
        "comment_permission": "all",
        "created": 1755678214,
        "updated": 1755678214,
        "voteup_count": 3,
        "voting": 0,
        "comment_count": 0,
        "linkbox": {
          "category": "",
          "pic": "",
          "title": "",
          "url": ""
        },
        "excerpt": "LLaMA-Factory 是一个强大且高效的大语言模型（LLM）微调框架，支持多种微调方法（如 LoRA、QLoRA）、完整的训练流程（SFT、RM、PPO、DPO）以及丰富的模型和数据集支持，能帮助你在消费级显卡上高效微调大型语言模型。 这份指南将带你从零开始，完成基于 Docker 的环境搭建、数据准备、模型训练、推理测试到模型导出的全过程。 全套的 AI 大模型学习资源已经整理打包，有需要的可以 点击下方知乎小卡片前往免费获取↓↓↓↓ [文章: 2025大模型全套入门学习教程：免费分享AI大模型入门学习教程]",
        "excerpt_new": "LLaMA-Factory 是一个强大且高效的大语言模型（LLM）微调框架，支持多种微调方法（如 LoRA、QLoRA）、完整的训练流程（SFT、RM、PPO、DPO）以及丰富的模型和数据集支持，能帮助你在消费级显卡上高效微调大型语言模型。 这份指南将带你从零开始，完成基于 Docker 的环境搭建、数据准备、模型训练、推理测试到模型导出的全过程。 全套的 AI 大模型学习资源已经整理打包，有需要的可以 点击下方知乎小卡片前往免费获取↓↓↓↓ [文章: 2025大模型全套入门学习教程：免费分享AI大模型入门学习教程]",
        "preview_type": "default",
        "preview_text": "",
        "content": "<p data-pid=\"ueIu2okT\">LLaMA-Factory 是一个强大且高效的大语言模型（LLM）微调框架，支持多种微调方法（如 LoRA、QLoRA）、完整的训练流程（SFT、RM、PPO、DPO）以及丰富的模型和数据集支持，能帮助你在消费级显卡上高效微调大型语言模型。</p><p data-pid=\"qHkWYueI\">这份指南将带你从零开始，完成基于 Docker 的环境搭建、数据准备、模型训练、推理测试到模型导出的全过程。</p><p data-pid=\"B6ss49XS\">全套的 AI 大模型学习资源已经整理打包，有需要的可以<b>点击下方知乎小卡片前往免费获取↓</b>↓↓↓</p><a href=\"https://zhuanlan.zhihu.com/p/1938650842937942448\" data-draft-node=\"block\" data-draft-type=\"link-card\" class=\"internal\">2025大模型全套入门学习教程：免费分享AI大模型入门学习教程</a><p data-pid=\"rypz3TRW\"><b>  基于 Docker 的 LLaMA-Factory 全流程部署指南</b></p><p data-pid=\"fsQbwn8n\"><b>1. 环境准备与前置检查</b></p><p data-pid=\"Cl9hWuO5\">在开始部署之前，需要确保你的系统环境满足基本要求，并正确安装所需的软件依赖。</p><p data-pid=\"WRsaNm_k\"><b>1.1 硬件需求建议</b></p><p data-pid=\"otJLeZ3p\">以下是对硬件配置的基本建议，实际需求会根据模型规模和数据集大小有所变化：</p><table data-draft-node=\"block\" data-draft-type=\"table\" data-size=\"normal\" data-row-style=\"normal\"><tbody><tr><td>资源类型</td><td>最低配置要求</td><td>推荐配置</td><td>大型模型训练建议</td></tr><tr><td>CPU</td><td>4 核心</td><td>8 核心或以上</td><td>16 核心或以上</td></tr><tr><td>内存</td><td>16 GB</td><td>32 GB</td><td>64 GB 或以上</td></tr><tr><td>GPU</td><td>NVIDIA GPU (8GB VRAM)</td><td>NVIDIA RTX 3090/4090 (24GB VRAM)</td><td>NVIDIA A100 (80GB VRAM)</td></tr><tr><td>存储空间</td><td>50 GB (用于系统和依赖)</td><td>100 GB (含基础模型)</td><td>500 GB 或以上 (模型缓存)</td></tr></tbody></table><p data-pid=\"zhgz2GH5\"><b>1.2 软件依赖安装</b></p><ol><li data-pid=\"HTvDsnOk\"><b>安装 Docker</b>：访问 <u><a href=\"https://link.zhihu.com/?target=https%3A//docs.docker.com/engine/install/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Docker 官方网站</a></u> 获取适合你操作系统（Windows/Linux/macOS）的安装指南。</li></ol><ul><li data-pid=\"PynYAtcW\"><b>Windows 用户注意</b>：建议安装时<b>更改默认安装路径</b>到非系统盘（如 D 盘），避免后期占用过多 C 盘空间。可以通过命令行指定安装路径：</li></ul><div class=\"highlight\"><pre><code class=\"language-text\">powershell\n\n&#34;Docker Desktop Installer.exe&#34; install --installation-dir=D:\\Docker</code></pre></div><ul><ul><li data-pid=\"ye40OqwY\">安装完成后，启动 Docker 服务。</li></ul></ul><ol><li data-pid=\"iMKMoBA7\"><b>安装 NVIDIA Docker 支持</b>（仅限 NVIDIA GPU 用户）：</li></ol><ul><li data-pid=\"PQ6duBJC\">确保已安装最新的 NVIDIA 显卡驱动。</li><li data-pid=\"RwNM5QzR\">参照 <u><a href=\"https://link.zhihu.com/?target=https%3A//docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">NVIDIA Container Toolkit 安装指南</a></u> 安装和配置 NVIDIA Container Toolkit，以便 Docker 容器能够访问 GPU。</li><li data-pid=\"QnZwfgih\">安装后，在终端执行 <b>docker run --rm --gpus all nvidia/cuda:11.6.2-base-ubuntu20.04 nvidia-smi</b> 测试 GPU 是否可在 Docker 中正常识别。如果成功，你将看到显卡信息输出。</li></ul><li data-pid=\"P3nggen9\"><b>（可选）安装 Docker Compose</b>：新版本的 Docker Desktop 通常已包含 Compose。如果没有，请参照官方文档安装。</li><p data-pid=\"DADf5LEc\"><b>2. LLaMA-Factory 项目获取与 Docker 环境配置</b></p><p data-pid=\"J_5GPtw6\"><b>2.1 获取 LLaMA-Factory 源代码</b></p><p data-pid=\"-m2YF66U\">使用 <b>git</b> 命令将 LLaMA-Factory 项目克隆到本地：</p><div class=\"highlight\"><pre><code class=\"language-text\"># 克隆项目代码（使用 --depth 1 只克隆最新提交，节省时间和空间）\n\ngit clone --depth 1 https://github.com/hiyouga/LLaMA-Factory.git\n\n# 进入项目目录\n\ncd LLaMA-Factory</code></pre></div><p data-pid=\"a6cG_5JO\"><b>2.2 Docker 部署方式选择</b></p><p data-pid=\"Th9v8C3f\">LLaMA-Factory 的 Docker 目录 (<b>docker/</b>) 下通常提供了针对不同硬件环境的配置1：</p><ul><li data-pid=\"1p7_5Qq9\"><b>docker-cuda/</b>: <b>适用于 NVIDIA CUDA 用户</b>（最常见）。</li><li data-pid=\"A5vVahVM\"><b>docker-npu/</b>: 适用于华为 Ascend NPU 用户。</li><li data-pid=\"5otyGoFb\"><b>docker-rocm/</b>: 适用于 AMD ROCm 用户。</li></ul><p data-pid=\"jZ07xqp7\">本指南以最常用的 <b>CUDA</b> 为例。</p><p data-pid=\"DnckIz2s\"><b>2.2.1 使用 Docker Compose（推荐）</b></p><p data-pid=\"Y9qMo8X1\">Docker Compose 能简化容器的构建和运行过程。</p><ol><li data-pid=\"vROkcHGu\"><b>进入 CUDA 目录</b>：</li></ol><div class=\"highlight\"><pre><code class=\"language-text\">cd docker/docker-cuda/</code></pre></div><ol><li data-pid=\"QLdY4wM2\"><b>启动容器</b>（后台运行）：</li></ol><div class=\"highlight\"><pre><code class=\"language-text\">docker compose up -d</code></pre></div><p data-pid=\"SEYIVDdX\">此命令会读取同目录下的 <b>docker-compose.yml</b> 文件，构建或拉取镜像，并在后台启动容器。</p><ol><li data-pid=\"oqrlLiRX\"><b>进入容器内部</b>：</li></ol><div class=\"highlight\"><pre><code class=\"language-text\">docker compose exec llamafactory bash\n# 或者使用\n# docker exec -it llamafactory /bin/bash</code></pre></div><p data-pid=\"KedEOFU_\">执行后，你将进入一个名为 <b>llamafactory</b> 的容器内部，并可以开始在容器内操作。</p><p data-pid=\"VyyR9xk5\"><b>2.2.2 手动构建 Docker 镜像（可选）</b></p><p data-pid=\"-1P3SQEX\">如果你需要更多自定义配置，可以手动构建镜像。</p><ol><li data-pid=\"jG-rA6kQ\"><b>编写 Dockerfile</b>：你可以参考或修改 <b>docker/docker-cuda/Dockerfile</b>。</li><li data-pid=\"1OXkND5c\"><b>构建镜像</b>：</li></ol><div class=\"highlight\"><pre><code class=\"language-text\"># 在 Dockerfile 所在目录执行\ndocker build -t llamafactory-cuda .</code></pre></div><ol><li data-pid=\"OP9dShgV\"><b>运行容器并进入</b>：</li></ol><div class=\"highlight\"><pre><code class=\"language-text\">docker run -it --gpus all -v /path/to/your/data:/mnt/data llamafactory-cuda bash</code></pre></div><ul><ul><li data-pid=\"SrA6hh_G\"><b>--gpus all</b>: 将主机所有 GPU 分配给容器。</li><li data-pid=\"68igxKzC\"><b>-v /path/to/your/data:/mnt/data</b>: 将主机上的数据目录挂载到容器内的 <b>/mnt/data</b>，方便容器内访问你的数据集和模型。</li></ul></ul><p data-pid=\"k8Ac-pdT\"><b>2.3 解决常见 Docker 部署问题</b></p><ul><li data-pid=\"22NJj-QV\"><b>镜像拉取或构建错误</b>：如果遇到 <b>ERROR load metadata for <a href=\"https://link.zhihu.com/?target=http%3A//docker.io/hiyouga/pytorch%3A..\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">http://</span><span class=\"visible\">docker.io/hiyouga/pytor</span><span class=\"invisible\">ch:..</span><span class=\"ellipsis\"></span></a>.</b> 类似的错误，可以尝试手动拉取基础镜像：</li></ul><div class=\"highlight\"><pre><code class=\"language-text\">docker pull hiyouga/pytorch:th2.6.0-cu124-flashattn2.7.4-cxx11abi0-devel</code></pre></div><p data-pid=\"oxXHIGFj\">然后再重新执行 <b>docker compose up -d</b>。</p><ul><li data-pid=\"kcWoDZqO\"><b>内存分配错误 (cannot allocate memory in static TLS block)</b>：如果在容器内运行某些命令时出现此错误，可以尝试在容器内的 <b>~/.bashrc</b> 文件末尾添加以下环境变量并 <b>source ~/.bashrc</b>：</li></ul><div class=\"highlight\"><pre><code class=\"language-text\">export LD_PRELOAD=/usr/local/python3.10.13/lib/python3.10/site-packages/sklearn/utils/../../scikit_learn.libs/libgomp-d22c30c5.so.1.0.0</code></pre></div><ul><li data-pid=\"053MlcWq\"><b>共享内存不足</b>：在运行训练或 WebUI 时，如果提示共享内存不足，可以在 <b>docker run</b> 命令中添加 <b>--shm-size</b> 参数，例如 <b>--shm-size 16g</b> 或 <b>--shm-size 32g</b>。</li></ul><p data-pid=\"klJ624W7\"><b>3. 数据准备与格式规范</b></p><p data-pid=\"zICyHAqG\">模型微调的效果很大程度上依赖于数据质量。LLaMA-Factory 主要支持两种数据格式5。</p><p data-pid=\"dDt1ydN6\"><b>3.1 数据格式详解</b></p><p data-pid=\"T_PEX2S2\"><b>3.1.1 Alpaca 格式（单轮对话）</b></p><p data-pid=\"XNC6Gfzf\">适用于指令微调（Instruction Tuning），结构简单，每条数据包含一个指令-输入-输出的三元组5。</p><ul><li data-pid=\"o-obMJTI\"><b>示例 (JSON Line格式，.jsonl)</b>：</li></ul><div class=\"highlight\"><pre><code class=\"language-text\">{&#34;instruction&#34;: &#34;写一个Python函数，实现斐波那契数列。&#34;, &#34;input&#34;: &#34;&#34;, &#34;output&#34;: &#34;def fibonacci(n):\\n if n &lt;= 1:\\n return n\\n return fibonacci(n-1) + fibonacci(n-2)&#34;}\n{&#34;instruction&#34;: &#34;将以下英文翻译成中文&#34;, &#34;input&#34;: &#34;Hello, world!&#34;, &#34;output&#34;: &#34;你好，世界！&#34;}</code></pre></div><ul><li data-pid=\"jEgBR1zQ\"><b>字段说明</b>：</li><ul><li data-pid=\"QPb11H34\"><b>instruction</b>: 希望模型执行的任务描述。</li><li data-pid=\"m6kKuiER\"><b>input</b> (可选): 任务所需的额外上下文或输入。</li><li data-pid=\"kUIXj4Gz\"><b>output</b>: 期望模型给出的回答。</li></ul></ul><p data-pid=\"gh4_j-dU\"><b>3.1.2 ShareGPT 格式（多轮对话）</b></p><p data-pid=\"mlS49xef\">模拟真实对话场景，适合训练聊天助手，结构为一个包含多轮对话的数组。</p><ul><li data-pid=\"LYv6CjA1\"><b>示例 (JSON 格式，.json)</b>：</li></ul><div class=\"highlight\"><pre><code class=\"language-text\">{\n  &#34;conversations&#34;: [\n    {\n      &#34;role&#34;: &#34;user&#34;,\n      &#34;content&#34;: &#34;你好，可以给我写一段Python代码打印1到10吗？&#34;\n    },\n    {\n      &#34;role&#34;: &#34;assistant&#34;,\n      &#34;content&#34;: &#34;当然可以：\\n\\n```python\\nfor i in range(1, 11):\\n print(i)\\n```&#34;\n    },\n    {\n      &#34;role&#34;: &#34;user&#34;,\n      &#34;content&#34;: &#34;那你能把它改成倒序输出吗？&#34;\n    },\n    {\n      &#34;role&#34;: &#34;assistant&#34;,\n      &#34;content&#34;: &#34;当然，这是倒序输出的版本：\\n\\n```python\\nfor i in range(10, 0, -1):\\n print(i)\\n```&#34;\n    }\n  ]\n}</code></pre></div><ul><li data-pid=\"r2Tme5wX\"><b>字段说明</b>：</li><ul><li data-pid=\"MPsMwqE6\"><b>conversations</b>: 一个字典列表。</li><li data-pid=\"SsSYaxqR\"><b>role</b>: 对话角色，通常是 <b>&#34;user&#34;</b> 或 <b>&#34;assistant&#34;</b>。</li><li data-pid=\"3B3uBSYB\"><b>content</b>: 该角色的对话内容。</li></ul></ul><p data-pid=\"fpMLV8A-\"><b>3.2 挂载数据并添加到项目</b></p><ol><li data-pid=\"G-IMH2tn\"><b>挂载数据卷</b>：在启动 Docker 容器时，使用 <b>-v</b> 参数将存放数据集的本地目录挂载到容器内。</li></ol><div class=\"highlight\"><pre><code class=\"language-text\"># 在 docker run 命令中添加，例如\ndocker run -it --gpus all -v /path/on/host/data:/app/data llamafactory-cuda bash\n# 或者在 docker-compose.yml 文件中配置 volumes\n# volumes:\n#   - /path/on/host/data:/app/data\n#   - /path/on/host/output:/app/output\n#   - /path/on/host/hf_cache:/root/.cache/huggingface</code></pre></div><ol><li data-pid=\"YzDPHhcs\"><b>添加数据集信息</b>：</li></ol><ul><li data-pid=\"4saAPku7\">将你的数据文件（如 <b>my_data.json</b>）放入已挂载的容器数据目录（如 <b>/app/data</b>）。</li><li data-pid=\"mdx6xqIT\"><b>关键步骤</b>：你还需要在容器内 LLaMA-Factory 项目的 <b>data</b> 目录下的 <b>dataset_info.json</b> 配置文件中，为你新添加的数据集添加一条记录，LLaMA-Factory 才能识别它。</li><li data-pid=\"apkHYM3V\">例如，添加：</li></ul><div class=\"highlight\"><pre><code class=\"language-text\">&#34;my_custom_dataset&#34;: {\n  &#34;file_name&#34;: &#34;my_data.json&#34;,\n  &#34;format&#34;: &#34;sharegpt&#34; // 或者 &#34;alpaca&#34;\n}</code></pre></div><p data-pid=\"8MeuZ_jA\"><b>4. 模型训练与微调</b></p><p data-pid=\"mEVUgMUo\">进入 Docker 容器后，你就可以开始使用 LLaMA-Factory 进行模型微调了。</p><p data-pid=\"SYfSqCao\"><b>4.1 训练方式</b></p><p data-pid=\"6CJIb383\"><b>4.1.1 使用 Web UI（可视化界面）</b></p><p data-pid=\"UxQWhP5N\">LLaMA-Factory 提供了友好的 Web 界面，方便进行参数配置和训练监控。</p><ol><li data-pid=\"29yJrXFR\"><b>启动 Web UI</b>：</li></ol><div class=\"highlight\"><pre><code class=\"language-text\"># 在容器内执行\nllamafactory-cli webui\n# 或者设置共享和CUDA设备\n# CUDA_VISIBLE_DEVICES=0 GRADIO_SHARE=1 llamafactory-cli webui</code></pre></div><ol><li data-pid=\"eV481i-E\">根据提示，在物理机的浏览器中打开 <b>http://localhost:7860</b>（如果端口映射正确）。</li><li data-pid=\"hA0gLbnQ\">在 Web 界面中：</li></ol><ul><li data-pid=\"vbQ0Mkrf\">选择 <b>Train</b> 标签页。</li><li data-pid=\"88VLnjgu\">在 <b>Model Name</b> 中填写或选择模型路径（如 <b>meta-llama/Meta-Llama-3-8B</b> 或 <b>/app/models/llama-3-8b</b>）。</li><li data-pid=\"uJS7-AIo\">在 <b>Dataset</b> 中选择你在 <b>dataset_info.json</b> 中配置的数据集名称。</li><li data-pid=\"XS10ma7P\">选择 <b>Fine-tuning Method</b> (如 LoRA, QLoRA)。</li><li data-pid=\"OziEYueX\">调整其他超参数（学习率、批次大小、训练轮数等）。</li><li data-pid=\"sfHvVlcn\">点击 <b>Start Training</b> 开始训练。</li></ul><p data-pid=\"UzV565Rz\"><b>4.1.2 使用命令行（CLI）</b></p><p data-pid=\"vXd4491U\">如果你更喜欢命令行操作，或者需要进行自动化脚本处理，CLI 方式更合适。</p><ol><li data-pid=\"hicxuuYw\"><b>准备配置文件</b>：参考项目 <b>examples</b> 目录下的配置文件（如 <b>examples/train_lora/llama3_lora_sft.yaml</b>）。</li><li data-pid=\"9UgKs1Vl\"><b>修改配置文件</b>：指定模型路径、数据集名称、训练参数等。</li><li data-pid=\"RdFeDn-d\"><b>启动训练</b>：</li></ol><div class=\"highlight\"><pre><code class=\"language-text\"># 在容器内执行\nCUDA_VISIBLE_DEVICES=0 llamafactory-cli train examples/train_lora/llama3_lora_sft.yaml</code></pre></div><ul><ul><li data-pid=\"arbKSdP6\"><b>CUDA_VISIBLE_DEVICES=0</b> 指定使用第一块 GPU。</li></ul></ul><p data-pid=\"JUWwWfcl\"><b>4.2 训练注意事项</b></p><ul><li data-pid=\"_svAoO04\"><b>显存管理</b>：根据你的 GPU 显存调整 <b>per_device_train_batch_size</b> 和 <b>gradient_accumulation_steps</b>。如果遇到 OOM（内存溢出）错误，请减小批次大小或使用 QLoRA 等更节省显存的方法。</li><li data-pid=\"wI-o7z2v\"><b>性能优化</b>：可以尝试启用 <b>DeepSpeed</b>（配置 <b>deepspeed</b> 参数）或 <b>Unsloth</b>（添加 <b>--use_unsloth True</b> 参数）来加速训练并减少显存消耗。注意，Unsloth 可能需要额外的安装步骤。</li><li data-pid=\"ZJ0BLgJN\"><b>模型缓存</b>：建议将 Hugging Face 模型缓存目录 (<b>~/.cache/huggingface/</b>) 通过 <b>-v</b> 参数挂载到主机，避免每次重启容器后重复下载模型。</li></ul><p data-pid=\"noxjtHzS\"><b>5. 模型推理、测试与导出</b></p><p data-pid=\"0lZQ1eEb\">训练完成后，你可以对微调后的模型进行测试和导出。</p><p data-pid=\"qZCvukIJ\"><b>5.1 使用 Web UI 进行聊天测试</b></p><ol><li data-pid=\"YKbQFgOL\">启动 Web UI（同上）：<b>llamafactory-cli webui</b>。</li><li data-pid=\"94GeZ4HE\">在 <b>Chat</b> 标签页中：</li></ol><ul><li data-pid=\"A_cpVDMw\">选择或输入模型路径。</li><li data-pid=\"_4B2ucCS\">如果使用 LoRA 等适配器微调，需要在 <b>Adapter</b> 选项中选择对应的适配器检查点路径（通常在 <b>output</b> 目录下）。</li><li data-pid=\"APOz367m\">在下方输入框与模型进行对话，测试微调效果。</li></ul><p data-pid=\"MLG1PFH-\"><b>5.2 使用命令行进行推理</b></p><div class=\"highlight\"><pre><code class=\"language-text\"># 在容器内执行\nCUDA_VISIBLE_DEVICES=0 llamafactory-cli chat examples/inference/llama3_lora_sft.yaml</code></pre></div><p data-pid=\"_hh9GRvh\">你需要准备并修改对应的推理配置文件，指定模型和适配器路径。</p><p data-pid=\"9LkWNkhA\"><b>5.3 模型导出与部署</b></p><p data-pid=\"5tlMTYOO\"><b>5.3.1 合并 LoRA 适配器（如果使用了 LoRA）</b></p><p data-pid=\"Gy__jjiH\">如果你希望将微调得到的 LoRA 权重合并到基础模型中，得到一个完整的、可独立部署的模型，可以执行：</p><div class=\"highlight\"><pre><code class=\"language-text\"># 在容器内执行\nCUDA_VISIBLE_DEVICES=0 llamafactory-cli export examples/merge_lora/llama3_lora_sft.yaml</code></pre></div><p data-pid=\"20z1OtwC\">合并后的模型将保存在配置文件中指定的 <b>output_dir</b> 目录。</p><p data-pid=\"xgwWc4R_\"><b>5.3.2 转换为 GGUF 格式（用于 Ollama 等框架）</b></p><p data-pid=\"Lr02oUuf\">合并后的模型可以转换为 GGUF 格式，以便在 Ollama 或其他支持该格式的推理引擎中使用7。</p><ol><li data-pid=\"Ha43YEgb\"><b>获取转换工具</b>：</li></ol><div class=\"highlight\"><pre><code class=\"language-text\">git clone https://github.com/ggerganov/llama.cpp.git\npip install -r llama.cpp/requirements.txt</code></pre></div><ol><li data-pid=\"ShcZX2hp\"><b>执行转换</b>：</li></ol><div class=\"highlight\"><pre><code class=\"language-text\">python llama.cpp/convert-hf-to-gguf.py /path/to/your/merged_model --outfile my-model.fp16.gguf --outtype f16</code></pre></div><ol><li data-pid=\"aXoodI1W\"><b>在 Ollama 中使用</b>：</li></ol><ul><li data-pid=\"Q2Mh951r\">创建一个 Modelfile：</li></ul><p data-pid=\"mzzNxCFC\">text</p><p data-pid=\"EiOw5uUS\">FROM ./my-model.fp16.gguf</p><p data-pid=\"ixGshVwr\"># 添加适当的模板，例如对于 Llama 3：</p><p data-pid=\"AdaLcElO\">TEMPLATE &#34;{{ if .System }}&lt;|start_header_id|&gt;system&lt;|end_header_id|&gt;\\n\\n{{ .System }}&lt;|eot_id|&gt;{{ end }}{{ if .Prompt }}&lt;|start_header_id|&gt;user&lt;|end_header_id|&gt;\\n\\n{{ .Prompt }}&lt;|eot_id|&gt;{{ end }}&lt;|start_header_id|&gt;assistant&lt;|end_header_id|&gt;\\n\\n{{ .Response }}&lt;|eot_id|&gt;&#34;</p><ul><ul><li data-pid=\"ZQcYlFTi\">创建并运行模型：</li></ul></ul><div class=\"highlight\"><pre><code class=\"language-text\">ollama create my-model -f Modelfile\nollama run my-model</code></pre></div><p data-pid=\"MRF9DXXq\"><b>6. 进阶配置与优化</b></p><p data-pid=\"4Q7G961p\"><b>6.1 多卡分布式训练</b></p><p data-pid=\"9Yd_mGTU\">对于更大的模型或更快的训练速度，可以使用多 GPU 进行分布式训练。</p><ul><li data-pid=\"_xJwsojV\"><b>使用 accelerate 配置</b>：LLaMA-Factory 集成了 Hugging Face Accelerate 库。你可能需要配置 <b>/root/.cache/huggingface/accelerate/default_config.yaml</b> 文件来设置分布式训练参数（如 <b>deepspeed_config</b>）。</li><li data-pid=\"WIk7eZd0\"><b>使用 Docker Compose 扩展</b>：确保 Docker Compose 配置能够访问所有 GPU (<b>docker compose.yml</b> 中配置 <b>deploy</b> 资源或使用 <b>--gpus all</b>)。</li></ul><p data-pid=\"plsv4GRW\"><b>6.2 自定义 Docker 镜像</b></p><p data-pid=\"MTKc9Z6d\">如果你有特殊需求（如特定版本的库、额外工具），可以基于提供的 Dockerfile 进行自定义构建。</p><div class=\"highlight\"><pre><code class=\"language-text\"># 示例：基于官方CUDA镜像构建，安装中文依赖和常用工具\nFROM nvidia/cuda:12.4.1-cudnn-devel-ubuntu22.04\nENV DEBIAN_FRONTEND=noninteractive\nRUN apt-get update &amp;&amp; apt-get install -y wget git vim unzip fonts-wqy-microhei\n# ... 其余步骤参考 LLaMA-Factory 的 Dockerfile 或上文手动构建部分</code></pre></div><p data-pid=\"09O5vHFJ\">构建自定义镜像：<b>docker build -t my-llamafactory:latest .</b></p><p data-pid=\"EUe9tIfF\"><b>7. 故障排除与常见问题</b></p><table data-draft-node=\"block\" data-draft-type=\"table\" data-size=\"normal\" data-row-style=\"normal\"><tbody><tr><td>问题现象</td><td>可能原因及解决方案</td></tr><tr><td>Docker 构建时无法下载依赖或镜像</td><td>更换国内镜像源（如清华大学源）。在 Dockerfile 中使用 pip install -i <a href=\"https://link.zhihu.com/?target=https%3A//pypi.tuna.tsinghua.edu.cn/simple\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">pypi.tuna.tsinghua.edu.cn</span><span class=\"invisible\">/simple</span><span class=\"ellipsis\"></span></a> some-package。检查网络连接。</td></tr><tr><td>训练时 GPU 显存不足 (OOM)</td><td>减小 per_device_train_batch_size。增加 gradient_accumulation_steps 补偿。尝试使用 --fp16 或 --bf16。使用 QLoRA 而非全量微调。使用梯度检查点 (gradient checkpointing)。</td></tr><tr><td>训练速度很慢</td><td>启用 DeepSpeed Stage 2 或 33。尝试使用 Unsloth (如果支持)6。检查 CPU 内存是否不足导致频繁交换。检查 Docker 的共享内存 (--shm-size) 是否设置过小。</td></tr><tr><td>Web UI 无法访问或报错</td><td>检查 Docker 容器的端口映射是否正确（主机端口:容器端口，容器内默认是7860）。检查防火墙设置。</td></tr><tr><td>无法识别自定义数据集</td><td>检查数据格式是否正确（JSON/JSONL）。确认是否在 data/dataset_info.json 中添加了数据集信息5。检查文件路径和挂载点是否正确。</td></tr><tr><td>cannot allocate memory in static TLS block</td><td>在容器内的 ~/.bashrc 中添加 export LD_PRELOAD=... 并 source ~/.bashrc4。</td></tr></tbody></table><p data-pid=\"A4uYWQXn\">希望这份详细的指南能帮助你顺利完成 LLaMA-Factory 的 Docker 化部署和模型微调工作。如果在实际操作中遇到更多问题，查阅项目的 GitHub Issues 和官方文档通常能找到解决方案。</p><p data-pid=\"eqckC2CW\">全套的 AI 大模型学习资源已经整理打包，有需要的可以<b>点击下方知乎小卡片前往免费获取↓</b>↓↓↓</p><a href=\"https://zhuanlan.zhihu.com/p/1938650842937942448\" data-draft-node=\"block\" data-draft-type=\"link-card\" class=\"internal\">2025大模型全套入门学习教程：免费分享AI大模型入门学习教程</a><p></p>",
        "is_labeled": false,
        "visited_count": 39,
        "favorite_count": 3,
        "article_type": "normal",
        "is_navigator": false,
        "navigator_vote": false,
        "vote_next_step": "vote"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"article\", \"id\": 1941515527517368861}",
      "attached_info": "CqsGCLrX0La6yJHvlgEQBxoJMjYxOTg5Mzc4IIaMlsUGKAMwAEDoBEojChhUU19TT1VSQ0VfV0FSTV9VUF9CT09TVDESATAYACAAOgBKLQoiVFNfU09VUkNFX1dBUk1fVVBfSElHSF9JTlRFUkFDVElPThIBMBgAIAA6AGIgZjA3NWJiMDBjMjlmNGMzMzYyNWE1OWJiMzUxYWUwYTdyEzE5NDE1MTU1Mjc1MTczNjg4NjGqAQlyZWNvbW1lbmTCASBhNzQ3MzgwNDE2ODMyYmQ4ZWM2OWM0MmUxMzU5MWY5YvIBCggMEgZOb3JtYWzyASgIChIkMjAxZDY5ZGEtMjU2Ny00ZDk2LTlhOWUtMzZkZTZjNzkyMTM28gEHCAsSAzEwM4ICAIgC5dLO+YwzkgIgYTc0NzM4MDQxNjgzMmJkOGVjNjljNDJlMTM1OTFmOWKaAgDKAhZTaG9ySW50ZXJlc3RXZWlnaHRSdWxlygIVVXNlckxjbkV4aXRXZWlnaHRSdWxlygITRW1iU2ltSXNvbGF0aW9uUnVsZcoCHEJheWVzRmlyc3RMZXZlbElzb2xhdGlvblJ1bGXKAhpDb250ZW50V2FybVVwSXNvbGF0aW9uUnVsZcoCGENvbnRlbnRXYXJtVXBCcmVha0luUnVsZdoCGFRTX1NPVVJDRV9XQVJNX1VQX0JPT1NUMegCAvoCC05PUk1BTF9GTE9XigMgNTdhNzE5MTZjY2E2NGQ0MTlkZjZmNWUwMWNmYmY3MjeaAw0KAnYyEAAaBW90aGVyqAMn2AMA6gMedGV4dF9oaWdoX2ludGVyYWN0aW9uX3JlY2FsbGVy+gMfEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERYAEAIgEAJIEBk5vcm1hbJoEATKgBACoBACwBAC6BAJhacIEAzQwMMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAA4MoRgj+BBQAAAAAAAAAAiQX9q3S8DFTZP5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AVnkAYAoAbuBKgGAZICLgoJMjYxOTg5Mzc4EhMxOTQxNTE1NTI3NTE3MzY4ODYxGAciCklNQUdFX1RFWFQ=",
      "action_card": false
    },
    {
      "id": "617_1755822926.813",
      "type": "feed",
      "offset": 617,
      "verb": "TOPIC_ACKNOWLEDGED_ANSWER",
      "created_time": 1755822926,
      "updated_time": 1755822926,
      "target": {
        "id": "3575624105",
        "type": "answer",
        "url": "https://api.zhihu.com/answers/3575624105",
        "author": {
          "id": "f3e822822d7c993b72a35c762e233d18",
          "url": "https://api.zhihu.com/people/f3e822822d7c993b72a35c762e233d18",
          "user_type": "people",
          "url_token": "83-77-24-58",
          "name": "向祥子卡卡敬礼",
          "headline": "周秦汉晋，关陇隋唐",
          "avatar_url": "https://picx.zhimg.com/50/v2-b410893b96ae419ccbb3525a359ed054_l.jpg?source=b6762063",
          "is_org": false,
          "gender": 0,
          "followers_count": 5139,
          "is_following": false,
          "is_followed": false
        },
        "created_time": 1722090922,
        "updated_time": 1722091375,
        "voteup_count": 7850,
        "thanks_count": 474,
        "comment_count": 587,
        "is_copyable": false,
        "question": {
          "id": "380243657",
          "type": "question",
          "url": "https://api.zhihu.com/questions/380243657",
          "author": {
            "id": "a58302891060a33db53872dc830057c2",
            "url": "https://api.zhihu.com/people/a58302891060a33db53872dc830057c2",
            "user_type": "people",
            "url_token": "yun-hu-2018",
            "name": "云湖2018",
            "headline": "",
            "avatar_url": "https://picx.zhimg.com/50/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=b6762063",
            "is_org": false,
            "gender": -1,
            "followers_count": 33,
            "is_following": false,
            "is_followed": false
          },
          "title": "民国亡于没有军事人才吗？",
          "created": 1584438500,
          "answer_count": 0,
          "follower_count": 0,
          "comment_count": 14,
          "bound_topic_ids": [
            1234,
            1711,
            49344
          ],
          "is_following": false,
          "excerpt": "",
          "relationship": {
            "is_author": false
          },
          "detail": "",
          "question_type": "normal"
        },
        "excerpt": "知道杨永泰不，此人乃蒋介石首席智囊，其战略眼光独具，策略歹毒，红军差点葬于他手 他提出各项政策招招致命，帮助蒋介石完成北伐整合了军阀，吞并各地方势力。特别是针对不同军阀给出不同的方案，因地制宜，因人设事 他初见蒋介石献策“经济手段瓦解冯玉祥、以政治手段解决阎锡山、以军事手段对抗李宗仁、以外交手段对付张学良。”，后来蒋介石正是凭借此战略赢得军阀混战，吃掉各路诸侯 杨永泰认真分析了前三次“剿共”失败的…",
        "excerpt_new": "知道杨永泰不，此人乃蒋介石首席智囊，其战略眼光独具，策略歹毒，红军差点葬于他手 他提出各项政策招招致命，帮助蒋介石完成北伐整合了军阀，吞并各地方势力。特别是针对不同军阀给出不同的方案，因地制宜，因人设事 他初见蒋介石献策“经济手段瓦解冯玉祥、以政治手段解决阎锡山、以军事手段对抗李宗仁、以外交手段对付张学良。”，后来蒋介石正是凭借此战略赢得军阀混战，吃掉各路诸侯 杨永泰认真分析了前三次“剿共”失败的…",
        "preview_type": "default",
        "preview_text": "",
        "reshipment_settings": "disallowed",
        "content": "<p data-pid=\"kFlGlURw\">知道杨永泰不，此人乃蒋介石首席智囊，其战略眼光独具，策略歹毒，红军差点葬于他手</p><p data-pid=\"BNT3EKFv\">他提出各项政策招招致命，帮助蒋介石完成北伐整合了军阀，吞并各地方势力。特别是针对不同军阀给出不同的方案，因地制宜，因人设事</p><p data-pid=\"qNLJ6Ehy\">他初见蒋介石献策“经济手段瓦解冯玉祥、以政治手段解决阎锡山、以军事手段对抗李宗仁、以外交手段对付张学良。”，后来蒋介石正是凭借此战略赢得军阀混战，吃掉各路诸侯</p><p data-pid=\"NHLT9GuK\">杨永泰认真分析了前三次“剿共”失败的原因，发现蒋的失策在于把红军看成与北洋军阀一样的军队。实际上，红军绝非乌合之众，而是一支不怕死、不受抚、不感恩、不惧威的真正“党军”</p><p data-pid=\"c5jhAH01\">红军的最大不同是实行政治建军，兵民一体，上下同心，因此必须采取新的策略才能“剿”灭。红军既然是靠政治起家的，那就来个“政治剿匪”——“三分军事，七分政治”</p><blockquote data-pid=\"Vn1p6o1g\">“我之所言新的谋略，意即剿共实行三分军事，七分政治。所谓七分政治，在吾，则加强对匪区民众管理，加强对匪区民众宣传，澄清吏治，务使土豪恶霸横行乡里者灭绝<br/><br/>对贫穷困苦无孤者，给予救济，对匪区民众日常生话给予指导和帮助。这样，渐使匪区民众日益脱离共党，不为共党所左右。达此目的，即剿共不愁也<br/><br/>所谓三分军事，在下大力于上述诸务中，然后派重兵对匪区共党实行严厉的围剿，务使除恶务尽，不留后患。同时对投诚者，要给予宽大和出路，实行先生之剿抚兼施。吾认为，如实行三分军事，七分政治，变军事剿共为政治剿共，不出一年，会初见成效</blockquote><p data-pid=\"V7LPmN44\">结果正好一年时间，五次反围剿惨败，红军苏区根据地经济崩溃，被迫转移</p><p data-pid=\"ihupf7iz\">驱虎吞狼之毒计</p><blockquote data-pid=\"eaflirsO\">“应撤销南昌行营，改设重庆行营，一来可以继续追剿‘共匪’，二来中央军队可以入川，达到统一四川的目的。中央军进入四川以后立刻进行政改：打破防区划分，重新划定18个行政专署，由省政府派人担任专员；原来的地方官立即调动，由省府重新任命，对原来官员进行专门培训。”</blockquote><p data-pid=\"_t5N_a5i\">有人问这样一个人，他的一些观点和我党的政策类似，他为什么不投共？</p><p data-pid=\"1m-eMjSK\">原因很简单，他是活在历史中的人，他的权谋完全是中华传统的权谋框架，是服务于帝王的再宰辅之才定位。学成文武艺，货与帝王家，封建思想在杨这样人的脑海里根深蒂固。我给他的评价是中国最后一个谋主</p><p data-pid=\"zLOxREP8\">杨永泰是受完整封建体系教育的“秀才”，他一辈子最大的梦想就是“了却君王天下事，留得生前身后名”</p><h2>杨永泰的悲剧说明了为什么共产党的早期领袖们冒死也要自己拉旗自立门户，在国民党的框架内根本不可能允许你改革，进行一些表面功夫还好，真正动到既得利益真大地主阶层的利益的时候，就是杀身之祸</h2><h2>杨永泰被暗杀和四一二有一定的相似之处，杨永泰在一个腐败的框架之内进行大刀阔斧的改革，必然伤害到了国党背后大地主阶层的利益，因此他只有死路一条。当年大革命，国共一家也是遇到相同的情况，共产党的工农运动必然的伤害了大地主大资家的利益，以及意识形态上不可调和的矛盾，所以国民党右派悍然发动清党</h2>",
        "relationship": {
          "is_thanked": false,
          "is_nothelp": false,
          "voting": 0
        },
        "is_labeled": false,
        "visited_count": 733477,
        "favorite_count": 5490,
        "answer_type": "normal",
        "is_navigator": false,
        "navigator_vote": false,
        "vote_next_step": "vote"
      },
      "brief": "{\"source\": \"TS\", \"type\": \"answer\", \"id\": 3575624105}",
      "attached_info": "CooGCLrX0La6yJHvlgEQBBoJNjgwMTgzNTY3IKqLlLUGKKo9MMsEQOkESisKFlRTX1NPVVJDRV9GRUVEUkVfTVNfVjISATAYACAAOgp7InJhdyI6IiJ9Sj8KKlRTX1NPVVJDRV9aUkVDQUxMX0ZFRURSRV9ORVdCSUVfSE9VUkxZX1JVTRIBMBgAIAA6CnsicmF3IjoiIn1aCDQ2Nzc3MDcxYiBmMDc1YmIwMGMyOWY0YzMzNjI1YTU5YmIzNTFhZTBhN3IKMzU3NTYyNDEwNYoBCTM4MDI0MzY1N6oBCXJlY29tbWVuZMIBIGYzZTgyMjgyMmQ3Yzk5M2I3MmEzNWM3NjJlMjMzZDE48gEKCAwSBk5vcm1hbPIBKAgKEiRiYTI4MmVhNC0wM2M2LTQxYjQtOGMzNi0wNDM4NzY3OTNjYzHyAQcICxIDMTAzggIAiALl0s75jDOSAiBmM2U4MjI4MjJkN2M5OTNiNzJhMzVjNzYyZTIzM2QxOJoCAMoCFlNob3JJbnRlcmVzdFdlaWdodFJ1bGXKAhZBY3Rpb25TaG9ySW50ZXJlc3RSdWxlygIVVXNlckxjbkV4aXRXZWlnaHRSdWxlygIUQ29udGVudEFnZVdlaWdodFJ1bGXaAhZUU19TT1VSQ0VfRkVFRFJFX01TX1Yy6AID+gILTk9STUFMX0ZMT1eKAyA1N2E3MTkxNmNjYTY0ZDQxOWRmNmY1ZTAxY2ZiZjcyN5oDDQoCdjIQABoFb3RoZXKoA6XiLNgDAOoDDmZlZWRyZV9tc19nYXRl+gMfEgxVTktOT1dOX01PREUgACoNTk9fSU1BR0VfTU9ERYAEAIgEAJIEBk5vcm1hbJoEATOgBACoBACwBAC6BAZtYW51YWzCBAIzMMgEANIED+aOqOiNkOW3suabtOaWsNgEAPAEAPkEAAAAIIq9sj+BBQAAAAAAAAAAiQX9q3S8DFTZP5IFAJoFA2RmdKIFA2RmdLIFATG5BQAAAAAAAAAA0AUA4AUA6AUA8AVnkAYAoAbvBKgGAJICJQoJNjgwMTgzNTY3EgozNTc1NjI0MTA1GAQiCklNQUdFX1RFWFQ=",
      "action_card": false
    }
  ],
  "paging": {
    "is_end": false,
    "is_start": false,
    "next": "https://www.zhihu.com/api/v3/feed/topstory/recommend?action=down&ad_interval=-10&after_id=617&desktop=true&end_offset=623&page_number=104&session_token=f075bb00c29f4c33625a59bb351ae0a7",
    "previous": "https://www.zhihu.com/api/v3/feed/topstory/recommend?action=pull&ad_interval=-10&before_id=617&desktop=true&end_offset=623&page_number=104&session_token=f075bb00c29f4c33625a59bb351ae0a7",
    "totals": 0
  },
  "fresh_text": "推荐已更新"
}